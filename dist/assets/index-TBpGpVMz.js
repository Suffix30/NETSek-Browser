(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const p of o.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hu={exports:{}},po={},Fu={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qn=Symbol.for("react.element"),Wf=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),qf=Symbol.for("react.provider"),Gf=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Yf=Symbol.for("react.suspense"),Qf=Symbol.for("react.memo"),Jf=Symbol.for("react.lazy"),fc=Symbol.iterator;function ep(e){return e===null||typeof e!="object"?null:(e=fc&&e[fc]||e["@@iterator"],typeof e=="function"?e:null)}var zu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$u=Object.assign,Uu={};function ji(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||zu}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Wu(){}Wu.prototype=ji.prototype;function pl(e,t,r){this.props=e,this.context=t,this.refs=Uu,this.updater=r||zu}var _l=pl.prototype=new Wu;_l.constructor=pl;$u(_l,ji.prototype);_l.isPureReactComponent=!0;var pc=Array.isArray,Vu=Object.prototype.hasOwnProperty,gl={current:null},Ku={key:!0,ref:!0,__self:!0,__source:!0};function Zu(e,t,r){var i,n={},o=null,p=null;if(t!=null)for(i in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(o=""+t.key),t)Vu.call(t,i)&&!Ku.hasOwnProperty(i)&&(n[i]=t[i]);var s=arguments.length-2;if(s===1)n.children=r;else if(1<s){for(var a=Array(s),d=0;d<s;d++)a[d]=arguments[d+2];n.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps,s)n[i]===void 0&&(n[i]=s[i]);return{$$typeof:qn,type:e,key:o,ref:p,props:n,_owner:gl.current}}function tp(e,t){return{$$typeof:qn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vl(e){return typeof e=="object"&&e!==null&&e.$$typeof===qn}function rp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var _c=/\/+/g;function Io(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rp(""+e.key):t.toString(36)}function ws(e,t,r,i,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var p=!1;if(e===null)p=!0;else switch(o){case"string":case"number":p=!0;break;case"object":switch(e.$$typeof){case qn:case Wf:p=!0}}if(p)return p=e,n=n(p),e=i===""?"."+Io(p,0):i,pc(n)?(r="",e!=null&&(r=e.replace(_c,"$&/")+"/"),ws(n,t,r,"",function(d){return d})):n!=null&&(vl(n)&&(n=tp(n,r+(!n.key||p&&p.key===n.key?"":(""+n.key).replace(_c,"$&/")+"/")+e)),t.push(n)),1;if(p=0,i=i===""?".":i+":",pc(e))for(var s=0;s<e.length;s++){o=e[s];var a=i+Io(o,s);p+=ws(o,t,r,a,n)}else if(a=ep(e),typeof a=="function")for(e=a.call(e),s=0;!(o=e.next()).done;)o=o.value,a=i+Io(o,s++),p+=ws(o,t,r,a,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function rs(e,t,r){if(e==null)return e;var i=[],n=0;return ws(e,i,"","",function(o){return t.call(r,o,n++)}),i}function ip(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},Cs={transition:null},np={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:gl};function qu(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:rs,forEach:function(e,t,r){rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return rs(e,function(){t++}),t},toArray:function(e){return rs(e,function(t){return t})||[]},only:function(e){if(!vl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Component=ji;de.Fragment=Vf;de.Profiler=Zf;de.PureComponent=pl;de.StrictMode=Kf;de.Suspense=Yf;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=np;de.act=qu;de.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=$u({},e.props),n=e.key,o=e.ref,p=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,p=gl.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(a in t)Vu.call(t,a)&&!Ku.hasOwnProperty(a)&&(i[a]=t[a]===void 0&&s!==void 0?s[a]:t[a])}var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){s=Array(a);for(var d=0;d<a;d++)s[d]=arguments[d+2];i.children=s}return{$$typeof:qn,type:e.type,key:n,ref:o,props:i,_owner:p}};de.createContext=function(e){return e={$$typeof:Gf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qf,_context:e},e.Consumer=e};de.createElement=Zu;de.createFactory=function(e){var t=Zu.bind(null,e);return t.type=e,t};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Xf,render:e}};de.isValidElement=vl;de.lazy=function(e){return{$$typeof:Jf,_payload:{_status:-1,_result:e},_init:ip}};de.memo=function(e,t){return{$$typeof:Qf,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=Cs.transition;Cs.transition={};try{e()}finally{Cs.transition=t}};de.unstable_act=qu;de.useCallback=function(e,t){return Je.current.useCallback(e,t)};de.useContext=function(e){return Je.current.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};de.useEffect=function(e,t){return Je.current.useEffect(e,t)};de.useId=function(){return Je.current.useId()};de.useImperativeHandle=function(e,t,r){return Je.current.useImperativeHandle(e,t,r)};de.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};de.useMemo=function(e,t){return Je.current.useMemo(e,t)};de.useReducer=function(e,t,r){return Je.current.useReducer(e,t,r)};de.useRef=function(e){return Je.current.useRef(e)};de.useState=function(e){return Je.current.useState(e)};de.useSyncExternalStore=function(e,t,r){return Je.current.useSyncExternalStore(e,t,r)};de.useTransition=function(){return Je.current.useTransition()};de.version="18.3.1";Fu.exports=de;var ae=Fu.exports;const qt=ju(ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=ae,op=Symbol.for("react.element"),ap=Symbol.for("react.fragment"),lp=Object.prototype.hasOwnProperty,cp=sp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,up={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,r){var i,n={},o=null,p=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(p=t.ref);for(i in t)lp.call(t,i)&&!up.hasOwnProperty(i)&&(n[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)n[i]===void 0&&(n[i]=t[i]);return{$$typeof:op,type:e,key:o,ref:p,props:n,_owner:cp.current}}po.Fragment=ap;po.jsx=Gu;po.jsxs=Gu;Hu.exports=po;var D=Hu.exports,Xu={exports:{}},ft={},Yu={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,T){var A=E.length;E.push(T);e:for(;0<A;){var N=A-1>>>1,U=E[N];if(0<n(U,T))E[N]=T,E[A]=U,A=N;else break e}}function r(E){return E.length===0?null:E[0]}function i(E){if(E.length===0)return null;var T=E[0],A=E.pop();if(A!==T){E[0]=A;e:for(var N=0,U=E.length,I=U>>>1;N<I;){var $=2*(N+1)-1,K=E[$],ee=$+1,L=E[ee];if(0>n(K,A))ee<U&&0>n(L,K)?(E[N]=L,E[ee]=A,N=ee):(E[N]=K,E[$]=A,N=$);else if(ee<U&&0>n(L,A))E[N]=L,E[ee]=A,N=ee;else break e}}return T}function n(E,T){var A=E.sortIndex-T.sortIndex;return A!==0?A:E.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var p=Date,s=p.now();e.unstable_now=function(){return p.now()-s}}var a=[],d=[],_=1,f=null,v=3,w=!1,C=!1,S=!1,h=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,l=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function c(E){for(var T=r(d);T!==null;){if(T.callback===null)i(d);else if(T.startTime<=E)i(d),T.sortIndex=T.expirationTime,t(a,T);else break;T=r(d)}}function g(E){if(S=!1,c(E),!C)if(r(a)!==null)C=!0,V(y);else{var T=r(d);T!==null&&W(g,T.startTime-E)}}function y(E,T){C=!1,S&&(S=!1,u(m),m=-1),w=!0;var A=v;try{for(c(T),f=r(a);f!==null&&(!(f.expirationTime>T)||E&&!M());){var N=f.callback;if(typeof N=="function"){f.callback=null,v=f.priorityLevel;var U=N(f.expirationTime<=T);T=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(a)&&i(a),c(T)}else i(a);f=r(a)}if(f!==null)var I=!0;else{var $=r(d);$!==null&&W(g,$.startTime-T),I=!1}return I}finally{f=null,v=A,w=!1}}var x=!1,b=null,m=-1,k=5,R=-1;function M(){return!(e.unstable_now()-R<k)}function O(){if(b!==null){var E=e.unstable_now();R=E;var T=!0;try{T=b(!0,E)}finally{T?P():(x=!1,b=null)}}else x=!1}var P;if(typeof l=="function")P=function(){l(O)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,F=j.port2;j.port1.onmessage=O,P=function(){F.postMessage(null)}}else P=function(){h(O,0)};function V(E){b=E,x||(x=!0,P())}function W(E,T){m=h(function(){E(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){C||w||(C=!0,V(y))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(E){switch(v){case 1:case 2:case 3:var T=3;break;default:T=v}var A=v;v=T;try{return E()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,T){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var A=v;v=E;try{return T()}finally{v=A}},e.unstable_scheduleCallback=function(E,T,A){var N=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?N+A:N):A=N,E){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=A+U,E={id:_++,callback:T,priorityLevel:E,startTime:A,expirationTime:U,sortIndex:-1},A>N?(E.sortIndex=A,t(d,E),r(a)===null&&E===r(d)&&(S?(u(m),m=-1):S=!0,W(g,A-N))):(E.sortIndex=U,t(a,E),C||w||(C=!0,V(y))),E},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(E){var T=v;return function(){var A=v;v=T;try{return E.apply(this,arguments)}finally{v=A}}}})(Qu);Yu.exports=Qu;var hp=Yu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dp=ae,dt=hp;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,pn={};function ei(e,t){Li(e,t),Li(e+"Capture",t)}function Li(e,t){for(pn[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fa=Object.prototype.hasOwnProperty,fp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gc={},vc={};function pp(e){return fa.call(vc,e)?!0:fa.call(gc,e)?!1:fp.test(e)?vc[e]=!0:(gc[e]=!0,!1)}function _p(e,t,r,i){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function gp(e,t,r,i){if(t===null||typeof t>"u"||_p(e,t,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,r,i,n,o,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=p}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var ml=/[\-:]([a-z])/g;function yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ml,yl);ze[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ml,yl);ze[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ml,yl);ze[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sl(e,t,r,i){var n=ze.hasOwnProperty(t)?ze[t]:null;(n!==null?n.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(gp(t,r,n,i)&&(r=null),i||n===null?pp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,i=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?e.setAttributeNS(i,t,r):e.setAttribute(t,r))))}var ir=dp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),si=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),wl=Symbol.for("react.strict_mode"),pa=Symbol.for("react.profiler"),eh=Symbol.for("react.provider"),th=Symbol.for("react.context"),Cl=Symbol.for("react.forward_ref"),_a=Symbol.for("react.suspense"),ga=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),lr=Symbol.for("react.lazy"),rh=Symbol.for("react.offscreen"),mc=Symbol.iterator;function Ui(e){return e===null||typeof e!="object"?null:(e=mc&&e[mc]||e["@@iterator"],typeof e=="function"?e:null)}var Te=Object.assign,Bo;function Yi(e){if(Bo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bo=t&&t[1]||""}return`
`+Bo+e}var jo=!1;function Ho(e,t){if(!e||jo)return"";jo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var i=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){i=d}e.call(t.prototype)}else{try{throw Error()}catch(d){i=d}e()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),o=i.stack.split(`
`),p=n.length-1,s=o.length-1;1<=p&&0<=s&&n[p]!==o[s];)s--;for(;1<=p&&0<=s;p--,s--)if(n[p]!==o[s]){if(p!==1||s!==1)do if(p--,s--,0>s||n[p]!==o[s]){var a=`
`+n[p].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=p&&0<=s);break}}}finally{jo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yi(e):""}function vp(e){switch(e.tag){case 5:return Yi(e.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 2:case 15:return e=Ho(e.type,!1),e;case 11:return e=Ho(e.type.render,!1),e;case 1:return e=Ho(e.type,!0),e;default:return""}}function va(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oi:return"Fragment";case si:return"Portal";case pa:return"Profiler";case wl:return"StrictMode";case _a:return"Suspense";case ga:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case th:return(e.displayName||"Context")+".Consumer";case eh:return(e._context.displayName||"Context")+".Provider";case Cl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xl:return t=e.displayName||null,t!==null?t:va(e.type)||"Memo";case lr:t=e._payload,e=e._init;try{return va(e(t))}catch{}}return null}function mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return va(t);case 8:return t===wl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yp(e){var t=ih(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(p){i=""+p,o.call(this,p)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=yp(e))}function nh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),i="";return e&&(i=ih(e)?e.checked?"true":"false":e.value),e=i,e!==r?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var r=t.checked;return Te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yc(e,t){var r=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;r=kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:i,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sh(e,t){t=t.checked,t!=null&&Sl(e,"checked",t,!1)}function ya(e,t){sh(e,t);var r=kr(t.value),i=t.type;if(r!=null)i==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sa(e,t.type,r):t.hasOwnProperty("defaultValue")&&Sa(e,t.type,kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Sa(e,t,r){(t!=="number"||Is(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Qi=Array.isArray;function yi(e,t,r,i){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&i&&(e[r].defaultSelected=!0)}else{for(r=""+kr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,i&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function wa(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Qi(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:kr(r)}}function oh(e,t){var r=kr(t.value),i=kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),i!=null&&(e.defaultValue=""+i)}function Cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ah(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ah(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,lh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,i,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,i,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _n(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sp=["Webkit","ms","Moz","O"];Object.keys(nn).forEach(function(e){Sp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nn[t]=nn[e]})});function ch(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nn.hasOwnProperty(e)&&nn[e]?(""+t).trim():t+"px"}function uh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=ch(r,t[r],i);r==="float"&&(r="cssFloat"),i?e.setProperty(r,n):e[r]=n}}var wp=Te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(wp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ka=null;function bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ea=null,Si=null,wi=null;function xc(e){if(e=Yn(e)){if(typeof Ea!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=yo(t),Ea(e.stateNode,e.type,t))}}function hh(e){Si?wi?wi.push(e):wi=[e]:Si=e}function dh(){if(Si){var e=Si,t=wi;if(wi=Si=null,xc(e),t)for(e=0;e<t.length;e++)xc(t[e])}}function fh(e,t){return e(t)}function ph(){}var Fo=!1;function _h(e,t,r){if(Fo)return e(t,r);Fo=!0;try{return fh(e,t,r)}finally{Fo=!1,(Si!==null||wi!==null)&&(ph(),dh())}}function gn(e,t){var r=e.stateNode;if(r===null)return null;var i=yo(r);if(i===null)return null;r=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var La=!1;if(Qt)try{var Wi={};Object.defineProperty(Wi,"passive",{get:function(){La=!0}}),window.addEventListener("test",Wi,Wi),window.removeEventListener("test",Wi,Wi)}catch{La=!1}function Cp(e,t,r,i,n,o,p,s,a){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(_){this.onError(_)}}var sn=!1,Bs=null,js=!1,Ra=null,xp={onError:function(e){sn=!0,Bs=e}};function bp(e,t,r,i,n,o,p,s,a){sn=!1,Bs=null,Cp.apply(xp,arguments)}function kp(e,t,r,i,n,o,p,s,a){if(bp.apply(this,arguments),sn){if(sn){var d=Bs;sn=!1,Bs=null}else throw Error(Z(198));js||(js=!0,Ra=d)}}function ti(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function gh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function bc(e){if(ti(e)!==e)throw Error(Z(188))}function Ep(e){var t=e.alternate;if(!t){if(t=ti(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,i=t;;){var n=r.return;if(n===null)break;var o=n.alternate;if(o===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return bc(n),e;if(o===i)return bc(n),t;o=o.sibling}throw Error(Z(188))}if(r.return!==i.return)r=n,i=o;else{for(var p=!1,s=n.child;s;){if(s===r){p=!0,r=n,i=o;break}if(s===i){p=!0,i=n,r=o;break}s=s.sibling}if(!p){for(s=o.child;s;){if(s===r){p=!0,r=o,i=n;break}if(s===i){p=!0,i=o,r=n;break}s=s.sibling}if(!p)throw Error(Z(189))}}if(r.alternate!==i)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function vh(e){return e=Ep(e),e!==null?mh(e):null}function mh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mh(e);if(t!==null)return t;e=e.sibling}return null}var yh=dt.unstable_scheduleCallback,kc=dt.unstable_cancelCallback,Lp=dt.unstable_shouldYield,Rp=dt.unstable_requestPaint,Oe=dt.unstable_now,Tp=dt.unstable_getCurrentPriorityLevel,kl=dt.unstable_ImmediatePriority,Sh=dt.unstable_UserBlockingPriority,Hs=dt.unstable_NormalPriority,Dp=dt.unstable_LowPriority,wh=dt.unstable_IdlePriority,_o=null,Ft=null;function Ap(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(_o,e,void 0,(e.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Pp,Op=Math.log,Mp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Op(e)/Mp|0)|0}var os=64,as=4194304;function Ji(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fs(e,t){var r=e.pendingLanes;if(r===0)return 0;var i=0,n=e.suspendedLanes,o=e.pingedLanes,p=r&268435455;if(p!==0){var s=p&~n;s!==0?i=Ji(s):(o&=p,o!==0&&(i=Ji(o)))}else p=r&~n,p!==0?i=Ji(p):o!==0&&(i=Ji(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&n)&&(n=i&-i,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(i&4&&(i|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)r=31-Rt(t),n=1<<r,i|=e[r],t&=~n;return i}function Np(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ip(e,t){for(var r=e.suspendedLanes,i=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var p=31-Rt(o),s=1<<p,a=n[p];a===-1?(!(s&r)||s&i)&&(n[p]=Np(s,t)):a<=t&&(e.expiredLanes|=s),o&=~s}}function Ta(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ch(){var e=os;return os<<=1,!(os&4194240)&&(os=64),e}function zo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rt(t),e[t]=r}function Bp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Rt(r),o=1<<n;t[n]=0,i[n]=-1,e[n]=-1,r&=~o}}function El(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var i=31-Rt(r),n=1<<i;n&t|e[i]&t&&(e[i]|=t),r&=~n}}var we=0;function xh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bh,Ll,kh,Eh,Lh,Da=!1,ls=[],vr=null,mr=null,yr=null,vn=new Map,mn=new Map,ur=[],jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ec(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":vn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mn.delete(t.pointerId)}}function Vi(e,t,r,i,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:i,nativeEvent:o,targetContainers:[n]},t!==null&&(t=Yn(t),t!==null&&Ll(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Hp(e,t,r,i,n){switch(t){case"focusin":return vr=Vi(vr,e,t,r,i,n),!0;case"dragenter":return mr=Vi(mr,e,t,r,i,n),!0;case"mouseover":return yr=Vi(yr,e,t,r,i,n),!0;case"pointerover":var o=n.pointerId;return vn.set(o,Vi(vn.get(o)||null,e,t,r,i,n)),!0;case"gotpointercapture":return o=n.pointerId,mn.set(o,Vi(mn.get(o)||null,e,t,r,i,n)),!0}return!1}function Rh(e){var t=zr(e.target);if(t!==null){var r=ti(t);if(r!==null){if(t=r.tag,t===13){if(t=gh(r),t!==null){e.blockedOn=t,Lh(e.priority,function(){kh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Aa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var i=new r.constructor(r.type,r);ka=i,r.target.dispatchEvent(i),ka=null}else return t=Yn(r),t!==null&&Ll(t),e.blockedOn=r,!1;t.shift()}return!0}function Lc(e,t,r){xs(e)&&r.delete(t)}function Fp(){Da=!1,vr!==null&&xs(vr)&&(vr=null),mr!==null&&xs(mr)&&(mr=null),yr!==null&&xs(yr)&&(yr=null),vn.forEach(Lc),mn.forEach(Lc)}function Ki(e,t){e.blockedOn===t&&(e.blockedOn=null,Da||(Da=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Fp)))}function yn(e){function t(n){return Ki(n,e)}if(0<ls.length){Ki(ls[0],e);for(var r=1;r<ls.length;r++){var i=ls[r];i.blockedOn===e&&(i.blockedOn=null)}}for(vr!==null&&Ki(vr,e),mr!==null&&Ki(mr,e),yr!==null&&Ki(yr,e),vn.forEach(t),mn.forEach(t),r=0;r<ur.length;r++)i=ur[r],i.blockedOn===e&&(i.blockedOn=null);for(;0<ur.length&&(r=ur[0],r.blockedOn===null);)Rh(r),r.blockedOn===null&&ur.shift()}var Ci=ir.ReactCurrentBatchConfig,zs=!0;function zp(e,t,r,i){var n=we,o=Ci.transition;Ci.transition=null;try{we=1,Rl(e,t,r,i)}finally{we=n,Ci.transition=o}}function $p(e,t,r,i){var n=we,o=Ci.transition;Ci.transition=null;try{we=4,Rl(e,t,r,i)}finally{we=n,Ci.transition=o}}function Rl(e,t,r,i){if(zs){var n=Aa(e,t,r,i);if(n===null)Yo(e,t,i,$s,r),Ec(e,i);else if(Hp(n,e,t,r,i))i.stopPropagation();else if(Ec(e,i),t&4&&-1<jp.indexOf(e)){for(;n!==null;){var o=Yn(n);if(o!==null&&bh(o),o=Aa(e,t,r,i),o===null&&Yo(e,t,i,$s,r),o===n)break;n=o}n!==null&&i.stopPropagation()}else Yo(e,t,i,null,r)}}var $s=null;function Aa(e,t,r,i){if($s=null,e=bl(i),e=zr(e),e!==null)if(t=ti(e),t===null)e=null;else if(r=t.tag,r===13){if(e=gh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function Th(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tp()){case kl:return 1;case Sh:return 4;case Hs:case Dp:return 16;case wh:return 536870912;default:return 16}default:return 16}}var fr=null,Tl=null,bs=null;function Dh(){if(bs)return bs;var e,t=Tl,r=t.length,i,n="value"in fr?fr.value:fr.textContent,o=n.length;for(e=0;e<r&&t[e]===n[e];e++);var p=r-e;for(i=1;i<=p&&t[r-i]===n[o-i];i++);return bs=n.slice(e,1<i?1-i:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Rc(){return!1}function pt(e){function t(r,i,n,o,p){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=o,this.target=p,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?cs:Rc,this.isPropagationStopped=Rc,this}return Te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=pt(Hi),Xn=Te({},Hi,{view:0,detail:0}),Up=pt(Xn),$o,Uo,Zi,go=Te({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?($o=e.screenX-Zi.screenX,Uo=e.screenY-Zi.screenY):Uo=$o=0,Zi=e),$o)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),Tc=pt(go),Wp=Te({},go,{dataTransfer:0}),Vp=pt(Wp),Kp=Te({},Xn,{relatedTarget:0}),Wo=pt(Kp),Zp=Te({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),qp=pt(Zp),Gp=Te({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xp=pt(Gp),Yp=Te({},Hi,{data:0}),Dc=pt(Yp),Qp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=e_[e])?!!t[e]:!1}function Al(){return t_}var r_=Te({},Xn,{key:function(e){if(e.key){var t=Qp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i_=pt(r_),n_=Te({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=pt(n_),s_=Te({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),o_=pt(s_),a_=Te({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=pt(a_),c_=Te({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=pt(c_),h_=[9,13,27,32],Ol=Qt&&"CompositionEvent"in window,on=null;Qt&&"documentMode"in document&&(on=document.documentMode);var d_=Qt&&"TextEvent"in window&&!on,Ah=Qt&&(!Ol||on&&8<on&&11>=on),Oc=" ",Mc=!1;function Oh(e,t){switch(e){case"keyup":return h_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function f_(e,t){switch(e){case"compositionend":return Mh(t);case"keypress":return t.which!==32?null:(Mc=!0,Oc);case"textInput":return e=t.data,e===Oc&&Mc?null:e;default:return null}}function p_(e,t){if(ai)return e==="compositionend"||!Ol&&Oh(e,t)?(e=Dh(),bs=Tl=fr=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ah&&t.locale!=="ko"?null:t.data;default:return null}}var __={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!__[e.type]:t==="textarea"}function Ph(e,t,r,i){hh(i),t=Us(t,"onChange"),0<t.length&&(r=new Dl("onChange","change",null,r,i),e.push({event:r,listeners:t}))}var an=null,Sn=null;function g_(e){Vh(e,0)}function vo(e){var t=ui(e);if(nh(t))return e}function v_(e,t){if(e==="change")return t}var Nh=!1;if(Qt){var Vo;if(Qt){var Ko="oninput"in document;if(!Ko){var Nc=document.createElement("div");Nc.setAttribute("oninput","return;"),Ko=typeof Nc.oninput=="function"}Vo=Ko}else Vo=!1;Nh=Vo&&(!document.documentMode||9<document.documentMode)}function Ic(){an&&(an.detachEvent("onpropertychange",Ih),Sn=an=null)}function Ih(e){if(e.propertyName==="value"&&vo(Sn)){var t=[];Ph(t,Sn,e,bl(e)),_h(g_,t)}}function m_(e,t,r){e==="focusin"?(Ic(),an=t,Sn=r,an.attachEvent("onpropertychange",Ih)):e==="focusout"&&Ic()}function y_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vo(Sn)}function S_(e,t){if(e==="click")return vo(t)}function w_(e,t){if(e==="input"||e==="change")return vo(t)}function C_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:C_;function wn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!fa.call(t,n)||!At(e[n],t[n]))return!1}return!0}function Bc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,t){var r=Bc(e);e=0;for(var i;r;){if(r.nodeType===3){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Bc(r)}}function Bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=Is();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Is(e.document)}return t}function Ml(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x_(e){var t=jh(),r=e.focusedElem,i=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bh(r.ownerDocument.documentElement,r)){if(i!==null&&Ml(r)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,o=Math.min(i.start,n);i=i.end===void 0?o:Math.min(i.end,n),!e.extend&&o>i&&(n=i,i=o,o=n),n=jc(r,o);var p=jc(r,i);n&&p&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b_=Qt&&"documentMode"in document&&11>=document.documentMode,li=null,Oa=null,ln=null,Ma=!1;function Hc(e,t,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ma||li==null||li!==Is(i)||(i=li,"selectionStart"in i&&Ml(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ln&&wn(ln,i)||(ln=i,i=Us(Oa,"onSelect"),0<i.length&&(t=new Dl("onSelect","select",null,t,r),e.push({event:t,listeners:i}),t.target=li)))}function us(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ci={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Zo={},Hh={};Qt&&(Hh=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);function mo(e){if(Zo[e])return Zo[e];if(!ci[e])return e;var t=ci[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Hh)return Zo[e]=t[r];return e}var Fh=mo("animationend"),zh=mo("animationiteration"),$h=mo("animationstart"),Uh=mo("transitionend"),Wh=new Map,Fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Wh.set(e,t),ei(t,[e])}for(var qo=0;qo<Fc.length;qo++){var Go=Fc[qo],k_=Go.toLowerCase(),E_=Go[0].toUpperCase()+Go.slice(1);Ar(k_,"on"+E_)}Ar(Fh,"onAnimationEnd");Ar(zh,"onAnimationIteration");Ar($h,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Uh,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ei("onBeforeInput",["compositionend","keypress","textInput","paste"]);ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var en="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L_=new Set("cancel close invalid load scroll toggle".split(" ").concat(en));function zc(e,t,r){var i=e.type||"unknown-event";e.currentTarget=r,kp(i,t,void 0,e),e.currentTarget=null}function Vh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var i=e[r],n=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var p=i.length-1;0<=p;p--){var s=i[p],a=s.instance,d=s.currentTarget;if(s=s.listener,a!==o&&n.isPropagationStopped())break e;zc(n,s,d),o=a}else for(p=0;p<i.length;p++){if(s=i[p],a=s.instance,d=s.currentTarget,s=s.listener,a!==o&&n.isPropagationStopped())break e;zc(n,s,d),o=a}}}if(js)throw e=Ra,js=!1,Ra=null,e}function xe(e,t){var r=t[ja];r===void 0&&(r=t[ja]=new Set);var i=e+"__bubble";r.has(i)||(Kh(t,e,2,!1),r.add(i))}function Xo(e,t,r){var i=0;t&&(i|=4),Kh(r,e,i,t)}var hs="_reactListening"+Math.random().toString(36).slice(2);function Cn(e){if(!e[hs]){e[hs]=!0,Ju.forEach(function(r){r!=="selectionchange"&&(L_.has(r)||Xo(r,!1,e),Xo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hs]||(t[hs]=!0,Xo("selectionchange",!1,t))}}function Kh(e,t,r,i){switch(Th(t)){case 1:var n=zp;break;case 4:n=$p;break;default:n=Rl}r=n.bind(null,t,r,e),n=void 0,!La||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),i?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Yo(e,t,r,i,n){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var s=i.stateNode.containerInfo;if(s===n||s.nodeType===8&&s.parentNode===n)break;if(p===4)for(p=i.return;p!==null;){var a=p.tag;if((a===3||a===4)&&(a=p.stateNode.containerInfo,a===n||a.nodeType===8&&a.parentNode===n))return;p=p.return}for(;s!==null;){if(p=zr(s),p===null)return;if(a=p.tag,a===5||a===6){i=o=p;continue e}s=s.parentNode}}i=i.return}_h(function(){var d=o,_=bl(r),f=[];e:{var v=Wh.get(e);if(v!==void 0){var w=Dl,C=e;switch(e){case"keypress":if(ks(r)===0)break e;case"keydown":case"keyup":w=i_;break;case"focusin":C="focus",w=Wo;break;case"focusout":C="blur",w=Wo;break;case"beforeblur":case"afterblur":w=Wo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=o_;break;case Fh:case zh:case $h:w=qp;break;case Uh:w=l_;break;case"scroll":w=Up;break;case"wheel":w=u_;break;case"copy":case"cut":case"paste":w=Xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Ac}var S=(t&4)!==0,h=!S&&e==="scroll",u=S?v!==null?v+"Capture":null:v;S=[];for(var l=d,c;l!==null;){c=l;var g=c.stateNode;if(c.tag===5&&g!==null&&(c=g,u!==null&&(g=gn(l,u),g!=null&&S.push(xn(l,g,c)))),h)break;l=l.return}0<S.length&&(v=new w(v,C,null,r,_),f.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",v&&r!==ka&&(C=r.relatedTarget||r.fromElement)&&(zr(C)||C[Jt]))break e;if((w||v)&&(v=_.window===_?_:(v=_.ownerDocument)?v.defaultView||v.parentWindow:window,w?(C=r.relatedTarget||r.toElement,w=d,C=C?zr(C):null,C!==null&&(h=ti(C),C!==h||C.tag!==5&&C.tag!==6)&&(C=null)):(w=null,C=d),w!==C)){if(S=Tc,g="onMouseLeave",u="onMouseEnter",l="mouse",(e==="pointerout"||e==="pointerover")&&(S=Ac,g="onPointerLeave",u="onPointerEnter",l="pointer"),h=w==null?v:ui(w),c=C==null?v:ui(C),v=new S(g,l+"leave",w,r,_),v.target=h,v.relatedTarget=c,g=null,zr(_)===d&&(S=new S(u,l+"enter",C,r,_),S.target=c,S.relatedTarget=h,g=S),h=g,w&&C)t:{for(S=w,u=C,l=0,c=S;c;c=ii(c))l++;for(c=0,g=u;g;g=ii(g))c++;for(;0<l-c;)S=ii(S),l--;for(;0<c-l;)u=ii(u),c--;for(;l--;){if(S===u||u!==null&&S===u.alternate)break t;S=ii(S),u=ii(u)}S=null}else S=null;w!==null&&$c(f,v,w,S,!1),C!==null&&h!==null&&$c(f,h,C,S,!0)}}e:{if(v=d?ui(d):window,w=v.nodeName&&v.nodeName.toLowerCase(),w==="select"||w==="input"&&v.type==="file")var y=v_;else if(Pc(v))if(Nh)y=w_;else{y=y_;var x=m_}else(w=v.nodeName)&&w.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(y=S_);if(y&&(y=y(e,d))){Ph(f,y,r,_);break e}x&&x(e,v,d),e==="focusout"&&(x=v._wrapperState)&&x.controlled&&v.type==="number"&&Sa(v,"number",v.value)}switch(x=d?ui(d):window,e){case"focusin":(Pc(x)||x.contentEditable==="true")&&(li=x,Oa=d,ln=null);break;case"focusout":ln=Oa=li=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,Hc(f,r,_);break;case"selectionchange":if(b_)break;case"keydown":case"keyup":Hc(f,r,_)}var b;if(Ol)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else ai?Oh(e,r)&&(m="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(m="onCompositionStart");m&&(Ah&&r.locale!=="ko"&&(ai||m!=="onCompositionStart"?m==="onCompositionEnd"&&ai&&(b=Dh()):(fr=_,Tl="value"in fr?fr.value:fr.textContent,ai=!0)),x=Us(d,m),0<x.length&&(m=new Dc(m,e,null,r,_),f.push({event:m,listeners:x}),b?m.data=b:(b=Mh(r),b!==null&&(m.data=b)))),(b=d_?f_(e,r):p_(e,r))&&(d=Us(d,"onBeforeInput"),0<d.length&&(_=new Dc("onBeforeInput","beforeinput",null,r,_),f.push({event:_,listeners:d}),_.data=b))}Vh(f,t)})}function xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Us(e,t){for(var r=t+"Capture",i=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=gn(e,r),o!=null&&i.unshift(xn(e,o,n)),o=gn(e,t),o!=null&&i.push(xn(e,o,n))),e=e.return}return i}function ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $c(e,t,r,i,n){for(var o=t._reactName,p=[];r!==null&&r!==i;){var s=r,a=s.alternate,d=s.stateNode;if(a!==null&&a===i)break;s.tag===5&&d!==null&&(s=d,n?(a=gn(r,o),a!=null&&p.unshift(xn(r,a,s))):n||(a=gn(r,o),a!=null&&p.push(xn(r,a,s)))),r=r.return}p.length!==0&&e.push({event:t,listeners:p})}var R_=/\r\n?/g,T_=/\u0000|\uFFFD/g;function Uc(e){return(typeof e=="string"?e:""+e).replace(R_,`
`).replace(T_,"")}function ds(e,t,r){if(t=Uc(t),Uc(e)!==t&&r)throw Error(Z(425))}function Ws(){}var Pa=null,Na=null;function Ia(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ba=typeof setTimeout=="function"?setTimeout:void 0,D_=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,A_=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(e){return Wc.resolve(null).then(e).catch(O_)}:Ba;function O_(e){setTimeout(function(){throw e})}function Qo(e,t){var r=t,i=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){e.removeChild(n),yn(t);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);yn(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fi=Math.random().toString(36).slice(2),jt="__reactFiber$"+Fi,bn="__reactProps$"+Fi,Jt="__reactContainer$"+Fi,ja="__reactEvents$"+Fi,M_="__reactListeners$"+Fi,P_="__reactHandles$"+Fi;function zr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jt]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vc(e);e!==null;){if(r=e[jt])return r;e=Vc(e)}return t}e=r,r=e.parentNode}return null}function Yn(e){return e=e[jt]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function yo(e){return e[bn]||null}var Ha=[],hi=-1;function Or(e){return{current:e}}function be(e){0>hi||(e.current=Ha[hi],Ha[hi]=null,hi--)}function Ce(e,t){hi++,Ha[hi]=e.current,e.current=t}var Er={},Ze=Or(Er),st=Or(!1),Zr=Er;function Ri(e,t){var r=e.type.contextTypes;if(!r)return Er;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in r)n[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function ot(e){return e=e.childContextTypes,e!=null}function Vs(){be(st),be(Ze)}function Kc(e,t,r){if(Ze.current!==Er)throw Error(Z(168));Ce(Ze,t),Ce(st,r)}function Zh(e,t,r){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in t))throw Error(Z(108,mp(e)||"Unknown",n));return Te({},r,i)}function Ks(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Zr=Ze.current,Ce(Ze,e),Ce(st,st.current),!0}function Zc(e,t,r){var i=e.stateNode;if(!i)throw Error(Z(169));r?(e=Zh(e,t,Zr),i.__reactInternalMemoizedMergedChildContext=e,be(st),be(Ze),Ce(Ze,e)):be(st),Ce(st,r)}var Zt=null,So=!1,Jo=!1;function qh(e){Zt===null?Zt=[e]:Zt.push(e)}function N_(e){So=!0,qh(e)}function Mr(){if(!Jo&&Zt!==null){Jo=!0;var e=0,t=we;try{var r=Zt;for(we=1;e<r.length;e++){var i=r[e];do i=i(!0);while(i!==null)}Zt=null,So=!1}catch(n){throw Zt!==null&&(Zt=Zt.slice(e+1)),yh(kl,Mr),n}finally{we=t,Jo=!1}}return null}var di=[],fi=0,Zs=null,qs=0,vt=[],mt=0,qr=null,Gt=1,Xt="";function Hr(e,t){di[fi++]=qs,di[fi++]=Zs,Zs=e,qs=t}function Gh(e,t,r){vt[mt++]=Gt,vt[mt++]=Xt,vt[mt++]=qr,qr=e;var i=Gt;e=Xt;var n=32-Rt(i)-1;i&=~(1<<n),r+=1;var o=32-Rt(t)+n;if(30<o){var p=n-n%5;o=(i&(1<<p)-1).toString(32),i>>=p,n-=p,Gt=1<<32-Rt(t)+n|r<<n|i,Xt=o+e}else Gt=1<<o|r<<n|i,Xt=e}function Pl(e){e.return!==null&&(Hr(e,1),Gh(e,1,0))}function Nl(e){for(;e===Zs;)Zs=di[--fi],di[fi]=null,qs=di[--fi],di[fi]=null;for(;e===qr;)qr=vt[--mt],vt[mt]=null,Xt=vt[--mt],vt[mt]=null,Gt=vt[--mt],vt[mt]=null}var ut=null,ct=null,ke=!1,Et=null;function Xh(e,t){var r=yt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ut=e,ct=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ut=e,ct=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qr!==null?{id:Gt,overflow:Xt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=yt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ut=e,ct=null,!0):!1;default:return!1}}function Fa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function za(e){if(ke){var t=ct;if(t){var r=t;if(!qc(e,t)){if(Fa(e))throw Error(Z(418));t=Sr(r.nextSibling);var i=ut;t&&qc(e,t)?Xh(i,r):(e.flags=e.flags&-4097|2,ke=!1,ut=e)}}else{if(Fa(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ke=!1,ut=e}}}function Gc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ut=e}function ps(e){if(e!==ut)return!1;if(!ke)return Gc(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ia(e.type,e.memoizedProps)),t&&(t=ct)){if(Fa(e))throw Yh(),Error(Z(418));for(;t;)Xh(e,t),t=Sr(t.nextSibling)}if(Gc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ct=Sr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ct=null}}else ct=ut?Sr(e.stateNode.nextSibling):null;return!0}function Yh(){for(var e=ct;e;)e=Sr(e.nextSibling)}function Ti(){ct=ut=null,ke=!1}function Il(e){Et===null?Et=[e]:Et.push(e)}var I_=ir.ReactCurrentBatchConfig;function qi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var i=r.stateNode}if(!i)throw Error(Z(147,e));var n=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(p){var s=n.refs;p===null?delete s[o]:s[o]=p},t._stringRef=o,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function Qh(e){function t(u,l){if(e){var c=u.deletions;c===null?(u.deletions=[l],u.flags|=16):c.push(l)}}function r(u,l){if(!e)return null;for(;l!==null;)t(u,l),l=l.sibling;return null}function i(u,l){for(u=new Map;l!==null;)l.key!==null?u.set(l.key,l):u.set(l.index,l),l=l.sibling;return u}function n(u,l){return u=br(u,l),u.index=0,u.sibling=null,u}function o(u,l,c){return u.index=c,e?(c=u.alternate,c!==null?(c=c.index,c<l?(u.flags|=2,l):c):(u.flags|=2,l)):(u.flags|=1048576,l)}function p(u){return e&&u.alternate===null&&(u.flags|=2),u}function s(u,l,c,g){return l===null||l.tag!==6?(l=oa(c,u.mode,g),l.return=u,l):(l=n(l,c),l.return=u,l)}function a(u,l,c,g){var y=c.type;return y===oi?_(u,l,c.props.children,g,c.key):l!==null&&(l.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===lr&&Xc(y)===l.type)?(g=n(l,c.props),g.ref=qi(u,l,c),g.return=u,g):(g=Os(c.type,c.key,c.props,null,u.mode,g),g.ref=qi(u,l,c),g.return=u,g)}function d(u,l,c,g){return l===null||l.tag!==4||l.stateNode.containerInfo!==c.containerInfo||l.stateNode.implementation!==c.implementation?(l=aa(c,u.mode,g),l.return=u,l):(l=n(l,c.children||[]),l.return=u,l)}function _(u,l,c,g,y){return l===null||l.tag!==7?(l=Vr(c,u.mode,g,y),l.return=u,l):(l=n(l,c),l.return=u,l)}function f(u,l,c){if(typeof l=="string"&&l!==""||typeof l=="number")return l=oa(""+l,u.mode,c),l.return=u,l;if(typeof l=="object"&&l!==null){switch(l.$$typeof){case is:return c=Os(l.type,l.key,l.props,null,u.mode,c),c.ref=qi(u,null,l),c.return=u,c;case si:return l=aa(l,u.mode,c),l.return=u,l;case lr:var g=l._init;return f(u,g(l._payload),c)}if(Qi(l)||Ui(l))return l=Vr(l,u.mode,c,null),l.return=u,l;_s(u,l)}return null}function v(u,l,c,g){var y=l!==null?l.key:null;if(typeof c=="string"&&c!==""||typeof c=="number")return y!==null?null:s(u,l,""+c,g);if(typeof c=="object"&&c!==null){switch(c.$$typeof){case is:return c.key===y?a(u,l,c,g):null;case si:return c.key===y?d(u,l,c,g):null;case lr:return y=c._init,v(u,l,y(c._payload),g)}if(Qi(c)||Ui(c))return y!==null?null:_(u,l,c,g,null);_s(u,c)}return null}function w(u,l,c,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return u=u.get(c)||null,s(l,u,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case is:return u=u.get(g.key===null?c:g.key)||null,a(l,u,g,y);case si:return u=u.get(g.key===null?c:g.key)||null,d(l,u,g,y);case lr:var x=g._init;return w(u,l,c,x(g._payload),y)}if(Qi(g)||Ui(g))return u=u.get(c)||null,_(l,u,g,y,null);_s(l,g)}return null}function C(u,l,c,g){for(var y=null,x=null,b=l,m=l=0,k=null;b!==null&&m<c.length;m++){b.index>m?(k=b,b=null):k=b.sibling;var R=v(u,b,c[m],g);if(R===null){b===null&&(b=k);break}e&&b&&R.alternate===null&&t(u,b),l=o(R,l,m),x===null?y=R:x.sibling=R,x=R,b=k}if(m===c.length)return r(u,b),ke&&Hr(u,m),y;if(b===null){for(;m<c.length;m++)b=f(u,c[m],g),b!==null&&(l=o(b,l,m),x===null?y=b:x.sibling=b,x=b);return ke&&Hr(u,m),y}for(b=i(u,b);m<c.length;m++)k=w(b,u,m,c[m],g),k!==null&&(e&&k.alternate!==null&&b.delete(k.key===null?m:k.key),l=o(k,l,m),x===null?y=k:x.sibling=k,x=k);return e&&b.forEach(function(M){return t(u,M)}),ke&&Hr(u,m),y}function S(u,l,c,g){var y=Ui(c);if(typeof y!="function")throw Error(Z(150));if(c=y.call(c),c==null)throw Error(Z(151));for(var x=y=null,b=l,m=l=0,k=null,R=c.next();b!==null&&!R.done;m++,R=c.next()){b.index>m?(k=b,b=null):k=b.sibling;var M=v(u,b,R.value,g);if(M===null){b===null&&(b=k);break}e&&b&&M.alternate===null&&t(u,b),l=o(M,l,m),x===null?y=M:x.sibling=M,x=M,b=k}if(R.done)return r(u,b),ke&&Hr(u,m),y;if(b===null){for(;!R.done;m++,R=c.next())R=f(u,R.value,g),R!==null&&(l=o(R,l,m),x===null?y=R:x.sibling=R,x=R);return ke&&Hr(u,m),y}for(b=i(u,b);!R.done;m++,R=c.next())R=w(b,u,m,R.value,g),R!==null&&(e&&R.alternate!==null&&b.delete(R.key===null?m:R.key),l=o(R,l,m),x===null?y=R:x.sibling=R,x=R);return e&&b.forEach(function(O){return t(u,O)}),ke&&Hr(u,m),y}function h(u,l,c,g){if(typeof c=="object"&&c!==null&&c.type===oi&&c.key===null&&(c=c.props.children),typeof c=="object"&&c!==null){switch(c.$$typeof){case is:e:{for(var y=c.key,x=l;x!==null;){if(x.key===y){if(y=c.type,y===oi){if(x.tag===7){r(u,x.sibling),l=n(x,c.props.children),l.return=u,u=l;break e}}else if(x.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===lr&&Xc(y)===x.type){r(u,x.sibling),l=n(x,c.props),l.ref=qi(u,x,c),l.return=u,u=l;break e}r(u,x);break}else t(u,x);x=x.sibling}c.type===oi?(l=Vr(c.props.children,u.mode,g,c.key),l.return=u,u=l):(g=Os(c.type,c.key,c.props,null,u.mode,g),g.ref=qi(u,l,c),g.return=u,u=g)}return p(u);case si:e:{for(x=c.key;l!==null;){if(l.key===x)if(l.tag===4&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){r(u,l.sibling),l=n(l,c.children||[]),l.return=u,u=l;break e}else{r(u,l);break}else t(u,l);l=l.sibling}l=aa(c,u.mode,g),l.return=u,u=l}return p(u);case lr:return x=c._init,h(u,l,x(c._payload),g)}if(Qi(c))return C(u,l,c,g);if(Ui(c))return S(u,l,c,g);_s(u,c)}return typeof c=="string"&&c!==""||typeof c=="number"?(c=""+c,l!==null&&l.tag===6?(r(u,l.sibling),l=n(l,c),l.return=u,u=l):(r(u,l),l=oa(c,u.mode,g),l.return=u,u=l),p(u)):r(u,l)}return h}var Di=Qh(!0),Jh=Qh(!1),Gs=Or(null),Xs=null,pi=null,Bl=null;function jl(){Bl=pi=Xs=null}function Hl(e){var t=Gs.current;be(Gs),e._currentValue=t}function $a(e,t,r){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===r)break;e=e.return}}function xi(e,t){Xs=e,Bl=pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(Bl!==e)if(e={context:e,memoizedValue:t,next:null},pi===null){if(Xs===null)throw Error(Z(308));pi=e,Xs.dependencies={lanes:0,firstContext:e}}else pi=pi.next=e;return t}var $r=null;function Fl(e){$r===null?$r=[e]:$r.push(e)}function ed(e,t,r,i){var n=t.interleaved;return n===null?(r.next=r,Fl(t)):(r.next=n.next,n.next=r),t.interleaved=r,er(e,i)}function er(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var cr=!1;function zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function td(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function wr(e,t,r){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,_e&2){var n=i.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),i.pending=t,er(e,r)}return n=i.interleaved,n===null?(t.next=t,Fl(i)):(t.next=n.next,n.next=t),i.interleaved=t,er(e,r)}function Es(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,El(e,r)}}function Yc(e,t){var r=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?n=o=p:o=o.next=p,r=r.next}while(r!==null);o===null?n=o=t:o=o.next=t}else n=o=t;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ys(e,t,r,i){var n=e.updateQueue;cr=!1;var o=n.firstBaseUpdate,p=n.lastBaseUpdate,s=n.shared.pending;if(s!==null){n.shared.pending=null;var a=s,d=a.next;a.next=null,p===null?o=d:p.next=d,p=a;var _=e.alternate;_!==null&&(_=_.updateQueue,s=_.lastBaseUpdate,s!==p&&(s===null?_.firstBaseUpdate=d:s.next=d,_.lastBaseUpdate=a))}if(o!==null){var f=n.baseState;p=0,_=d=a=null,s=o;do{var v=s.lane,w=s.eventTime;if((i&v)===v){_!==null&&(_=_.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var C=e,S=s;switch(v=t,w=r,S.tag){case 1:if(C=S.payload,typeof C=="function"){f=C.call(w,f,v);break e}f=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=S.payload,v=typeof C=="function"?C.call(w,f,v):C,v==null)break e;f=Te({},f,v);break e;case 2:cr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,v=n.effects,v===null?n.effects=[s]:v.push(s))}else w={eventTime:w,lane:v,tag:s.tag,payload:s.payload,callback:s.callback,next:null},_===null?(d=_=w,a=f):_=_.next=w,p|=v;if(s=s.next,s===null){if(s=n.shared.pending,s===null)break;v=s,s=v.next,v.next=null,n.lastBaseUpdate=v,n.shared.pending=null}}while(!0);if(_===null&&(a=f),n.baseState=a,n.firstBaseUpdate=d,n.lastBaseUpdate=_,t=n.shared.interleaved,t!==null){n=t;do p|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);Xr|=p,e.lanes=p,e.memoizedState=f}}function Qc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(Z(191,n));n.call(i)}}}var Qn={},zt=Or(Qn),kn=Or(Qn),En=Or(Qn);function Ur(e){if(e===Qn)throw Error(Z(174));return e}function $l(e,t){switch(Ce(En,t),Ce(kn,e),Ce(zt,Qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ca(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ca(t,e)}be(zt),Ce(zt,t)}function Ai(){be(zt),be(kn),be(En)}function rd(e){Ur(En.current);var t=Ur(zt.current),r=Ca(t,e.type);t!==r&&(Ce(kn,e),Ce(zt,r))}function Ul(e){kn.current===e&&(be(zt),be(kn))}var Le=Or(0);function Qs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ea=[];function Wl(){for(var e=0;e<ea.length;e++)ea[e]._workInProgressVersionPrimary=null;ea.length=0}var Ls=ir.ReactCurrentDispatcher,ta=ir.ReactCurrentBatchConfig,Gr=0,Re=null,Ne=null,Be=null,Js=!1,cn=!1,Ln=0,B_=0;function Ue(){throw Error(Z(321))}function Vl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!At(e[r],t[r]))return!1;return!0}function Kl(e,t,r,i,n,o){if(Gr=o,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ls.current=e===null||e.memoizedState===null?z_:$_,e=r(i,n),cn){o=0;do{if(cn=!1,Ln=0,25<=o)throw Error(Z(301));o+=1,Be=Ne=null,t.updateQueue=null,Ls.current=U_,e=r(i,n)}while(cn)}if(Ls.current=eo,t=Ne!==null&&Ne.next!==null,Gr=0,Be=Ne=Re=null,Js=!1,t)throw Error(Z(300));return e}function Zl(){var e=Ln!==0;return Ln=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Re.memoizedState=Be=e:Be=Be.next=e,Be}function Ct(){if(Ne===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Be===null?Re.memoizedState:Be.next;if(t!==null)Be=t,Ne=e;else{if(e===null)throw Error(Z(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Be===null?Re.memoizedState=Be=e:Be=Be.next=e}return Be}function Rn(e,t){return typeof t=="function"?t(e):t}function ra(e){var t=Ct(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var i=Ne,n=i.baseQueue,o=r.pending;if(o!==null){if(n!==null){var p=n.next;n.next=o.next,o.next=p}i.baseQueue=n=o,r.pending=null}if(n!==null){o=n.next,i=i.baseState;var s=p=null,a=null,d=o;do{var _=d.lane;if((Gr&_)===_)a!==null&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var f={lane:_,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};a===null?(s=a=f,p=i):a=a.next=f,Re.lanes|=_,Xr|=_}d=d.next}while(d!==null&&d!==o);a===null?p=i:a.next=s,At(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=a,r.lastRenderedState=i}if(e=r.interleaved,e!==null){n=e;do o=n.lane,Re.lanes|=o,Xr|=o,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ia(e){var t=Ct(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var i=r.dispatch,n=r.pending,o=t.memoizedState;if(n!==null){r.pending=null;var p=n=n.next;do o=e(o,p.action),p=p.next;while(p!==n);At(o,t.memoizedState)||(nt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,i]}function id(){}function nd(e,t){var r=Re,i=Ct(),n=t(),o=!At(i.memoizedState,n);if(o&&(i.memoizedState=n,nt=!0),i=i.queue,ql(ad.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||Be!==null&&Be.memoizedState.tag&1){if(r.flags|=2048,Tn(9,od.bind(null,r,i,n,t),void 0,null),je===null)throw Error(Z(349));Gr&30||sd(r,t,n)}return n}function sd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function od(e,t,r,i){t.value=r,t.getSnapshot=i,ld(t)&&cd(e)}function ad(e,t,r){return r(function(){ld(t)&&cd(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!At(e,r)}catch{return!0}}function cd(e){var t=er(e,1);t!==null&&Tt(t,e,1,-1)}function Jc(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t.queue=e,e=e.dispatch=F_.bind(null,Re,e),[t.memoizedState,e]}function Tn(e,t,r,i){return e={tag:e,create:t,destroy:r,deps:i,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(i=r.next,r.next=e,e.next=i,t.lastEffect=e)),e}function ud(){return Ct().memoizedState}function Rs(e,t,r,i){var n=Bt();Re.flags|=e,n.memoizedState=Tn(1|t,r,void 0,i===void 0?null:i)}function wo(e,t,r,i){var n=Ct();i=i===void 0?null:i;var o=void 0;if(Ne!==null){var p=Ne.memoizedState;if(o=p.destroy,i!==null&&Vl(i,p.deps)){n.memoizedState=Tn(t,r,o,i);return}}Re.flags|=e,n.memoizedState=Tn(1|t,r,o,i)}function eu(e,t){return Rs(8390656,8,e,t)}function ql(e,t){return wo(2048,8,e,t)}function hd(e,t){return wo(4,2,e,t)}function dd(e,t){return wo(4,4,e,t)}function fd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pd(e,t,r){return r=r!=null?r.concat([e]):null,wo(4,4,fd.bind(null,t,e),r)}function Gl(){}function _d(e,t){var r=Ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Vl(t,i[1])?i[0]:(r.memoizedState=[e,t],e)}function gd(e,t){var r=Ct();t=t===void 0?null:t;var i=r.memoizedState;return i!==null&&t!==null&&Vl(t,i[1])?i[0]:(e=e(),r.memoizedState=[e,t],e)}function vd(e,t,r){return Gr&21?(At(r,t)||(r=Ch(),Re.lanes|=r,Xr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=r)}function j_(e,t){var r=we;we=r!==0&&4>r?r:4,e(!0);var i=ta.transition;ta.transition={};try{e(!1),t()}finally{we=r,ta.transition=i}}function md(){return Ct().memoizedState}function H_(e,t,r){var i=xr(e);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},yd(e))Sd(t,r);else if(r=ed(e,t,r,i),r!==null){var n=Ye();Tt(r,e,i,n),wd(r,t,i)}}function F_(e,t,r){var i=xr(e),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(yd(e))Sd(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var p=t.lastRenderedState,s=o(p,r);if(n.hasEagerState=!0,n.eagerState=s,At(s,p)){var a=t.interleaved;a===null?(n.next=n,Fl(t)):(n.next=a.next,a.next=n),t.interleaved=n;return}}catch{}finally{}r=ed(e,t,n,i),r!==null&&(n=Ye(),Tt(r,e,i,n),wd(r,t,i))}}function yd(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function Sd(e,t){cn=Js=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function wd(e,t,r){if(r&4194240){var i=t.lanes;i&=e.pendingLanes,r|=i,t.lanes=r,El(e,r)}}var eo={readContext:wt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},z_={readContext:wt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:eu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rs(4194308,4,fd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var r=Bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var i=Bt();return t=r!==void 0?r(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=H_.bind(null,Re,e),[i.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:Jc,useDebugValue:Gl,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=Jc(!1),t=e[0];return e=j_.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var i=Re,n=Bt();if(ke){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),je===null)throw Error(Z(349));Gr&30||sd(i,t,r)}n.memoizedState=r;var o={value:r,getSnapshot:t};return n.queue=o,eu(ad.bind(null,i,o,e),[e]),i.flags|=2048,Tn(9,od.bind(null,i,o,r,t),void 0,null),r},useId:function(){var e=Bt(),t=je.identifierPrefix;if(ke){var r=Xt,i=Gt;r=(i&~(1<<32-Rt(i)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ln++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=B_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$_={readContext:wt,useCallback:_d,useContext:wt,useEffect:ql,useImperativeHandle:pd,useInsertionEffect:hd,useLayoutEffect:dd,useMemo:gd,useReducer:ra,useRef:ud,useState:function(){return ra(Rn)},useDebugValue:Gl,useDeferredValue:function(e){var t=Ct();return vd(t,Ne.memoizedState,e)},useTransition:function(){var e=ra(Rn)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:id,useSyncExternalStore:nd,useId:md,unstable_isNewReconciler:!1},U_={readContext:wt,useCallback:_d,useContext:wt,useEffect:ql,useImperativeHandle:pd,useInsertionEffect:hd,useLayoutEffect:dd,useMemo:gd,useReducer:ia,useRef:ud,useState:function(){return ia(Rn)},useDebugValue:Gl,useDeferredValue:function(e){var t=Ct();return Ne===null?t.memoizedState=e:vd(t,Ne.memoizedState,e)},useTransition:function(){var e=ia(Rn)[0],t=Ct().memoizedState;return[e,t]},useMutableSource:id,useSyncExternalStore:nd,useId:md,unstable_isNewReconciler:!1};function bt(e,t){if(e&&e.defaultProps){t=Te({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ua(e,t,r,i){t=e.memoizedState,r=r(i,t),r=r==null?t:Te({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Co={isMounted:function(e){return(e=e._reactInternals)?ti(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var i=Ye(),n=xr(e),o=Yt(i,n);o.payload=t,r!=null&&(o.callback=r),t=wr(e,o,n),t!==null&&(Tt(t,e,n,i),Es(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var i=Ye(),n=xr(e),o=Yt(i,n);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=wr(e,o,n),t!==null&&(Tt(t,e,n,i),Es(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ye(),i=xr(e),n=Yt(r,i);n.tag=2,t!=null&&(n.callback=t),t=wr(e,n,i),t!==null&&(Tt(t,e,i,r),Es(t,e,i))}};function tu(e,t,r,i,n,o,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,p):t.prototype&&t.prototype.isPureReactComponent?!wn(r,i)||!wn(n,o):!0}function Cd(e,t,r){var i=!1,n=Er,o=t.contextType;return typeof o=="object"&&o!==null?o=wt(o):(n=ot(t)?Zr:Ze.current,i=t.contextTypes,o=(i=i!=null)?Ri(e,n):Er),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Co,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function ru(e,t,r,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,i),t.state!==e&&Co.enqueueReplaceState(t,t.state,null)}function Wa(e,t,r,i){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},zl(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=wt(o):(o=ot(t)?Zr:Ze.current,n.context=Ri(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ua(e,t,o,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&Co.enqueueReplaceState(n,n.state,null),Ys(e,r,n,i),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Oi(e,t){try{var r="",i=t;do r+=vp(i),i=i.return;while(i);var n=r}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function na(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Va(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var W_=typeof WeakMap=="function"?WeakMap:Map;function xd(e,t,r){r=Yt(-1,r),r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){ro||(ro=!0,tl=i),Va(e,t)},r}function bd(e,t,r){r=Yt(-1,r),r.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var n=t.value;r.payload=function(){return i(n)},r.callback=function(){Va(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Va(e,t),typeof i!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function iu(e,t,r){var i=e.pingCache;if(i===null){i=e.pingCache=new W_;var n=new Set;i.set(t,n)}else n=i.get(t),n===void 0&&(n=new Set,i.set(t,n));n.has(r)||(n.add(r),e=ng.bind(null,e,t,r),t.then(e,e))}function nu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function su(e,t,r,i,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Yt(-1,1),t.tag=2,wr(r,t,1))),r.lanes|=1),e)}var V_=ir.ReactCurrentOwner,nt=!1;function Xe(e,t,r,i){t.child=e===null?Jh(t,null,r,i):Di(t,e.child,r,i)}function ou(e,t,r,i,n){r=r.render;var o=t.ref;return xi(t,n),i=Kl(e,t,r,i,o,n),r=Zl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,tr(e,t,n)):(ke&&r&&Pl(t),t.flags|=1,Xe(e,t,i,n),t.child)}function au(e,t,r,i,n){if(e===null){var o=r.type;return typeof o=="function"&&!ic(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,kd(e,t,o,i,n)):(e=Os(r.type,null,i,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var p=o.memoizedProps;if(r=r.compare,r=r!==null?r:wn,r(p,i)&&e.ref===t.ref)return tr(e,t,n)}return t.flags|=1,e=br(o,i),e.ref=t.ref,e.return=t,t.child=e}function kd(e,t,r,i,n){if(e!==null){var o=e.memoizedProps;if(wn(o,i)&&e.ref===t.ref)if(nt=!1,t.pendingProps=i=o,(e.lanes&n)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,tr(e,t,n)}return Ka(e,t,r,i,n)}function Ed(e,t,r){var i=t.pendingProps,n=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(gi,lt),lt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(gi,lt),lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:r,Ce(gi,lt),lt|=i}else o!==null?(i=o.baseLanes|r,t.memoizedState=null):i=r,Ce(gi,lt),lt|=i;return Xe(e,t,n,r),t.child}function Ld(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ka(e,t,r,i,n){var o=ot(r)?Zr:Ze.current;return o=Ri(t,o),xi(t,n),r=Kl(e,t,r,i,o,n),i=Zl(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,tr(e,t,n)):(ke&&i&&Pl(t),t.flags|=1,Xe(e,t,r,n),t.child)}function lu(e,t,r,i,n){if(ot(r)){var o=!0;Ks(t)}else o=!1;if(xi(t,n),t.stateNode===null)Ts(e,t),Cd(t,r,i),Wa(t,r,i,n),i=!0;else if(e===null){var p=t.stateNode,s=t.memoizedProps;p.props=s;var a=p.context,d=r.contextType;typeof d=="object"&&d!==null?d=wt(d):(d=ot(r)?Zr:Ze.current,d=Ri(t,d));var _=r.getDerivedStateFromProps,f=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function";f||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(s!==i||a!==d)&&ru(t,p,i,d),cr=!1;var v=t.memoizedState;p.state=v,Ys(t,i,p,n),a=t.memoizedState,s!==i||v!==a||st.current||cr?(typeof _=="function"&&(Ua(t,r,_,i),a=t.memoizedState),(s=cr||tu(t,r,s,i,v,a,d))?(f||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=a),p.props=i,p.state=a,p.context=d,i=s):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,td(e,t),s=t.memoizedProps,d=t.type===t.elementType?s:bt(t.type,s),p.props=d,f=t.pendingProps,v=p.context,a=r.contextType,typeof a=="object"&&a!==null?a=wt(a):(a=ot(r)?Zr:Ze.current,a=Ri(t,a));var w=r.getDerivedStateFromProps;(_=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(s!==f||v!==a)&&ru(t,p,i,a),cr=!1,v=t.memoizedState,p.state=v,Ys(t,i,p,n);var C=t.memoizedState;s!==f||v!==C||st.current||cr?(typeof w=="function"&&(Ua(t,r,w,i),C=t.memoizedState),(d=cr||tu(t,r,d,i,v,C,a)||!1)?(_||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,C,a),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,C,a)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),p.props=i,p.state=C,p.context=a,i=d):(typeof p.componentDidUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return Za(e,t,r,i,o,n)}function Za(e,t,r,i,n,o){Ld(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return n&&Zc(t,r,!1),tr(e,t,o);i=t.stateNode,V_.current=t;var s=p&&typeof r.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Di(t,e.child,null,o),t.child=Di(t,null,s,o)):Xe(e,t,s,o),t.memoizedState=i.state,n&&Zc(t,r,!0),t.child}function Rd(e){var t=e.stateNode;t.pendingContext?Kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kc(e,t.context,!1),$l(e,t.containerInfo)}function cu(e,t,r,i,n){return Ti(),Il(n),t.flags|=256,Xe(e,t,r,i),t.child}var qa={dehydrated:null,treeContext:null,retryLane:0};function Ga(e){return{baseLanes:e,cachePool:null,transitions:null}}function Td(e,t,r){var i=t.pendingProps,n=Le.current,o=!1,p=(t.flags&128)!==0,s;if((s=p)||(s=e!==null&&e.memoizedState===null?!1:(n&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),Ce(Le,n&1),e===null)return za(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=i.children,e=i.fallback,o?(i=t.mode,o=t.child,p={mode:"hidden",children:p},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=p):o=ko(p,i,0,null),e=Vr(e,i,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ga(r),t.memoizedState=qa,e):Xl(t,p));if(n=e.memoizedState,n!==null&&(s=n.dehydrated,s!==null))return K_(e,t,p,i,s,n,r);if(o){o=i.fallback,p=t.mode,n=e.child,s=n.sibling;var a={mode:"hidden",children:i.children};return!(p&1)&&t.child!==n?(i=t.child,i.childLanes=0,i.pendingProps=a,t.deletions=null):(i=br(n,a),i.subtreeFlags=n.subtreeFlags&14680064),s!==null?o=br(s,o):(o=Vr(o,p,r,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,p=e.child.memoizedState,p=p===null?Ga(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},o.memoizedState=p,o.childLanes=e.childLanes&~r,t.memoizedState=qa,i}return o=e.child,e=o.sibling,i=br(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=r),i.return=t,i.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Xl(e,t){return t=ko({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gs(e,t,r,i){return i!==null&&Il(i),Di(t,e.child,null,r),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function K_(e,t,r,i,n,o,p){if(r)return t.flags&256?(t.flags&=-257,i=na(Error(Z(422))),gs(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,n=t.mode,i=ko({mode:"visible",children:i.children},n,0,null),o=Vr(o,n,p,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&Di(t,e.child,null,p),t.child.memoizedState=Ga(p),t.memoizedState=qa,o);if(!(t.mode&1))return gs(e,t,p,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var s=i.dgst;return i=s,o=Error(Z(419)),i=na(o,i,void 0),gs(e,t,p,i)}if(s=(p&e.childLanes)!==0,nt||s){if(i=je,i!==null){switch(p&-p){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|p)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,er(e,n),Tt(i,e,n,-1))}return rc(),i=na(Error(Z(421))),gs(e,t,p,i)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=sg.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,ct=Sr(n.nextSibling),ut=t,ke=!0,Et=null,e!==null&&(vt[mt++]=Gt,vt[mt++]=Xt,vt[mt++]=qr,Gt=e.id,Xt=e.overflow,qr=t),t=Xl(t,i.children),t.flags|=4096,t)}function uu(e,t,r){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),$a(e.return,t,r)}function sa(e,t,r,i,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=r,o.tailMode=n)}function Dd(e,t,r){var i=t.pendingProps,n=i.revealOrder,o=i.tail;if(Xe(e,t,i.children,r),i=Le.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uu(e,r,t);else if(e.tag===19)uu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ce(Le,i),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Qs(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),sa(t,!1,n,r,o);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Qs(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}sa(t,!0,r,null,o);break;case"together":sa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Xr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=br(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=br(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Z_(e,t,r){switch(t.tag){case 3:Rd(t),Ti();break;case 5:rd(t);break;case 1:ot(t.type)&&Ks(t);break;case 4:$l(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,n=t.memoizedProps.value;Ce(Gs,i._currentValue),i._currentValue=n;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Ce(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?Td(e,t,r):(Ce(Le,Le.current&1),e=tr(e,t,r),e!==null?e.sibling:null);Ce(Le,Le.current&1);break;case 19:if(i=(r&t.childLanes)!==0,e.flags&128){if(i)return Dd(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ce(Le,Le.current),i)break;return null;case 22:case 23:return t.lanes=0,Ed(e,t,r)}return tr(e,t,r)}var Ad,Xa,Od,Md;Ad=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xa=function(){};Od=function(e,t,r,i){var n=e.memoizedProps;if(n!==i){e=t.stateNode,Ur(zt.current);var o=null;switch(r){case"input":n=ma(e,n),i=ma(e,i),o=[];break;case"select":n=Te({},n,{value:void 0}),i=Te({},i,{value:void 0}),o=[];break;case"textarea":n=wa(e,n),i=wa(e,i),o=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Ws)}xa(r,i);var p;r=null;for(d in n)if(!i.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var s=n[d];for(p in s)s.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(pn.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in i){var a=i[d];if(s=n!=null?n[d]:void 0,i.hasOwnProperty(d)&&a!==s&&(a!=null||s!=null))if(d==="style")if(s){for(p in s)!s.hasOwnProperty(p)||a&&a.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in a)a.hasOwnProperty(p)&&s[p]!==a[p]&&(r||(r={}),r[p]=a[p])}else r||(o||(o=[]),o.push(d,r)),r=a;else d==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,s=s?s.__html:void 0,a!=null&&s!==a&&(o=o||[]).push(d,a)):d==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(d,""+a):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(pn.hasOwnProperty(d)?(a!=null&&d==="onScroll"&&xe("scroll",e),o||s===a||(o=[])):(o=o||[]).push(d,a))}r&&(o=o||[]).push("style",r);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};Md=function(e,t,r,i){r!==i&&(t.flags|=4)};function Gi(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,i=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=i,e.childLanes=r,t}function q_(e,t,r){var i=t.pendingProps;switch(Nl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return ot(t.type)&&Vs(),We(t),null;case 3:return i=t.stateNode,Ai(),be(st),be(Ze),Wl(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Et!==null&&(nl(Et),Et=null))),Xa(e,t),We(t),null;case 5:Ul(t);var n=Ur(En.current);if(r=t.type,e!==null&&t.stateNode!=null)Od(e,t,r,i,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(Z(166));return We(t),null}if(e=Ur(zt.current),ps(t)){i=t.stateNode,r=t.type;var o=t.memoizedProps;switch(i[jt]=t,i[bn]=o,e=(t.mode&1)!==0,r){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(n=0;n<en.length;n++)xe(en[n],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":yc(i,o),xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},xe("invalid",i);break;case"textarea":wc(i,o),xe("invalid",i)}xa(r,o),n=null;for(var p in o)if(o.hasOwnProperty(p)){var s=o[p];p==="children"?typeof s=="string"?i.textContent!==s&&(o.suppressHydrationWarning!==!0&&ds(i.textContent,s,e),n=["children",s]):typeof s=="number"&&i.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&ds(i.textContent,s,e),n=["children",""+s]):pn.hasOwnProperty(p)&&s!=null&&p==="onScroll"&&xe("scroll",i)}switch(r){case"input":ns(i),Sc(i,o,!0);break;case"textarea":ns(i),Cc(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Ws)}i=n,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ah(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(r,{is:i.is}):(e=p.createElement(r),r==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,r),e[jt]=t,e[bn]=i,Ad(e,t,!1,!1),t.stateNode=e;e:{switch(p=ba(r,i),r){case"dialog":xe("cancel",e),xe("close",e),n=i;break;case"iframe":case"object":case"embed":xe("load",e),n=i;break;case"video":case"audio":for(n=0;n<en.length;n++)xe(en[n],e);n=i;break;case"source":xe("error",e),n=i;break;case"img":case"image":case"link":xe("error",e),xe("load",e),n=i;break;case"details":xe("toggle",e),n=i;break;case"input":yc(e,i),n=ma(e,i),xe("invalid",e);break;case"option":n=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},n=Te({},i,{value:void 0}),xe("invalid",e);break;case"textarea":wc(e,i),n=wa(e,i),xe("invalid",e);break;default:n=i}xa(r,n),s=n;for(o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="style"?uh(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lh(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&_n(e,a):typeof a=="number"&&_n(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(pn.hasOwnProperty(o)?a!=null&&o==="onScroll"&&xe("scroll",e):a!=null&&Sl(e,o,a,p))}switch(r){case"input":ns(e),Sc(e,i,!1);break;case"textarea":ns(e),Cc(e);break;case"option":i.value!=null&&e.setAttribute("value",""+kr(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?yi(e,!!i.multiple,o,!1):i.defaultValue!=null&&yi(e,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ws)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)Md(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(Z(166));if(r=Ur(En.current),Ur(zt.current),ps(t)){if(i=t.stateNode,r=t.memoizedProps,i[jt]=t,(o=i.nodeValue!==r)&&(e=ut,e!==null))switch(e.tag){case 3:ds(i.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(i.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[jt]=t,t.stateNode=i}return We(t),null;case 13:if(be(Le),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&ct!==null&&t.mode&1&&!(t.flags&128))Yh(),Ti(),t.flags|=98560,o=!1;else if(o=ps(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(Z(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Z(317));o[jt]=t}else Ti(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;We(t),o=!1}else Et!==null&&(nl(Et),Et=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?Ie===0&&(Ie=3):rc())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return Ai(),Xa(e,t),e===null&&Cn(t.stateNode.containerInfo),We(t),null;case 10:return Hl(t.type._context),We(t),null;case 17:return ot(t.type)&&Vs(),We(t),null;case 19:if(be(Le),o=t.memoizedState,o===null)return We(t),null;if(i=(t.flags&128)!==0,p=o.rendering,p===null)if(i)Gi(o,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(p=Qs(e),p!==null){for(t.flags|=128,Gi(o,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=r,r=t.child;r!==null;)o=r,e=i,o.flags&=14680066,p=o.alternate,p===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=p.childLanes,o.lanes=p.lanes,o.child=p.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=p.memoizedProps,o.memoizedState=p.memoizedState,o.updateQueue=p.updateQueue,o.type=p.type,e=p.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ce(Le,Le.current&1|2),t.child}e=e.sibling}o.tail!==null&&Oe()>Mi&&(t.flags|=128,i=!0,Gi(o,!1),t.lanes=4194304)}else{if(!i)if(e=Qs(p),e!==null){if(t.flags|=128,i=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!ke)return We(t),null}else 2*Oe()-o.renderingStartTime>Mi&&r!==1073741824&&(t.flags|=128,i=!0,Gi(o,!1),t.lanes=4194304);o.isBackwards?(p.sibling=t.child,t.child=p):(r=o.last,r!==null?r.sibling=p:t.child=p,o.last=p)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Oe(),t.sibling=null,r=Le.current,Ce(Le,i?r&1|2:r&1),t):(We(t),null);case 22:case 23:return tc(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?lt&1073741824&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function G_(e,t){switch(Nl(t),t.tag){case 1:return ot(t.type)&&Vs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ai(),be(st),be(Ze),Wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(be(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ti()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Le),null;case 4:return Ai(),null;case 10:return Hl(t.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var vs=!1,Ke=!1,X_=typeof WeakSet=="function"?WeakSet:Set,J=null;function _i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){De(e,t,i)}else r.current=null}function Ya(e,t,r){try{r()}catch(i){De(e,t,i)}}var hu=!1;function Y_(e,t){if(Pa=zs,e=jh(),Ml(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var p=0,s=-1,a=-1,d=0,_=0,f=e,v=null;t:for(;;){for(var w;f!==r||n!==0&&f.nodeType!==3||(s=p+n),f!==o||i!==0&&f.nodeType!==3||(a=p+i),f.nodeType===3&&(p+=f.nodeValue.length),(w=f.firstChild)!==null;)v=f,f=w;for(;;){if(f===e)break t;if(v===r&&++d===n&&(s=p),v===o&&++_===i&&(a=p),(w=f.nextSibling)!==null)break;f=v,v=f.parentNode}f=w}r=s===-1||a===-1?null:{start:s,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Na={focusedElem:e,selectionRange:r},zs=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var S=C.memoizedProps,h=C.memoizedState,u=t.stateNode,l=u.getSnapshotBeforeUpdate(t.elementType===t.type?S:bt(t.type,S),h);u.__reactInternalSnapshotBeforeUpdate=l}break;case 3:var c=t.stateNode.containerInfo;c.nodeType===1?c.textContent="":c.nodeType===9&&c.documentElement&&c.removeChild(c.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(g){De(t,t.return,g)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return C=hu,hu=!1,C}function un(e,t,r){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&Ya(t,r,o)}n=n.next}while(n!==i)}}function xo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var i=r.create;r.destroy=i()}r=r.next}while(r!==t)}}function Qa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Pd(e){var t=e.alternate;t!==null&&(e.alternate=null,Pd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[bn],delete t[ja],delete t[M_],delete t[P_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nd(e){return e.tag===5||e.tag===3||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ja(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ws));else if(i!==4&&(e=e.child,e!==null))for(Ja(e,t,r),e=e.sibling;e!==null;)Ja(e,t,r),e=e.sibling}function el(e,t,r){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(el(e,t,r),e=e.sibling;e!==null;)el(e,t,r),e=e.sibling}var He=null,kt=!1;function ar(e,t,r){for(r=r.child;r!==null;)Id(e,t,r),r=r.sibling}function Id(e,t,r){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(_o,r)}catch{}switch(r.tag){case 5:Ke||_i(r,t);case 6:var i=He,n=kt;He=null,ar(e,t,r),He=i,kt=n,He!==null&&(kt?(e=He,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):He.removeChild(r.stateNode));break;case 18:He!==null&&(kt?(e=He,r=r.stateNode,e.nodeType===8?Qo(e.parentNode,r):e.nodeType===1&&Qo(e,r),yn(e)):Qo(He,r.stateNode));break;case 4:i=He,n=kt,He=r.stateNode.containerInfo,kt=!0,ar(e,t,r),He=i,kt=n;break;case 0:case 11:case 14:case 15:if(!Ke&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var o=n,p=o.destroy;o=o.tag,p!==void 0&&(o&2||o&4)&&Ya(r,t,p),n=n.next}while(n!==i)}ar(e,t,r);break;case 1:if(!Ke&&(_i(r,t),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(s){De(r,t,s)}ar(e,t,r);break;case 21:ar(e,t,r);break;case 22:r.mode&1?(Ke=(i=Ke)||r.memoizedState!==null,ar(e,t,r),Ke=i):ar(e,t,r);break;default:ar(e,t,r)}}function fu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new X_),t.forEach(function(i){var n=og.bind(null,e,i);r.has(i)||(r.add(i),i.then(n,n))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var o=e,p=t,s=p;e:for(;s!==null;){switch(s.tag){case 5:He=s.stateNode,kt=!1;break e;case 3:He=s.stateNode.containerInfo,kt=!0;break e;case 4:He=s.stateNode.containerInfo,kt=!0;break e}s=s.return}if(He===null)throw Error(Z(160));Id(o,p,n),He=null,kt=!1;var a=n.alternate;a!==null&&(a.return=null),n.return=null}catch(d){De(n,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bd(t,e),t=t.sibling}function Bd(e,t){var r=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),It(e),i&4){try{un(3,e,e.return),xo(3,e)}catch(S){De(e,e.return,S)}try{un(5,e,e.return)}catch(S){De(e,e.return,S)}}break;case 1:xt(t,e),It(e),i&512&&r!==null&&_i(r,r.return);break;case 5:if(xt(t,e),It(e),i&512&&r!==null&&_i(r,r.return),e.flags&32){var n=e.stateNode;try{_n(n,"")}catch(S){De(e,e.return,S)}}if(i&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,p=r!==null?r.memoizedProps:o,s=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&sh(n,o),ba(s,p);var d=ba(s,o);for(p=0;p<a.length;p+=2){var _=a[p],f=a[p+1];_==="style"?uh(n,f):_==="dangerouslySetInnerHTML"?lh(n,f):_==="children"?_n(n,f):Sl(n,_,f,d)}switch(s){case"input":ya(n,o);break;case"textarea":oh(n,o);break;case"select":var v=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var w=o.value;w!=null?yi(n,!!o.multiple,w,!1):v!==!!o.multiple&&(o.defaultValue!=null?yi(n,!!o.multiple,o.defaultValue,!0):yi(n,!!o.multiple,o.multiple?[]:"",!1))}n[bn]=o}catch(S){De(e,e.return,S)}}break;case 6:if(xt(t,e),It(e),i&4){if(e.stateNode===null)throw Error(Z(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(S){De(e,e.return,S)}}break;case 3:if(xt(t,e),It(e),i&4&&r!==null&&r.memoizedState.isDehydrated)try{yn(t.containerInfo)}catch(S){De(e,e.return,S)}break;case 4:xt(t,e),It(e);break;case 13:xt(t,e),It(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(Jl=Oe())),i&4&&fu(e);break;case 22:if(_=r!==null&&r.memoizedState!==null,e.mode&1?(Ke=(d=Ke)||_,xt(t,e),Ke=d):xt(t,e),It(e),i&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!_&&e.mode&1)for(J=e,_=e.child;_!==null;){for(f=J=_;J!==null;){switch(v=J,w=v.child,v.tag){case 0:case 11:case 14:case 15:un(4,v,v.return);break;case 1:_i(v,v.return);var C=v.stateNode;if(typeof C.componentWillUnmount=="function"){i=v,r=v.return;try{t=i,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(S){De(i,r,S)}}break;case 5:_i(v,v.return);break;case 22:if(v.memoizedState!==null){_u(f);continue}}w!==null?(w.return=v,J=w):_u(f)}_=_.sibling}e:for(_=null,f=e;;){if(f.tag===5){if(_===null){_=f;try{n=f.stateNode,d?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,a=f.memoizedProps.style,p=a!=null&&a.hasOwnProperty("display")?a.display:null,s.style.display=ch("display",p))}catch(S){De(e,e.return,S)}}}else if(f.tag===6){if(_===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(S){De(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;_===f&&(_=null),f=f.return}_===f&&(_=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xt(t,e),It(e),i&4&&fu(e);break;case 21:break;default:xt(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Nd(r)){var i=r;break e}r=r.return}throw Error(Z(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(_n(n,""),i.flags&=-33);var o=du(e);el(e,o,n);break;case 3:case 4:var p=i.stateNode.containerInfo,s=du(e);Ja(e,s,p);break;default:throw Error(Z(161))}}catch(a){De(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Q_(e,t,r){J=e,jd(e)}function jd(e,t,r){for(var i=(e.mode&1)!==0;J!==null;){var n=J,o=n.child;if(n.tag===22&&i){var p=n.memoizedState!==null||vs;if(!p){var s=n.alternate,a=s!==null&&s.memoizedState!==null||Ke;s=vs;var d=Ke;if(vs=p,(Ke=a)&&!d)for(J=n;J!==null;)p=J,a=p.child,p.tag===22&&p.memoizedState!==null?gu(n):a!==null?(a.return=p,J=a):gu(n);for(;o!==null;)J=o,jd(o),o=o.sibling;J=n,vs=s,Ke=d}pu(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,J=o):pu(e)}}function pu(e){for(;J!==null;){var t=J;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ke||xo(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Ke)if(r===null)i.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:bt(t.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Qc(t,o,i);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qc(t,p,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var _=d.memoizedState;if(_!==null){var f=_.dehydrated;f!==null&&yn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Ke||t.flags&512&&Qa(t)}catch(v){De(t,t.return,v)}}if(t===e){J=null;break}if(r=t.sibling,r!==null){r.return=t.return,J=r;break}J=t.return}}function _u(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var r=t.sibling;if(r!==null){r.return=t.return,J=r;break}J=t.return}}function gu(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xo(4,t)}catch(a){De(t,r,a)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var n=t.return;try{i.componentDidMount()}catch(a){De(t,n,a)}}var o=t.return;try{Qa(t)}catch(a){De(t,o,a)}break;case 5:var p=t.return;try{Qa(t)}catch(a){De(t,p,a)}}}catch(a){De(t,t.return,a)}if(t===e){J=null;break}var s=t.sibling;if(s!==null){s.return=t.return,J=s;break}J=t.return}}var J_=Math.ceil,to=ir.ReactCurrentDispatcher,Yl=ir.ReactCurrentOwner,St=ir.ReactCurrentBatchConfig,_e=0,je=null,Me=null,Fe=0,lt=0,gi=Or(0),Ie=0,Dn=null,Xr=0,bo=0,Ql=0,hn=null,it=null,Jl=0,Mi=1/0,Kt=null,ro=!1,tl=null,Cr=null,ms=!1,pr=null,io=0,dn=0,rl=null,Ds=-1,As=0;function Ye(){return _e&6?Oe():Ds!==-1?Ds:Ds=Oe()}function xr(e){return e.mode&1?_e&2&&Fe!==0?Fe&-Fe:I_.transition!==null?(As===0&&(As=Ch()),As):(e=we,e!==0||(e=window.event,e=e===void 0?16:Th(e.type)),e):1}function Tt(e,t,r,i){if(50<dn)throw dn=0,rl=null,Error(Z(185));Gn(e,r,i),(!(_e&2)||e!==je)&&(e===je&&(!(_e&2)&&(bo|=r),Ie===4&&hr(e,Fe)),at(e,i),r===1&&_e===0&&!(t.mode&1)&&(Mi=Oe()+500,So&&Mr()))}function at(e,t){var r=e.callbackNode;Ip(e,t);var i=Fs(e,e===je?Fe:0);if(i===0)r!==null&&kc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(r!=null&&kc(r),t===1)e.tag===0?N_(vu.bind(null,e)):qh(vu.bind(null,e)),A_(function(){!(_e&6)&&Mr()}),r=null;else{switch(xh(i)){case 1:r=kl;break;case 4:r=Sh;break;case 16:r=Hs;break;case 536870912:r=wh;break;default:r=Hs}r=Kd(r,Hd.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Hd(e,t){if(Ds=-1,As=0,_e&6)throw Error(Z(327));var r=e.callbackNode;if(bi()&&e.callbackNode!==r)return null;var i=Fs(e,e===je?Fe:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=no(e,i);else{t=i;var n=_e;_e|=2;var o=zd();(je!==e||Fe!==t)&&(Kt=null,Mi=Oe()+500,Wr(e,t));do try{rg();break}catch(s){Fd(e,s)}while(!0);jl(),to.current=o,_e=n,Me!==null?t=0:(je=null,Fe=0,t=Ie)}if(t!==0){if(t===2&&(n=Ta(e),n!==0&&(i=n,t=il(e,n))),t===1)throw r=Dn,Wr(e,0),hr(e,i),at(e,Oe()),r;if(t===6)hr(e,i);else{if(n=e.current.alternate,!(i&30)&&!eg(n)&&(t=no(e,i),t===2&&(o=Ta(e),o!==0&&(i=o,t=il(e,o))),t===1))throw r=Dn,Wr(e,0),hr(e,i),at(e,Oe()),r;switch(e.finishedWork=n,e.finishedLanes=i,t){case 0:case 1:throw Error(Z(345));case 2:Fr(e,it,Kt);break;case 3:if(hr(e,i),(i&130023424)===i&&(t=Jl+500-Oe(),10<t)){if(Fs(e,0)!==0)break;if(n=e.suspendedLanes,(n&i)!==i){Ye(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Ba(Fr.bind(null,e,it,Kt),t);break}Fr(e,it,Kt);break;case 4:if(hr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,n=-1;0<i;){var p=31-Rt(i);o=1<<p,p=t[p],p>n&&(n=p),i&=~o}if(i=n,i=Oe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*J_(i/1960))-i,10<i){e.timeoutHandle=Ba(Fr.bind(null,e,it,Kt),i);break}Fr(e,it,Kt);break;case 5:Fr(e,it,Kt);break;default:throw Error(Z(329))}}}return at(e,Oe()),e.callbackNode===r?Hd.bind(null,e):null}function il(e,t){var r=hn;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=no(e,t),e!==2&&(t=it,it=r,t!==null&&nl(t)),e}function nl(e){it===null?it=e:it.push.apply(it,e)}function eg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],o=n.getSnapshot;n=n.value;try{if(!At(o(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hr(e,t){for(t&=~Ql,t&=~bo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rt(t),i=1<<r;e[r]=-1,t&=~i}}function vu(e){if(_e&6)throw Error(Z(327));bi();var t=Fs(e,0);if(!(t&1))return at(e,Oe()),null;var r=no(e,t);if(e.tag!==0&&r===2){var i=Ta(e);i!==0&&(t=i,r=il(e,i))}if(r===1)throw r=Dn,Wr(e,0),hr(e,t),at(e,Oe()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,it,Kt),at(e,Oe()),null}function ec(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(Mi=Oe()+500,So&&Mr())}}function Yr(e){pr!==null&&pr.tag===0&&!(_e&6)&&bi();var t=_e;_e|=1;var r=St.transition,i=we;try{if(St.transition=null,we=1,e)return e()}finally{we=i,St.transition=r,_e=t,!(_e&6)&&Mr()}}function tc(){lt=gi.current,be(gi)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,D_(r)),Me!==null)for(r=Me.return;r!==null;){var i=r;switch(Nl(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Vs();break;case 3:Ai(),be(st),be(Ze),Wl();break;case 5:Ul(i);break;case 4:Ai();break;case 13:be(Le);break;case 19:be(Le);break;case 10:Hl(i.type._context);break;case 22:case 23:tc()}r=r.return}if(je=e,Me=e=br(e.current,null),Fe=lt=t,Ie=0,Dn=null,Ql=bo=Xr=0,it=hn=null,$r!==null){for(t=0;t<$r.length;t++)if(r=$r[t],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,o=r.pending;if(o!==null){var p=o.next;o.next=n,i.next=p}r.pending=i}$r=null}return e}function Fd(e,t){do{var r=Me;try{if(jl(),Ls.current=eo,Js){for(var i=Re.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Js=!1}if(Gr=0,Be=Ne=Re=null,cn=!1,Ln=0,Yl.current=null,r===null||r.return===null){Ie=1,Dn=t,Me=null;break}e:{var o=e,p=r.return,s=r,a=t;if(t=Fe,s.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var d=a,_=s,f=_.tag;if(!(_.mode&1)&&(f===0||f===11||f===15)){var v=_.alternate;v?(_.updateQueue=v.updateQueue,_.memoizedState=v.memoizedState,_.lanes=v.lanes):(_.updateQueue=null,_.memoizedState=null)}var w=nu(p);if(w!==null){w.flags&=-257,su(w,p,s,o,t),w.mode&1&&iu(o,d,t),t=w,a=d;var C=t.updateQueue;if(C===null){var S=new Set;S.add(a),t.updateQueue=S}else C.add(a);break e}else{if(!(t&1)){iu(o,d,t),rc();break e}a=Error(Z(426))}}else if(ke&&s.mode&1){var h=nu(p);if(h!==null){!(h.flags&65536)&&(h.flags|=256),su(h,p,s,o,t),Il(Oi(a,s));break e}}o=a=Oi(a,s),Ie!==4&&(Ie=2),hn===null?hn=[o]:hn.push(o),o=p;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var u=xd(o,a,t);Yc(o,u);break e;case 1:s=a;var l=o.type,c=o.stateNode;if(!(o.flags&128)&&(typeof l.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Cr===null||!Cr.has(c)))){o.flags|=65536,t&=-t,o.lanes|=t;var g=bd(o,s,t);Yc(o,g);break e}}o=o.return}while(o!==null)}Ud(r)}catch(y){t=y,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(!0)}function zd(){var e=to.current;return to.current=eo,e===null?eo:e}function rc(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),je===null||!(Xr&268435455)&&!(bo&268435455)||hr(je,Fe)}function no(e,t){var r=_e;_e|=2;var i=zd();(je!==e||Fe!==t)&&(Kt=null,Wr(e,t));do try{tg();break}catch(n){Fd(e,n)}while(!0);if(jl(),_e=r,to.current=i,Me!==null)throw Error(Z(261));return je=null,Fe=0,Ie}function tg(){for(;Me!==null;)$d(Me)}function rg(){for(;Me!==null&&!Lp();)$d(Me)}function $d(e){var t=Vd(e.alternate,e,lt);e.memoizedProps=e.pendingProps,t===null?Ud(e):Me=t,Yl.current=null}function Ud(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=G_(r,t),r!==null){r.flags&=32767,Me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Me=null;return}}else if(r=q_(r,t,lt),r!==null){Me=r;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ie===0&&(Ie=5)}function Fr(e,t,r){var i=we,n=St.transition;try{St.transition=null,we=1,ig(e,t,r,i)}finally{St.transition=n,we=i}return null}function ig(e,t,r,i){do bi();while(pr!==null);if(_e&6)throw Error(Z(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Bp(e,o),e===je&&(Me=je=null,Fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ms||(ms=!0,Kd(Hs,function(){return bi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=St.transition,St.transition=null;var p=we;we=1;var s=_e;_e|=4,Yl.current=null,Y_(e,r),Bd(r,e),x_(Na),zs=!!Pa,Na=Pa=null,e.current=r,Q_(r),Rp(),_e=s,we=p,St.transition=o}else e.current=r;if(ms&&(ms=!1,pr=e,io=n),o=e.pendingLanes,o===0&&(Cr=null),Ap(r.stateNode),at(e,Oe()),t!==null)for(i=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(ro)throw ro=!1,e=tl,tl=null,e;return io&1&&e.tag!==0&&bi(),o=e.pendingLanes,o&1?e===rl?dn++:(dn=0,rl=e):dn=0,Mr(),null}function bi(){if(pr!==null){var e=xh(io),t=St.transition,r=we;try{if(St.transition=null,we=16>e?16:e,pr===null)var i=!1;else{if(e=pr,pr=null,io=0,_e&6)throw Error(Z(331));var n=_e;for(_e|=4,J=e.current;J!==null;){var o=J,p=o.child;if(J.flags&16){var s=o.deletions;if(s!==null){for(var a=0;a<s.length;a++){var d=s[a];for(J=d;J!==null;){var _=J;switch(_.tag){case 0:case 11:case 15:un(8,_,o)}var f=_.child;if(f!==null)f.return=_,J=f;else for(;J!==null;){_=J;var v=_.sibling,w=_.return;if(Pd(_),_===d){J=null;break}if(v!==null){v.return=w,J=v;break}J=w}}}var C=o.alternate;if(C!==null){var S=C.child;if(S!==null){C.child=null;do{var h=S.sibling;S.sibling=null,S=h}while(S!==null)}}J=o}}if(o.subtreeFlags&2064&&p!==null)p.return=o,J=p;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:un(9,o,o.return)}var u=o.sibling;if(u!==null){u.return=o.return,J=u;break e}J=o.return}}var l=e.current;for(J=l;J!==null;){p=J;var c=p.child;if(p.subtreeFlags&2064&&c!==null)c.return=p,J=c;else e:for(p=l;J!==null;){if(s=J,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xo(9,s)}}catch(y){De(s,s.return,y)}if(s===p){J=null;break e}var g=s.sibling;if(g!==null){g.return=s.return,J=g;break e}J=s.return}}if(_e=n,Mr(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(_o,e)}catch{}i=!0}return i}finally{we=r,St.transition=t}}return!1}function mu(e,t,r){t=Oi(r,t),t=xd(e,t,1),e=wr(e,t,1),t=Ye(),e!==null&&(Gn(e,1,t),at(e,t))}function De(e,t,r){if(e.tag===3)mu(e,e,r);else for(;t!==null;){if(t.tag===3){mu(t,e,r);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Cr===null||!Cr.has(i))){e=Oi(r,e),e=bd(t,e,1),t=wr(t,e,1),e=Ye(),t!==null&&(Gn(t,1,e),at(t,e));break}}t=t.return}}function ng(e,t,r){var i=e.pingCache;i!==null&&i.delete(t),t=Ye(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(Fe&r)===r&&(Ie===4||Ie===3&&(Fe&130023424)===Fe&&500>Oe()-Jl?Wr(e,0):Ql|=r),at(e,t)}function Wd(e,t){t===0&&(e.mode&1?(t=as,as<<=1,!(as&130023424)&&(as=4194304)):t=1);var r=Ye();e=er(e,t),e!==null&&(Gn(e,t,r),at(e,r))}function sg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Wd(e,r)}function og(e,t){var r=0;switch(e.tag){case 13:var i=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(Z(314))}i!==null&&i.delete(t),Wd(e,r)}var Vd;Vd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)nt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return nt=!1,Z_(e,t,r);nt=!!(e.flags&131072)}else nt=!1,ke&&t.flags&1048576&&Gh(t,qs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ts(e,t),e=t.pendingProps;var n=Ri(t,Ze.current);xi(t,r),n=Kl(null,t,i,e,n,r);var o=Zl();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(i)?(o=!0,Ks(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,zl(t),n.updater=Co,t.stateNode=n,n._reactInternals=t,Wa(t,i,e,r),t=Za(null,t,i,!0,o,r)):(t.tag=0,ke&&o&&Pl(t),Xe(null,t,n,r),t=t.child),t;case 16:i=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,n=i._init,i=n(i._payload),t.type=i,n=t.tag=lg(i),e=bt(i,e),n){case 0:t=Ka(null,t,i,e,r);break e;case 1:t=lu(null,t,i,e,r);break e;case 11:t=ou(null,t,i,e,r);break e;case 14:t=au(null,t,i,bt(i.type,e),r);break e}throw Error(Z(306,i,""))}return t;case 0:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:bt(i,n),Ka(e,t,i,n,r);case 1:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:bt(i,n),lu(e,t,i,n,r);case 3:e:{if(Rd(t),e===null)throw Error(Z(387));i=t.pendingProps,o=t.memoizedState,n=o.element,td(e,t),Ys(t,i,null,r);var p=t.memoizedState;if(i=p.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=Oi(Error(Z(423)),t),t=cu(e,t,i,r,n);break e}else if(i!==n){n=Oi(Error(Z(424)),t),t=cu(e,t,i,r,n);break e}else for(ct=Sr(t.stateNode.containerInfo.firstChild),ut=t,ke=!0,Et=null,r=Jh(t,null,i,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ti(),i===n){t=tr(e,t,r);break e}Xe(e,t,i,r)}t=t.child}return t;case 5:return rd(t),e===null&&za(t),i=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,p=n.children,Ia(i,n)?p=null:o!==null&&Ia(i,o)&&(t.flags|=32),Ld(e,t),Xe(e,t,p,r),t.child;case 6:return e===null&&za(t),null;case 13:return Td(e,t,r);case 4:return $l(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Di(t,null,i,r):Xe(e,t,i,r),t.child;case 11:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:bt(i,n),ou(e,t,i,n,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(i=t.type._context,n=t.pendingProps,o=t.memoizedProps,p=n.value,Ce(Gs,i._currentValue),i._currentValue=p,o!==null)if(At(o.value,p)){if(o.children===n.children&&!st.current){t=tr(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){p=o.child;for(var a=s.firstContext;a!==null;){if(a.context===i){if(o.tag===1){a=Yt(-1,r&-r),a.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var _=d.pending;_===null?a.next=a:(a.next=_.next,_.next=a),d.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),$a(o.return,r,t),s.lanes|=r;break}a=a.next}}else if(o.tag===10)p=o.type===t.type?null:o.child;else if(o.tag===18){if(p=o.return,p===null)throw Error(Z(341));p.lanes|=r,s=p.alternate,s!==null&&(s.lanes|=r),$a(p,r,t),p=o.sibling}else p=o.child;if(p!==null)p.return=o;else for(p=o;p!==null;){if(p===t){p=null;break}if(o=p.sibling,o!==null){o.return=p.return,p=o;break}p=p.return}o=p}Xe(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,i=t.pendingProps.children,xi(t,r),n=wt(n),i=i(n),t.flags|=1,Xe(e,t,i,r),t.child;case 14:return i=t.type,n=bt(i,t.pendingProps),n=bt(i.type,n),au(e,t,i,n,r);case 15:return kd(e,t,t.type,t.pendingProps,r);case 17:return i=t.type,n=t.pendingProps,n=t.elementType===i?n:bt(i,n),Ts(e,t),t.tag=1,ot(i)?(e=!0,Ks(t)):e=!1,xi(t,r),Cd(t,i,n),Wa(t,i,n,r),Za(null,t,i,!0,e,r);case 19:return Dd(e,t,r);case 22:return Ed(e,t,r)}throw Error(Z(156,t.tag))};function Kd(e,t){return yh(e,t)}function ag(e,t,r,i){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,r,i){return new ag(e,t,r,i)}function ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function lg(e){if(typeof e=="function")return ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cl)return 11;if(e===xl)return 14}return 2}function br(e,t){var r=e.alternate;return r===null?(r=yt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Os(e,t,r,i,n,o){var p=2;if(i=e,typeof e=="function")ic(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case oi:return Vr(r.children,n,o,t);case wl:p=8,n|=8;break;case pa:return e=yt(12,r,t,n|2),e.elementType=pa,e.lanes=o,e;case _a:return e=yt(13,r,t,n),e.elementType=_a,e.lanes=o,e;case ga:return e=yt(19,r,t,n),e.elementType=ga,e.lanes=o,e;case rh:return ko(r,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case eh:p=10;break e;case th:p=9;break e;case Cl:p=11;break e;case xl:p=14;break e;case lr:p=16,i=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=yt(p,r,t,n),t.elementType=e,t.type=i,t.lanes=o,t}function Vr(e,t,r,i){return e=yt(7,e,i,t),e.lanes=r,e}function ko(e,t,r,i){return e=yt(22,e,i,t),e.elementType=rh,e.lanes=r,e.stateNode={isHidden:!1},e}function oa(e,t,r){return e=yt(6,e,null,t),e.lanes=r,e}function aa(e,t,r){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cg(e,t,r,i,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zo(0),this.expirationTimes=zo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zo(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function nc(e,t,r,i,n,o,p,s,a){return e=new cg(e,t,r,s,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=yt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zl(o),e}function ug(e,t,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:si,key:i==null?null:""+i,children:e,containerInfo:t,implementation:r}}function Zd(e){if(!e)return Er;e=e._reactInternals;e:{if(ti(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(ot(r))return Zh(e,r,t)}return t}function qd(e,t,r,i,n,o,p,s,a){return e=nc(r,i,!0,e,n,o,p,s,a),e.context=Zd(null),r=e.current,i=Ye(),n=xr(r),o=Yt(i,n),o.callback=t??null,wr(r,o,n),e.current.lanes=n,Gn(e,n,i),at(e,i),e}function Eo(e,t,r,i){var n=t.current,o=Ye(),p=xr(n);return r=Zd(r),t.context===null?t.context=r:t.pendingContext=r,t=Yt(o,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=wr(n,t,p),e!==null&&(Tt(e,n,p,o),Es(e,n,p)),p}function so(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sc(e,t){yu(e,t),(e=e.alternate)&&yu(e,t)}function hg(){return null}var Gd=typeof reportError=="function"?reportError:function(e){console.error(e)};function oc(e){this._internalRoot=e}Lo.prototype.render=oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Eo(e,t,null,null)};Lo.prototype.unmount=oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yr(function(){Eo(null,e,null,null)}),t[Jt]=null}};function Lo(e){this._internalRoot=e}Lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ur.length&&t!==0&&t<ur[r].priority;r++);ur.splice(r,0,e),r===0&&Rh(e)}};function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Su(){}function dg(e,t,r,i,n){if(n){if(typeof i=="function"){var o=i;i=function(){var d=so(p);o.call(d)}}var p=qd(t,i,e,0,null,!1,!1,"",Su);return e._reactRootContainer=p,e[Jt]=p.current,Cn(e.nodeType===8?e.parentNode:e),Yr(),p}for(;n=e.lastChild;)e.removeChild(n);if(typeof i=="function"){var s=i;i=function(){var d=so(a);s.call(d)}}var a=nc(e,0,!1,null,null,!1,!1,"",Su);return e._reactRootContainer=a,e[Jt]=a.current,Cn(e.nodeType===8?e.parentNode:e),Yr(function(){Eo(t,a,r,i)}),a}function To(e,t,r,i,n){var o=r._reactRootContainer;if(o){var p=o;if(typeof n=="function"){var s=n;n=function(){var a=so(p);s.call(a)}}Eo(t,p,e,n)}else p=dg(r,t,e,n,i);return so(p)}bh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ji(t.pendingLanes);r!==0&&(El(t,r|1),at(t,Oe()),!(_e&6)&&(Mi=Oe()+500,Mr()))}break;case 13:Yr(function(){var i=er(e,1);if(i!==null){var n=Ye();Tt(i,e,1,n)}}),sc(e,1)}};Ll=function(e){if(e.tag===13){var t=er(e,134217728);if(t!==null){var r=Ye();Tt(t,e,134217728,r)}sc(e,134217728)}};kh=function(e){if(e.tag===13){var t=xr(e),r=er(e,t);if(r!==null){var i=Ye();Tt(r,e,t,i)}sc(e,t)}};Eh=function(){return we};Lh=function(e,t){var r=we;try{return we=e,t()}finally{we=r}};Ea=function(e,t,r){switch(t){case"input":if(ya(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var i=r[t];if(i!==e&&i.form===e.form){var n=yo(i);if(!n)throw Error(Z(90));nh(i),ya(i,n)}}}break;case"textarea":oh(e,r);break;case"select":t=r.value,t!=null&&yi(e,!!r.multiple,t,!1)}};fh=ec;ph=Yr;var fg={usingClientEntryPoint:!1,Events:[Yn,ui,yo,hh,dh,ec]},Xi={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pg={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vh(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||hg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{_o=ys.inject(pg),Ft=ys}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fg;ft.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ac(t))throw Error(Z(200));return ug(e,t,null,r)};ft.createRoot=function(e,t){if(!ac(e))throw Error(Z(299));var r=!1,i="",n=Gd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=nc(e,1,!1,null,null,r,!1,i,n),e[Jt]=t.current,Cn(e.nodeType===8?e.parentNode:e),new oc(t)};ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=vh(t),e=e===null?null:e.stateNode,e};ft.flushSync=function(e){return Yr(e)};ft.hydrate=function(e,t,r){if(!Ro(t))throw Error(Z(200));return To(null,e,t,!0,r)};ft.hydrateRoot=function(e,t,r){if(!ac(e))throw Error(Z(405));var i=r!=null&&r.hydratedSources||null,n=!1,o="",p=Gd;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=qd(t,null,e,1,r??null,n,!1,o,p),e[Jt]=t.current,Cn(e),i)for(e=0;e<i.length;e++)r=i[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new Lo(t)};ft.render=function(e,t,r){if(!Ro(t))throw Error(Z(200));return To(null,e,t,!1,r)};ft.unmountComponentAtNode=function(e){if(!Ro(e))throw Error(Z(40));return e._reactRootContainer?(Yr(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1};ft.unstable_batchedUpdates=ec;ft.unstable_renderSubtreeIntoContainer=function(e,t,r,i){if(!Ro(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return To(e,t,r,!1,i)};ft.version="18.3.1-next-f1338f8080-20240426";function Xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xd)}catch(e){console.error(e)}}Xd(),Xu.exports=ft;var _g=Xu.exports,Yd,wu=_g;Yd=wu.createRoot,wu.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(e,t)=>{const r=ae.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:p,className:s="",children:a,...d},_)=>ae.createElement("svg",{ref:_,...gg,width:n,height:n,stroke:i,strokeWidth:p?Number(o)*24/Number(n):o,className:["lucide",`lucide-${vg(e)}`,s].join(" "),...d},[...t.map(([f,v])=>ae.createElement(f,v)),...Array.isArray(a)?a:[a]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=ge("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ge("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ge("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=ge("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=ge("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ge("MonitorSmartphone",[["path",{d:"M18 8V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h8",key:"10dyio"}],["path",{d:"M10 19v-3.96 3.15",key:"1irgej"}],["path",{d:"M7 19h5",key:"qswx4l"}],["rect",{width:"6",height:"10",x:"16",y:"12",rx:"2",key:"1egngj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=ge("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ge("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ge("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=ge("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=ge("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=ge("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=ge("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ge("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=ge("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=ge("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$g={BASE_URL:"/WEBSec-Browser/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Cu=e=>{let t;const r=new Set,i=(_,f)=>{const v=typeof _=="function"?_(t):_;if(!Object.is(v,t)){const w=t;t=f??(typeof v!="object"||v===null)?v:Object.assign({},t,v),r.forEach(C=>C(t,w))}},n=()=>t,a={setState:i,getState:n,getInitialState:()=>d,subscribe:_=>(r.add(_),()=>r.delete(_)),destroy:()=>{($g?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},d=t=e(i,n,a);return a},Ug=e=>e?Cu(e):Cu;var sf={exports:{}},of={},af={exports:{}},lf={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pi=ae;function Wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vg=typeof Object.is=="function"?Object.is:Wg,Kg=Pi.useState,Zg=Pi.useEffect,qg=Pi.useLayoutEffect,Gg=Pi.useDebugValue;function Xg(e,t){var r=t(),i=Kg({inst:{value:r,getSnapshot:t}}),n=i[0].inst,o=i[1];return qg(function(){n.value=r,n.getSnapshot=t,la(n)&&o({inst:n})},[e,r,t]),Zg(function(){return la(n)&&o({inst:n}),e(function(){la(n)&&o({inst:n})})},[e]),Gg(r),r}function la(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vg(e,r)}catch{return!0}}function Yg(e,t){return t()}var Qg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yg:Xg;lf.useSyncExternalStore=Pi.useSyncExternalStore!==void 0?Pi.useSyncExternalStore:Qg;af.exports=lf;var Jg=af.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=ae,ev=Jg;function tv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rv=typeof Object.is=="function"?Object.is:tv,iv=ev.useSyncExternalStore,nv=Oo.useRef,sv=Oo.useEffect,ov=Oo.useMemo,av=Oo.useDebugValue;of.useSyncExternalStoreWithSelector=function(e,t,r,i,n){var o=nv(null);if(o.current===null){var p={hasValue:!1,value:null};o.current=p}else p=o.current;o=ov(function(){function a(w){if(!d){if(d=!0,_=w,w=i(w),n!==void 0&&p.hasValue){var C=p.value;if(n(C,w))return f=C}return f=w}if(C=f,rv(_,w))return C;var S=i(w);return n!==void 0&&n(C,S)?C:(_=w,f=S)}var d=!1,_,f,v=r===void 0?null:r;return[function(){return a(t())},v===null?void 0:function(){return a(v())}]},[t,r,i,n]);var s=iv(e,o[0],o[1]);return sv(function(){p.hasValue=!0,p.value=s},[s]),av(s),s};sf.exports=of;var lv=sf.exports;const cv=ju(lv),cf={BASE_URL:"/WEBSec-Browser/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:uv}=qt,{useSyncExternalStoreWithSelector:hv}=cv;let xu=!1;const dv=e=>e;function fv(e,t=dv,r){(cf?"production":void 0)!=="production"&&r&&!xu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),xu=!0);const i=hv(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return uv(i),i}const bu=e=>{(cf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ug(e):e,r=(i,n)=>fv(t,i,n);return Object.assign(r,t),r},Jn=e=>e?bu(e):bu,zi=Jn(e=>({url:"",history:[],currentIndex:-1,activeTab:0,tabs:[{id:0,url:"",title:"New Tab"}],securityAnalysis:{headers:{},cookies:[],certificates:null},navigate:t=>e(r=>{const i=[...r.history.slice(0,r.currentIndex+1),t],n=i.length-1;return{url:t,history:i,currentIndex:n,tabs:r.tabs.map(o=>o.id===r.activeTab?{...o,url:t,title:t}:o)}}),goBack:()=>e(t=>{if(t.currentIndex>0){const r=t.currentIndex-1,i=t.history[r];return{url:i,currentIndex:r,tabs:t.tabs.map(n=>n.id===t.activeTab?{...n,url:i,title:i}:n)}}return t}),goForward:()=>e(t=>{if(t.currentIndex<t.history.length-1){const r=t.currentIndex+1,i=t.history[r];return{url:i,currentIndex:r,tabs:t.tabs.map(n=>n.id===t.activeTab?{...n,url:i,title:i}:n)}}return t}),addTab:()=>e(t=>({tabs:[...t.tabs,{id:Date.now(),url:"",title:"New Tab"}],activeTab:Date.now()})),closeTab:t=>e(r=>{var i;return{tabs:r.tabs.filter(n=>n.id!==t),activeTab:r.activeTab===t?(i=r.tabs[0])==null?void 0:i.id:r.activeTab}}),setActiveTab:t=>e(r=>{const i=r.tabs.find(n=>n.id===t);return{activeTab:t,url:(i==null?void 0:i.url)||"",currentIndex:i!=null&&i.url?r.history.indexOf(i.url):r.currentIndex}}),updateSecurityAnalysis:t=>e(()=>({securityAnalysis:t}))})),pv=()=>{const{url:e,navigate:t,goBack:r,goForward:i,history:n,currentIndex:o}=zi(),p=f=>{f.preventDefault();const w=new FormData(f.currentTarget).get("url");w&&t(w)},s=f=>{const v=f.target.value;!v.startsWith("http://")&&!v.startsWith("https://")&&(f.target.value=`https://${v}`)},a=f=>{if(f.key==="Enter"){f.preventDefault();const v=f.currentTarget;v.value&&t(v.value)}},d=o>0,_=o<n.length-1;return D.jsxs("div",{className:"flex items-center space-x-4 p-4 neo-panel",children:[D.jsxs("div",{className:"flex space-x-2",children:[D.jsx("button",{onClick:r,className:`neo-pill p-3 ${d?"text-cyan-500":"text-gray-500 cursor-not-allowed"}`,title:"Go Back",disabled:!d,children:D.jsx(wg,{size:20})}),D.jsx("button",{onClick:i,className:`neo-pill p-3 ${_?"text-cyan-500":"text-gray-500 cursor-not-allowed"}`,title:"Go Forward",disabled:!_,children:D.jsx(Cg,{size:20})}),D.jsx("button",{onClick:()=>e&&t(e),className:"neo-pill p-3 text-cyan-500",title:"Reload",children:D.jsx(Ig,{size:20})})]}),D.jsx("form",{onSubmit:p,className:"flex-1",children:D.jsxs("div",{className:"flex items-center neo-border rounded-full px-4 py-2 bg-gray-900/50",children:[D.jsx(Do,{size:20,className:"text-cyan-500 mr-3"}),D.jsx("input",{type:"text",name:"url",defaultValue:e,onChange:s,onKeyDown:a,placeholder:"Enter URL (e.g., https://example.com)",className:"w-full bg-transparent text-white neo-text",autoComplete:"off",spellCheck:"false"})]})})]})},fe={whatweb:"/usr/bin/whatweb",wappalyzer:"/usr/bin/wappalyzer",nikto:"/usr/bin/nikto",httpprobe:"/usr/bin/httpx",aquatone:"/usr/bin/aquatone",gobuster:"/usr/bin/gobuster",dirsearch:"/usr/bin/dirsearch",ffuf:"/usr/bin/ffuf",wfuzz:"/usr/bin/wfuzz",davtest:"/usr/bin/davtest",nmap:"/usr/bin/nmap",masscan:"/usr/bin/masscan",unicornscan:"/usr/bin/unicornscan",netcat:"/usr/bin/nc",tcpdump:"/usr/sbin/tcpdump",wireshark:"/usr/bin/wireshark",sublist3r:"/usr/bin/sublist3r",amass:"/usr/bin/amass",assetfinder:"/usr/bin/assetfinder",dnsrecon:"/usr/bin/dnsrecon",fierce:"/usr/bin/fierce",dnsenum:"/usr/bin/dnsenum",enum4linux:"/usr/bin/enum4linux",smbclient:"/usr/bin/smbclient",crackmapexec:"/usr/bin/crackmapexec",ldapsearch:"/usr/bin/ldapsearch",windapsearch:"/usr/bin/windapsearch",hydra:"/usr/bin/hydra",medusa:"/usr/bin/medusa",onesixtyone:"/usr/bin/onesixtyone",snmpwalk:"/usr/bin/snmpwalk",snmpcheck:"/usr/bin/snmpcheck",cloudbrute:"/usr/bin/cloudbrute",awscli:"/usr/bin/aws",s3scanner:"/usr/bin/s3scanner",arjun:"/usr/bin/arjun",paramspider:"/usr/bin/paramspider",wpscan:"/usr/bin/wpscan",wpseku:"/usr/bin/wpseku",cmseek:"/usr/bin/cmseek",droopescan:"/usr/bin/droopescan",sqlmap:"/usr/bin/sqlmap",nosqlmap:"/usr/bin/nosqlmap",mongoenum:"/usr/bin/mongoenum",airodump:"/usr/sbin/airodump-ng",kismet:"/usr/bin/kismet",wifite:"/usr/bin/wifite",shodan:"/usr/bin/shodan",theharvester:"/usr/bin/theharvester",metasploit:"/usr/bin/msfconsole",recon_ng:"/usr/bin/recon-ng",spiderfoot:"/usr/bin/spiderfoot"},Ve={whatweb:{name:"WhatWeb",command:"{path} {target} --color=never",category:"web",description:"Web technology fingerprinter",path:fe.whatweb},wappalyzer:{name:"Wappalyzer CLI",command:"{path} {target}",category:"web",description:"Technology stack detector",path:fe.wappalyzer},nikto:{name:"Nikto",command:"{path} -h {target}",category:"web",description:"Web server vulnerability scanner",path:fe.nikto},httpprobe:{name:"HTTProbe",command:"{path} {target}",category:"web",description:"HTTP/HTTPS probe",path:fe.httpprobe},aquatone:{name:"Aquatone",command:"{path} -url {target}",category:"web",description:"Visual web reconnaissance",path:fe.aquatone},gobuster:{name:"Gobuster",command:"{path} dir -u {target} -w /usr/share/wordlists/dirb/common.txt",category:"web",description:"Directory/file enumeration",path:fe.gobuster},dirsearch:{name:"Dirsearch",command:"{path} -u {target}",category:"web",description:"Web path scanner",path:fe.dirsearch},ffuf:{name:"FFUF",command:"{path} -u {target}/FUZZ -w /usr/share/wordlists/dirb/common.txt",category:"web",description:"Fast web fuzzer",path:fe.ffuf},wfuzz:{name:"Wfuzz",command:"{path} -c -z file,/usr/share/wordlists/dirb/common.txt --hc 404 {target}/FUZZ",category:"web",description:"Web fuzzer",path:fe.wfuzz},davtest:{name:"DAVTest",command:"{path} -url {target}",category:"web",description:"WebDAV tester",path:fe.davtest},nmap:{name:"Nmap",command:"{path} -sV {target}",category:"network",description:"Network scanner",path:fe.nmap},masscan:{name:"Masscan",command:"{path} -p1-65535 {target}",category:"network",description:"Mass IP port scanner",path:fe.masscan},unicornscan:{name:"Unicornscan",command:"{path} {target}",category:"network",description:"TCP/UDP port scanner",path:fe.unicornscan},netcat:{name:"Netcat",command:"{path} -zv {target} 1-1000",category:"network",description:"TCP/UDP swiss army knife",path:fe.netcat},tcpdump:{name:"TCPDump",command:"{path} -i any host {target}",category:"network",description:"Network packet analyzer",path:fe.tcpdump},sublist3r:{name:"Sublist3r",command:"{path} -d {target}",category:"subdomain",description:"Subdomain enumerator",path:fe.sublist3r},amass:{name:"Amass",command:"{path} enum -d {target}",category:"subdomain",description:"Network mapping tool",path:fe.amass},assetfinder:{name:"Assetfinder",command:"{path} {target}",category:"subdomain",description:"Domain asset finder",path:fe.assetfinder},dnsrecon:{name:"DNSRecon",command:"{path} -d {target}",category:"subdomain",description:"DNS enumeration script",path:fe.dnsrecon},fierce:{name:"Fierce",command:"{path} --domain {target}",category:"subdomain",description:"DNS reconnaissance tool",path:fe.fierce},enum4linux:{name:"Enum4Linux",command:"{path} {target}",category:"service",description:"Windows/Samba enumerator",path:fe.enum4linux},smbclient:{name:"SMBClient",command:"{path} -L {target} -N",category:"service",description:"SMB/CIFS client",path:fe.smbclient},crackmapexec:{name:"CrackMapExec",command:"{path} smb {target}",category:"service",description:"Swiss army knife for networks",path:fe.crackmapexec},ldapsearch:{name:"LDAPSearch",command:"{path} -h {target} -x -s base",category:"service",description:"LDAP enumeration tool",path:fe.ldapsearch},hydra:{name:"Hydra",command:"{path} -L users.txt -P pass.txt {target} http-post-form",category:"service",description:"Login cracker",path:fe.hydra},cloudbrute:{name:"CloudBrute",command:"{path} -d {target}",category:"cloud",description:"Cloud infrastructure bruter",path:fe.cloudbrute},s3scanner:{name:"S3Scanner",command:"{path} {target}",category:"cloud",description:"AWS S3 bucket scanner",path:fe.s3scanner},arjun:{name:"Arjun",command:"{path} -u {target}",category:"cloud",description:"HTTP parameter discovery",path:fe.arjun},wpscan:{name:"WPScan",command:"{path} --url {target}",category:"application",description:"WordPress security scanner",path:fe.wpscan},sqlmap:{name:"SQLMap",command:"{path} -u {target}",category:"application",description:"SQL injection scanner",path:fe.sqlmap},cmseek:{name:"CMSeeK",command:"{path} -u {target}",category:"application",description:"CMS detection tool",path:fe.cmseek},airodump:{name:"Airodump-ng",command:"{path}",category:"wireless",description:"Wireless packet capture",path:fe.airodump},kismet:{name:"Kismet",command:"{path}",category:"wireless",description:"Wireless network detector",path:fe.kismet},theharvester:{name:"theHarvester",command:"{path} -d {target} -b all",category:"misc",description:"Email and subdomain harvester",path:fe.theharvester},spiderfoot:{name:"SpiderFoot",command:"{path} -s {target}",category:"misc",description:"OSINT automation tool",path:fe.spiderfoot}};async function _v(e){const t=Ve[e];if(!t.path)return!1;try{return await fs.promises.access(t.path,fs.constants.X_OK),!0}catch{return!1}}const gv=async(e,t)=>{const r=Ve[e];if(!r)throw new Error(`Tool ${e} not found`);if(!await _v(e))throw new Error(`Tool ${r.name} is not installed or not accessible`);try{const n=r.command.replace("{path}",r.path||"").replace("{target}",t),{exec:o}=require("child_process");return new Promise((p,s)=>{o(n,{maxBuffer:1024*1024*10},(a,d,_)=>{if(a&&!d){s(new Error(`Failed to run ${r.name}: ${a.message}`));return}const f=d||_,v=r.parseOutput?r.parseOutput(f):f;p({id:Date.now().toString(),toolId:e,timestamp:Date.now(),target:t,output:f,parsedOutput:v,status:a?"error":"completed"})})})}catch(n){throw new Error(`Failed to run ${r.name}: ${n}`)}},Mo=Jn((e,t)=>({results:[],running:[],showRawOutput:!1,configs:{},executeTool:async(r,i)=>{e(n=>({running:[...n.running,r]}));try{const n=await gv(r,i);e(o=>({results:[n,...o.results],running:o.running.filter(p=>p!==r)}))}catch(n){e(o=>({results:[{id:Date.now().toString(),toolId:r,timestamp:Date.now(),target:i,output:String(n),status:"error"},...o.results],running:o.running.filter(p=>p!==r)}))}},clearResults:()=>e({results:[]}),toggleRawOutput:()=>e(r=>({showRawOutput:!r.showRawOutput})),updateToolConfig:(r,i)=>{const n=Ve[r];Ve[r]={...n,...i};try{const o=JSON.parse(localStorage.getItem("toolConfigs")||"{}");o[r]=Ve[r],localStorage.setItem("toolConfigs",JSON.stringify(o))}catch(o){console.error("Failed to save tool config:",o)}},saveConfig:(r,i)=>{e(n=>({configs:{...n.configs,[r]:i}}));try{const n=JSON.parse(localStorage.getItem("toolConfigs")||"{}");n[r]=i,localStorage.setItem("toolConfigs",JSON.stringify(n))}catch(n){console.error("Failed to save tool config:",n)}},loadConfig:r=>{const{configs:i}=t();return i[r]},loadAllConfigs:()=>{try{const r=JSON.parse(localStorage.getItem("toolConfigs")||"{}");e({configs:r}),Object.entries(r).forEach(([i,n])=>{Ve[i]&&(Ve[i]={...Ve[i],...n})})}catch(r){console.error("Failed to load tool configs:",r)}}})),vv=e=>{switch(e){case"web":return D.jsx(Ag,{className:"text-blue-500"});case"network":return D.jsx(ef,{className:"text-green-500"});case"subdomain":return D.jsx(Tg,{className:"text-purple-500"});case"service":return D.jsx(Bg,{className:"text-yellow-500"});case"cloud":return D.jsx(kg,{className:"text-cyan-500"});case"application":return D.jsx(Eg,{className:"text-pink-500"});case"wireless":return D.jsx(zg,{className:"text-red-500"});case"misc":return D.jsx(Ao,{className:"text-gray-500"});default:return D.jsx(Do,{className:"text-cyan-500"})}},mv={web:"Web Enumeration",network:"Network & Port",subdomain:"Subdomain & DNS",service:"Service Enumeration",cloud:"Cloud & API",application:"Application",wireless:"Wireless & IoT",misc:"Miscellaneous"},yv=()=>{const{executeTool:e}=Mo(),{url:t}=zi(),[r,i]=ae.useState({}),n=ae.useMemo(()=>Object.entries(Ve).reduce((s,[a,d])=>{const _=d.category;return s[_]||(s[_]=[]),s[_].push({id:a,...d}),s},{}),[]),o=s=>{if(!t){alert("Please enter a URL first");return}e(s,t)},p=s=>{i(a=>({...a,[s]:!a[s]}))};return D.jsxs("div",{className:"w-64 neo-panel overflow-y-auto border-r border-cyan-500/30",children:[D.jsx("h2",{className:"text-cyan-500 text-xl font-bold p-4",children:"Security Tools"}),D.jsx("div",{className:"space-y-2",children:Object.entries(n).map(([s,a])=>D.jsxs("div",{className:"px-2",children:[D.jsxs("button",{onClick:()=>p(s),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-gray-400 hover:bg-gray-800/50 rounded-lg transition-all duration-200 neo-button",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[vv(s),D.jsx("span",{className:"uppercase",children:mv[s]||s})]}),r[s]?D.jsx(Qd,{size:16}):D.jsx(Jd,{size:16})]}),r[s]&&D.jsx("div",{className:"ml-2 space-y-1 mt-1",children:a.map(d=>D.jsx("button",{onClick:()=>o(d.id),className:"w-full flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-800/50 text-left transition-all duration-200 group neo-button",children:D.jsxs("div",{className:"flex-1",children:[D.jsx("div",{className:"text-white font-medium group-hover:text-cyan-500 transition-colors",children:d.name}),D.jsx("div",{className:"text-gray-400 text-sm",children:d.description})]})},d.id))})]},s))})]})},Sv=async e=>{try{const t={"Content-Security-Policy":"default-src 'self'","X-Frame-Options":"SAMEORIGIN","X-XSS-Protection":"1; mode=block","Strict-Transport-Security":"max-age=31536000; includeSubDomains","X-Content-Type-Options":"nosniff"},r=[{name:"session",value:"abc123",domain:new URL(e).hostname,path:"/",httpOnly:!0,secure:!0,expires:new Date(Date.now()+864e5)}],i={issuer:"Let's Encrypt Authority X3",validFrom:new Date,validTo:new Date(Date.now()+7776e6),subject:new URL(e).hostname};return{headers:t,cookies:r,certificates:i}}catch(t){return console.error("Security analysis failed:",t),{headers:{},cookies:[],certificates:null}}},wv=e=>{const t=[];return e["Content-Security-Policy"]||t.push({issue:"Missing Content Security Policy",severity:"high"}),e["X-Frame-Options"]||t.push({issue:"Missing X-Frame-Options (Clickjacking Protection)",severity:"medium"}),e["Strict-Transport-Security"]||t.push({issue:"Missing HSTS (HTTP Strict Transport Security)",severity:"high"}),{security:t}},Cv=e=>{const t=[];for(const r of e)r.secure||t.push({issue:`Cookie '${r.name}' is not secure`,severity:"high"}),r.httpOnly||t.push({issue:`Cookie '${r.name}' is not HttpOnly`,severity:"medium"});return{security:t}},xv=()=>D.jsxs("div",{className:"relative h-full w-full overflow-hidden bg-black",children:[D.jsxs("div",{className:"absolute inset-0 perspective-grid",children:[D.jsx("div",{className:"grid-background"}),D.jsx("div",{className:"grid-overlay"})]}),D.jsxs("div",{className:"relative h-full flex flex-col items-center justify-center text-center z-10",children:[D.jsx("div",{className:"transform-gpu",children:D.jsx(Do,{size:80,className:"text-cyan-500 mb-8",style:{filter:"drop-shadow(0 0 20px rgba(0, 255, 242, 0.5))",animation:"float 3s ease-in-out infinite"}})}),D.jsx("h1",{className:"text-5xl font-bold mb-6 glow-text",children:"WEBSec Browser"}),D.jsx("p",{className:"text-xl text-gray-400 max-w-lg",children:"Enter a URL above to begin your secure browsing experience"}),D.jsx("div",{className:"absolute top-1/4 left-1/4 w-32 h-32 rounded-full bg-gradient-to-r from-cyan-500/10 to-purple-500/10 blur-xl"}),D.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-40 h-40 rounded-full bg-gradient-to-r from-purple-500/10 to-cyan-500/10 blur-xl"})]})]}),bv=()=>{const{url:e,updateSecurityAnalysis:t,navigate:r}=zi(),i=ae.useRef(null);ae.useEffect(()=>{if(e){let p=e;!e.startsWith("http://")&&!e.startsWith("https://")&&(p=`https://${e}`,r(p));try{const s=new URL(p);document.title=`${s.hostname} - WEBSec Browser`}catch(s){console.error("Invalid URL:",s)}Sv(p).then(s=>{t(s)})}},[e,t,r]);const n=()=>{const p=i.current;p&&p.src!==e&&r(p.src)},o=p=>{const s=p.target;if(s.tagName==="A"){p.preventDefault();const a=s.href;a&&r(a)}};return D.jsx("div",{className:"w-full h-full neo-brutalism",onClick:o,children:e?D.jsx("iframe",{ref:i,src:e,className:"w-full h-full border-0",sandbox:"allow-scripts allow-popups allow-forms",onLoad:n,title:"Security Browser Viewport"}):D.jsx(xv,{})})},kv=()=>{const{tabs:e,activeTab:t,addTab:r,closeTab:i,setActiveTab:n}=zi();return D.jsxs("div",{className:"flex items-center bg-gray-900 border-b border-cyan-500",children:[D.jsx("div",{className:"flex-1 flex",children:e.map(o=>D.jsxs("div",{className:`group relative flex items-center space-x-2 px-4 py-2 cursor-pointer ${t===o.id?"bg-gray-800 text-white":"text-gray-400 hover:bg-gray-800"}`,onClick:()=>n(o.id),children:[D.jsx("span",{className:"truncate max-w-xs",children:o.title}),e.length>1&&D.jsx("button",{onClick:p=>{p.stopPropagation(),i(o.id)},className:"opacity-0 group-hover:opacity-100",children:D.jsx(nf,{size:16})})]},o.id))}),D.jsx("button",{onClick:()=>r(),className:"px-4 py-2 text-cyan-500 hover:bg-gray-800",children:"+"})]})},Ev=({children:e,defaultHeight:t=256,minHeight:r=100,maxHeight:i=800})=>{const[n,o]=ae.useState(t),[p,s]=ae.useState(!1),a=f=>{f.preventDefault(),s(!0)},d=ae.useCallback(f=>{if(p){const v=window.innerHeight,w=f.clientY,C=v-w;C>=r&&C<=i&&(o(C),localStorage.setItem("panelHeight",C.toString()))}},[p,r,i]),_=ae.useCallback(()=>{s(!1)},[]);return ae.useEffect(()=>{const f=localStorage.getItem("panelHeight");if(f){const v=parseInt(f,10);v>=r&&v<=i&&o(v)}},[r,i]),ae.useEffect(()=>(p&&(window.addEventListener("mousemove",d),window.addEventListener("mouseup",_)),()=>{window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",_)}),[p,d,_]),D.jsxs("div",{style:{height:n},className:"relative",children:[D.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-cyan-500 cursor-ns-resize hover:bg-cyan-400 transition-colors",onMouseDown:a}),D.jsx("div",{className:"h-full overflow-hidden",children:e})]})},Lv=()=>{const[e,t]=ae.useState(!1),[r,i]=ae.useState([{name:"HTB",configPath:"",isActive:!1},{name:"TryHackMe",configPath:"",isActive:!1}]),n=(p,s)=>{var d;const a=(d=s.target.files)==null?void 0:d[0];a&&i(_=>_.map(f=>f.name===p?{...f,configPath:URL.createObjectURL(a)}:f))},o=p=>{i(s=>s.map(a=>a.name===p?{...a,isActive:!a.isActive}:a))};return D.jsxs("div",{className:"relative",children:[D.jsxs("button",{onClick:()=>t(!e),className:"flex items-center space-x-2 px-3 py-1 rounded bg-gray-800 hover:bg-gray-700 text-cyan-500",children:[D.jsx(ef,{size:16}),D.jsx("span",{children:"VPN"})]}),e&&D.jsxs("div",{className:"absolute right-0 top-full mt-2 w-64 bg-gray-900 rounded-lg shadow-lg border border-cyan-500 z-50",children:[D.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-cyan-500",children:[D.jsx("h3",{className:"text-white font-medium",children:"VPN Connections"}),D.jsx("button",{onClick:()=>t(!1),className:"text-gray-400 hover:text-white",children:D.jsx(nf,{size:16})})]}),D.jsx("div",{className:"p-3 space-y-3",children:r.map(p=>D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("span",{className:"text-white",children:p.name}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsxs("label",{className:"cursor-pointer",children:[D.jsx("input",{type:"file",accept:".ovpn",onChange:s=>n(p.name,s),className:"hidden"}),D.jsx(Fg,{size:16,className:`${p.configPath?"text-green-500":"text-gray-400 hover:text-white"}`})]}),D.jsx("button",{onClick:()=>o(p.name),disabled:!p.configPath,className:`${p.isActive?"text-green-500":"text-gray-400 hover:text-white"} ${!p.configPath&&"opacity-50 cursor-not-allowed"}`,children:D.jsx(Ng,{size:16})})]})]}),D.jsx("div",{className:"text-xs text-gray-400",children:p.configPath?"OVPN config loaded":"Upload OVPN config file"})]},p.name))})]})]})},uf=Jn(e=>({theme:"dark",toggleTheme:()=>e(t=>({theme:t.theme==="dark"?"light":"dark"}))})),Rv=()=>{const{theme:e,toggleTheme:t}=uf();return D.jsx("button",{onClick:t,className:"flex items-center space-x-2 px-3 py-1 rounded bg-gray-800 hover:bg-gray-700 text-cyan-500",title:`Switch to ${e==="dark"?"light":"dark"} mode`,children:e==="dark"?D.jsx(Hg,{size:16}):D.jsx(Og,{size:16})})},Tv=Jn(e=>({activePanel:"results",setActivePanel:t=>e({activePanel:t})})),hf=()=>{const{results:e}=Mo(),[t,r]=ae.useState({}),i=p=>{r(s=>({...s,[p]:!s[p]}))},n=p=>{switch(p){case"completed":return D.jsx(xg,{size:16,className:"text-green-500"});case"error":return D.jsx(mg,{size:16,className:"text-red-500"});case"running":return D.jsx(bg,{size:16,className:"text-yellow-500"});default:return null}},o=p=>{navigator.clipboard.writeText(p)};return D.jsxs("div",{className:"w-64 neo-panel overflow-y-auto border-l border-cyan-500/30",children:[D.jsx("h2",{className:"text-cyan-500 text-xl font-bold p-4 border-b border-cyan-500/30",children:"Tool Results"}),D.jsx("div",{className:"space-y-2",children:e.length===0?D.jsx("div",{className:"p-4 text-gray-400 text-center",children:"No results yet. Run a tool to see output here."}):e.map(p=>D.jsxs("div",{className:"px-2",children:[D.jsxs("button",{onClick:()=>i(p.id),className:"w-full flex items-center justify-between p-2 text-sm font-medium text-gray-400 hover:bg-gray-800/50 rounded-lg transition-all duration-200 neo-button",children:[D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx(Ao,{size:16,className:"text-cyan-500"}),D.jsx("span",{children:p.toolId})]}),D.jsxs("div",{className:"flex items-center space-x-2",children:[n(p.status),t[p.id]?D.jsx(Qd,{size:16}):D.jsx(Jd,{size:16})]})]}),t[p.id]&&D.jsxs("div",{className:"ml-2 mt-1 p-2 bg-gray-800/30 rounded-lg border border-cyan-500/20",children:[D.jsxs("div",{className:"flex justify-between items-center mb-2",children:[D.jsx("span",{className:"text-xs text-gray-400",children:new Date(p.timestamp).toLocaleString()}),D.jsx("button",{onClick:()=>o(p.output),className:"text-gray-400 hover:text-cyan-500",title:"Copy output",children:D.jsx(sl,{size:14})})]}),D.jsx("pre",{className:"text-xs text-gray-300 whitespace-pre-wrap break-words",children:p.output})]})]},p.id))})]})},Dv=({analysis:e})=>{const[t,r]=ae.useState([]),[i,n]=ae.useState([]);zi(),ae.useEffect(()=>{const{security:p}=wv(e.headers),{security:s}=Cv(e.cookies);r(p),n(s)},[e]);const o=p=>{switch(p){case"high":return"text-red-500";case"medium":return"text-yellow-500";case"low":return"text-green-500"}};return D.jsx("div",{className:"bg-gray-900 border-t border-cyan-500 h-64 overflow-y-auto",children:D.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[D.jsxs("div",{className:"flex items-center mb-2",children:[D.jsx(Do,{className:"text-cyan-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"Headers"})]}),D.jsx("div",{className:"space-y-2",children:Object.entries(e.headers).map(([p,s])=>D.jsxs("div",{className:"text-sm",children:[D.jsxs("span",{className:"text-cyan-500",children:[p,":"]}),D.jsx("span",{className:"text-gray-300 ml-2",children:s})]},p))})]}),D.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[D.jsxs("div",{className:"flex items-center mb-2",children:[D.jsx(Lg,{className:"text-cyan-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"Cookies"})]}),D.jsx("div",{className:"space-y-2",children:e.cookies.map(p=>D.jsxs("div",{className:"text-sm",children:[D.jsx("div",{className:"text-cyan-500",children:p.name}),D.jsxs("div",{className:"text-gray-300 text-xs",children:["Domain: ",p.domain,D.jsx("br",{}),"Secure: ",p.secure?"Yes":"No",D.jsx("br",{}),"HttpOnly: ",p.httpOnly?"Yes":"No",p.expires&&D.jsxs(D.Fragment,{children:[D.jsx("br",{}),"Expires: ",p.expires.toLocaleString()]})]})]},p.name))})]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[D.jsxs("div",{className:"flex items-center mb-2",children:[D.jsx(Rg,{className:"text-cyan-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"SSL Certificate"})]}),e.certificates?D.jsxs("div",{className:"text-sm space-y-1",children:[D.jsxs("div",{children:[D.jsx("span",{className:"text-cyan-500",children:"Issuer:"}),D.jsx("span",{className:"text-gray-300 ml-2",children:e.certificates.issuer})]}),D.jsxs("div",{children:[D.jsx("span",{className:"text-cyan-500",children:"Valid From:"}),D.jsx("span",{className:"text-gray-300 ml-2",children:e.certificates.validFrom.toLocaleDateString()})]}),D.jsxs("div",{children:[D.jsx("span",{className:"text-cyan-500",children:"Valid To:"}),D.jsx("span",{className:"text-gray-300 ml-2",children:e.certificates.validTo.toLocaleDateString()})]})]}):D.jsx("div",{className:"text-gray-400",children:"No SSL certificate found"})]}),D.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[D.jsxs("div",{className:"flex items-center mb-2",children:[D.jsx(yg,{className:"text-yellow-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"Security Issues"})]}),D.jsxs("div",{className:"space-y-2",children:[[...t,...i].map((p,s)=>D.jsxs("div",{className:`text-sm ${o(p.severity)}`,children:[" ",p.issue]},s)),t.length===0&&i.length===0&&D.jsx("div",{className:"text-green-500 text-sm",children:"No security issues found"})]})]})]})]})})};function Av(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r}function Ov(e,t){if(e==null)return{};var r,i,n=Av(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ol(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function Mv(e){if(Array.isArray(e))return ol(e)}function Pv(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nv(e,t){if(e){if(typeof e=="string")return ol(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ol(e,t):void 0}}function Iv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function al(e){return Mv(e)||Pv(e)||Nv(e)||Iv()}function An(e){"@babel/helpers - typeof";return An=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(e)}function Bv(e,t){if(An(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(An(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jv(e){var t=Bv(e,"string");return An(t)=="symbol"?t:t+""}function df(e,t,r){return(t=jv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ll.apply(null,arguments)}function ku(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ku(Object(r),!0).forEach(function(i){df(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ku(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function Hv(e){var t=e.length;if(t===0||t===1)return e;if(t===2)return[e[0],e[1],"".concat(e[0],".").concat(e[1]),"".concat(e[1],".").concat(e[0])];if(t===3)return[e[0],e[1],e[2],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0])];if(t>=4)return[e[0],e[1],e[2],e[3],"".concat(e[0],".").concat(e[1]),"".concat(e[0],".").concat(e[2]),"".concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[0]),"".concat(e[1],".").concat(e[2]),"".concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[1]),"".concat(e[2],".").concat(e[3]),"".concat(e[3],".").concat(e[0]),"".concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[0]),"".concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[0],".").concat(e[1],".").concat(e[2],".").concat(e[3]),"".concat(e[0],".").concat(e[1],".").concat(e[3],".").concat(e[2]),"".concat(e[0],".").concat(e[2],".").concat(e[1],".").concat(e[3]),"".concat(e[0],".").concat(e[2],".").concat(e[3],".").concat(e[1]),"".concat(e[0],".").concat(e[3],".").concat(e[1],".").concat(e[2]),"".concat(e[0],".").concat(e[3],".").concat(e[2],".").concat(e[1]),"".concat(e[1],".").concat(e[0],".").concat(e[2],".").concat(e[3]),"".concat(e[1],".").concat(e[0],".").concat(e[3],".").concat(e[2]),"".concat(e[1],".").concat(e[2],".").concat(e[0],".").concat(e[3]),"".concat(e[1],".").concat(e[2],".").concat(e[3],".").concat(e[0]),"".concat(e[1],".").concat(e[3],".").concat(e[0],".").concat(e[2]),"".concat(e[1],".").concat(e[3],".").concat(e[2],".").concat(e[0]),"".concat(e[2],".").concat(e[0],".").concat(e[1],".").concat(e[3]),"".concat(e[2],".").concat(e[0],".").concat(e[3],".").concat(e[1]),"".concat(e[2],".").concat(e[1],".").concat(e[0],".").concat(e[3]),"".concat(e[2],".").concat(e[1],".").concat(e[3],".").concat(e[0]),"".concat(e[2],".").concat(e[3],".").concat(e[0],".").concat(e[1]),"".concat(e[2],".").concat(e[3],".").concat(e[1],".").concat(e[0]),"".concat(e[3],".").concat(e[0],".").concat(e[1],".").concat(e[2]),"".concat(e[3],".").concat(e[0],".").concat(e[2],".").concat(e[1]),"".concat(e[3],".").concat(e[1],".").concat(e[0],".").concat(e[2]),"".concat(e[3],".").concat(e[1],".").concat(e[2],".").concat(e[0]),"".concat(e[3],".").concat(e[2],".").concat(e[0],".").concat(e[1]),"".concat(e[3],".").concat(e[2],".").concat(e[1],".").concat(e[0])]}var ca={};function Fv(e){if(e.length===0||e.length===1)return e;var t=e.join(".");return ca[t]||(ca[t]=Hv(e)),ca[t]}function zv(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=e.filter(function(o){return o!=="token"}),n=Fv(i);return n.reduce(function(o,p){return vi(vi({},o),r[p])},t)}function Eu(e){return e.join(" ")}function $v(e,t){var r=0;return function(i){return r+=1,i.map(function(n,o){return ff({node:n,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(r,"-").concat(o)})})}}function ff(e){var t=e.node,r=e.stylesheet,i=e.style,n=i===void 0?{}:i,o=e.useInlineStyles,p=e.key,s=t.properties,a=t.type,d=t.tagName,_=t.value;if(a==="text")return _;if(d){var f=$v(r,o),v;if(!o)v=vi(vi({},s),{},{className:Eu(s.className)});else{var w=Object.keys(r).reduce(function(u,l){return l.split(".").forEach(function(c){u.includes(c)||u.push(c)}),u},[]),C=s.className&&s.className.includes("token")?["token"]:[],S=s.className&&C.concat(s.className.filter(function(u){return!w.includes(u)}));v=vi(vi({},s),{},{className:Eu(S)||void 0,style:zv(s.className,Object.assign({},s.style,n),r)})}var h=f(t.children);return qt.createElement(d,ll({key:p},v),h)}}const Uv=function(e,t){var r=e.listLanguages();return r.indexOf(t)!==-1};var Wv=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,i)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(i){df(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}var Vv=/\n/g;function Kv(e){return e.match(Vv)}function Zv(e){var t=e.lines,r=e.startingLineNumber,i=e.style;return t.map(function(n,o){var p=o+r;return qt.createElement("span",{key:"line-".concat(o),className:"react-syntax-highlighter-line-number",style:typeof i=="function"?i(p):i},"".concat(p,`
`))})}function qv(e){var t=e.codeString,r=e.codeStyle,i=e.containerStyle,n=i===void 0?{float:"left",paddingRight:"10px"}:i,o=e.numberStyle,p=o===void 0?{}:o,s=e.startingLineNumber;return qt.createElement("code",{style:Object.assign({},r,n)},Zv({lines:t.replace(/\n$/,"").split(`
`),style:p,startingLineNumber:s}))}function Gv(e){return"".concat(e.toString().length,".25em")}function pf(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function _f(e,t,r){var i={display:"inline-block",minWidth:Gv(r),paddingRight:"1em",textAlign:"right",userSelect:"none"},n=typeof e=="function"?e(t):e,o=_r(_r({},i),n);return o}function Ms(e){var t=e.children,r=e.lineNumber,i=e.lineNumberStyle,n=e.largestLineNumber,o=e.showInlineLineNumbers,p=e.lineProps,s=p===void 0?{}:p,a=e.className,d=a===void 0?[]:a,_=e.showLineNumbers,f=e.wrapLongLines,v=e.wrapLines,w=v===void 0?!1:v,C=w?_r({},typeof s=="function"?s(r):s):{};if(C.className=C.className?[].concat(al(C.className.trim().split(/\s+/)),al(d)):d,r&&o){var S=_f(i,r,n);t.unshift(pf(r,S))}return f&_&&(C.style=_r({display:"flex"},C.style)),{type:"element",tagName:"span",properties:C,children:t}}function gf(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=0;i<e.length;i++){var n=e[i];if(n.type==="text")r.push(Ms({children:[n],className:al(new Set(t))}));else if(n.children){var o=t.concat(n.properties.className);gf(n.children,o).forEach(function(p){return r.push(p)})}}return r}function Xv(e,t,r,i,n,o,p,s,a){var d,_=gf(e.value),f=[],v=-1,w=0;function C(y,x){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Ms({children:y,lineNumber:x,lineNumberStyle:s,largestLineNumber:p,showInlineLineNumbers:n,lineProps:r,className:b,showLineNumbers:i,wrapLongLines:a,wrapLines:t})}function S(y,x){if(i&&x&&n){var b=_f(s,x,p);y.unshift(pf(x,b))}return y}function h(y,x){var b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return t||b.length>0?C(y,x,b):S(y,x)}for(var u=function(){var x=_[w],b=x.children[0].value,m=Kv(b);if(m){var k=b.split(`
`);k.forEach(function(R,M){var O=i&&f.length+o,P={type:"text",value:"".concat(R,`
`)};if(M===0){var j=_.slice(v+1,w).concat(Ms({children:[P],className:x.properties.className})),F=h(j,O);f.push(F)}else if(M===k.length-1){var V=_[w+1]&&_[w+1].children&&_[w+1].children[0],W={type:"text",value:"".concat(R)};if(V){var E=Ms({children:[W],className:x.properties.className});_.splice(w+1,0,E)}else{var T=[W],A=h(T,O,x.properties.className);f.push(A)}}else{var N=[P],U=h(N,O,x.properties.className);f.push(U)}}),v=w}w++};w<_.length;)u();if(v!==_.length-1){var l=_.slice(v+1,_.length);if(l&&l.length){var c=i&&f.length+o,g=h(l,c);f.push(g)}}return t?f:(d=[]).concat.apply(d,f)}function Yv(e){var t=e.rows,r=e.stylesheet,i=e.useInlineStyles;return t.map(function(n,o){return ff({node:n,stylesheet:r,useInlineStyles:i,key:"code-segement".concat(o)})})}function vf(e){return e&&typeof e.highlightAuto<"u"}function Qv(e){var t=e.astGenerator,r=e.language,i=e.code,n=e.defaultCodeValue;if(vf(t)){var o=Uv(t,r);return r==="text"?{value:n,language:"text"}:o?t.highlight(r,i):t.highlightAuto(i)}try{return r&&r!=="text"?{value:t.highlight(i,r)}:{value:n}}catch{return{value:n}}}function Jv(e,t){return function(i){var n=i.language,o=i.children,p=i.style,s=p===void 0?t:p,a=i.customStyle,d=a===void 0?{}:a,_=i.codeTagProps,f=_===void 0?{className:n?"language-".concat(n):void 0,style:_r(_r({},s['code[class*="language-"]']),s['code[class*="language-'.concat(n,'"]')])}:_,v=i.useInlineStyles,w=v===void 0?!0:v,C=i.showLineNumbers,S=C===void 0?!1:C,h=i.showInlineLineNumbers,u=h===void 0?!0:h,l=i.startingLineNumber,c=l===void 0?1:l,g=i.lineNumberContainerStyle,y=i.lineNumberStyle,x=y===void 0?{}:y,b=i.wrapLines,m=i.wrapLongLines,k=m===void 0?!1:m,R=i.lineProps,M=R===void 0?{}:R,O=i.renderer,P=i.PreTag,j=P===void 0?"pre":P,F=i.CodeTag,V=F===void 0?"code":F,W=i.code,E=W===void 0?(Array.isArray(o)?o[0]:o)||"":W,T=i.astGenerator,A=Ov(i,Wv);T=T||e;var N=S?qt.createElement(qv,{containerStyle:g,codeStyle:f.style||{},numberStyle:x,startingLineNumber:c,codeString:E}):null,U=s.hljs||s['pre[class*="language-"]']||{backgroundColor:"#fff"},I=vf(T)?"hljs":"prismjs",$=w?Object.assign({},A,{style:Object.assign({},U,d)}):Object.assign({},A,{className:A.className?"".concat(I," ").concat(A.className):I,style:Object.assign({},d)});if(k?f.style=_r({whiteSpace:"pre-wrap"},f.style):f.style=_r({whiteSpace:"pre"},f.style),!T)return qt.createElement(j,$,N,qt.createElement(V,f,E));(b===void 0&&O||k)&&(b=!0),O=O||Yv;var K=[{type:"text",value:E}],ee=Qv({astGenerator:T,language:n,code:E,defaultCodeValue:K});ee.language===null&&(ee.value=K);var L=ee.value.length;L===1&&ee.value[0].type==="text"&&(L=ee.value[0].value.split(`
`).length);var B=L+c,z=Xv(ee,b,M,S,u,c,B,x,k);return qt.createElement(j,$,qt.createElement(V,f,!u&&N,O({rows:z,stylesheet:s,useInlineStyles:w})))}}var ri={};function lc(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var r=e[t];typeof r=="object"&&!Object.isFrozen(r)&&lc(r)}),e}var mf=lc,em=lc;mf.default=em;class Ru{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function ki(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function gr(e,...t){const r=Object.create(null);for(const i in e)r[i]=e[i];return t.forEach(function(i){for(const n in i)r[n]=i[n]}),r}const tm="</span>",Tu=e=>!!e.kind;class rm{constructor(t,r){this.buffer="",this.classPrefix=r.classPrefix,t.walk(this)}addText(t){this.buffer+=ki(t)}openNode(t){if(!Tu(t))return;let r=t.kind;t.sublanguage||(r=`${this.classPrefix}${r}`),this.span(r)}closeNode(t){Tu(t)&&(this.buffer+=tm)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class cc{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const r={kind:t,children:[]};this.add(r),this.stack.push(r)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,r){return typeof r=="string"?t.addText(r):r.children&&(t.openNode(r),r.children.forEach(i=>this._walk(t,i)),t.closeNode(r)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(r=>typeof r=="string")?t.children=[t.children.join("")]:t.children.forEach(r=>{cc._collapse(r)}))}}class im extends cc{constructor(t){super(),this.options=t}addKeyword(t,r){t!==""&&(this.openNode(r),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,r){const i=t.root;i.kind=r,i.sublanguage=!0,this.add(i)}toHTML(){return new rm(this,this.options).value()}finalize(){return!0}}function nm(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function On(e){return e?typeof e=="string"?e:e.source:null}function sm(...e){return e.map(r=>On(r)).join("")}function om(...e){return"("+e.map(r=>On(r)).join("|")+")"}function am(e){return new RegExp(e.toString()+"|").exec("").length-1}function lm(e,t){const r=e&&e.exec(t);return r&&r.index===0}const cm=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function um(e,t="|"){let r=0;return e.map(i=>{r+=1;const n=r;let o=On(i),p="";for(;o.length>0;){const s=cm.exec(o);if(!s){p+=o;break}p+=o.substring(0,s.index),o=o.substring(s.index+s[0].length),s[0][0]==="\\"&&s[1]?p+="\\"+String(Number(s[1])+n):(p+=s[0],s[0]==="("&&r++)}return p}).map(i=>`(${i})`).join(t)}const hm=/\b\B/,yf="[a-zA-Z]\\w*",uc="[a-zA-Z_]\\w*",hc="\\b\\d+(\\.\\d+)?",Sf="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",wf="\\b(0b[01]+)",dm="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",fm=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=sm(t,/.*\b/,e.binary,/\b.*/)),gr({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(r,i)=>{r.index!==0&&i.ignoreMatch()}},e)},Mn={begin:"\\\\[\\s\\S]",relevance:0},pm={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[Mn]},_m={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[Mn]},Cf={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Po=function(e,t,r={}){const i=gr({className:"comment",begin:e,end:t,contains:[]},r);return i.contains.push(Cf),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},gm=Po("//","$"),vm=Po("/\\*","\\*/"),mm=Po("#","$"),ym={className:"number",begin:hc,relevance:0},Sm={className:"number",begin:Sf,relevance:0},wm={className:"number",begin:wf,relevance:0},Cm={className:"number",begin:hc+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},xm={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Mn,{begin:/\[/,end:/\]/,relevance:0,contains:[Mn]}]}]},bm={className:"title",begin:yf,relevance:0},km={className:"title",begin:uc,relevance:0},Em={begin:"\\.\\s*"+uc,relevance:0},Lm=function(e){return Object.assign(e,{"on:begin":(t,r)=>{r.data._beginMatch=t[1]},"on:end":(t,r)=>{r.data._beginMatch!==t[1]&&r.ignoreMatch()}})};var Ss=Object.freeze({__proto__:null,MATCH_NOTHING_RE:hm,IDENT_RE:yf,UNDERSCORE_IDENT_RE:uc,NUMBER_RE:hc,C_NUMBER_RE:Sf,BINARY_NUMBER_RE:wf,RE_STARTERS_RE:dm,SHEBANG:fm,BACKSLASH_ESCAPE:Mn,APOS_STRING_MODE:pm,QUOTE_STRING_MODE:_m,PHRASAL_WORDS_MODE:Cf,COMMENT:Po,C_LINE_COMMENT_MODE:gm,C_BLOCK_COMMENT_MODE:vm,HASH_COMMENT_MODE:mm,NUMBER_MODE:ym,C_NUMBER_MODE:Sm,BINARY_NUMBER_MODE:wm,CSS_NUMBER_MODE:Cm,REGEXP_MODE:xm,TITLE_MODE:bm,UNDERSCORE_TITLE_MODE:km,METHOD_GUARD:Em,END_SAME_AS_BEGIN:Lm});function Rm(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Tm(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=Rm,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Dm(e,t){Array.isArray(e.illegal)&&(e.illegal=om(...e.illegal))}function Am(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Om(e,t){e.relevance===void 0&&(e.relevance=1)}const Mm=["of","and","for","in","not","or","if","then","parent","list","value"],Pm="keyword";function xf(e,t,r=Pm){const i={};return typeof e=="string"?n(r,e.split(" ")):Array.isArray(e)?n(r,e):Object.keys(e).forEach(function(o){Object.assign(i,xf(e[o],t,o))}),i;function n(o,p){t&&(p=p.map(s=>s.toLowerCase())),p.forEach(function(s){const a=s.split("|");i[a[0]]=[o,Nm(a[0],a[1])]})}}function Nm(e,t){return t?Number(t):Im(e)?0:1}function Im(e){return Mm.includes(e.toLowerCase())}function Bm(e,{plugins:t}){function r(s,a){return new RegExp(On(s),"m"+(e.case_insensitive?"i":"")+(a?"g":""))}class i{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,d){d.position=this.position++,this.matchIndexes[this.matchAt]=d,this.regexes.push([d,a]),this.matchAt+=am(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const a=this.regexes.map(d=>d[1]);this.matcherRe=r(um(a),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;const d=this.matcherRe.exec(a);if(!d)return null;const _=d.findIndex((v,w)=>w>0&&v!==void 0),f=this.matchIndexes[_];return d.splice(0,_),Object.assign(d,f)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];const d=new i;return this.rules.slice(a).forEach(([_,f])=>d.addRule(_,f)),d.compile(),this.multiRegexes[a]=d,d}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,d){this.rules.push([a,d]),d.type==="begin"&&this.count++}exec(a){const d=this.getMatcher(this.regexIndex);d.lastIndex=this.lastIndex;let _=d.exec(a);if(this.resumingScanAtSamePosition()&&!(_&&_.index===this.lastIndex)){const f=this.getMatcher(0);f.lastIndex=this.lastIndex+1,_=f.exec(a)}return _&&(this.regexIndex+=_.position+1,this.regexIndex===this.count&&this.considerAll()),_}}function o(s){const a=new n;return s.contains.forEach(d=>a.addRule(d.begin,{rule:d,type:"begin"})),s.terminatorEnd&&a.addRule(s.terminatorEnd,{type:"end"}),s.illegal&&a.addRule(s.illegal,{type:"illegal"}),a}function p(s,a){const d=s;if(s.isCompiled)return d;[Am].forEach(f=>f(s,a)),e.compilerExtensions.forEach(f=>f(s,a)),s.__beforeBegin=null,[Tm,Dm,Om].forEach(f=>f(s,a)),s.isCompiled=!0;let _=null;if(typeof s.keywords=="object"&&(_=s.keywords.$pattern,delete s.keywords.$pattern),s.keywords&&(s.keywords=xf(s.keywords,e.case_insensitive)),s.lexemes&&_)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return _=_||s.lexemes||/\w+/,d.keywordPatternRe=r(_,!0),a&&(s.begin||(s.begin=/\B|\b/),d.beginRe=r(s.begin),s.endSameAsBegin&&(s.end=s.begin),!s.end&&!s.endsWithParent&&(s.end=/\B|\b/),s.end&&(d.endRe=r(s.end)),d.terminatorEnd=On(s.end)||"",s.endsWithParent&&a.terminatorEnd&&(d.terminatorEnd+=(s.end?"|":"")+a.terminatorEnd)),s.illegal&&(d.illegalRe=r(s.illegal)),s.contains||(s.contains=[]),s.contains=[].concat(...s.contains.map(function(f){return jm(f==="self"?s:f)})),s.contains.forEach(function(f){p(f,d)}),s.starts&&p(s.starts,a),d.matcher=o(d),d}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=gr(e.classNameAliases||{}),p(e)}function bf(e){return e?e.endsWithParent||bf(e.starts):!1}function jm(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return gr(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:bf(e)?gr(e,{starts:e.starts?gr(e.starts):null}):Object.isFrozen(e)?gr(e):e}var Hm="10.7.3";function Fm(e){return!!(e||e==="")}function zm(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,ki(this.code);let i={};return this.autoDetect?(i=e.highlightAuto(this.code),this.detectedLanguage=i.language):(i=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),i.value},autoDetect(){return!this.language||Fm(this.autodetect)},ignoreIllegals(){return!0}},render(i){return i("pre",{},[i("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(i){i.component("highlightjs",t)}}}}const $m={"after:highlightElement":({el:e,result:t,text:r})=>{const i=Du(e);if(!i.length)return;const n=document.createElement("div");n.innerHTML=t.value,t.value=Um(i,Du(n),r)}};function cl(e){return e.nodeName.toLowerCase()}function Du(e){const t=[];return function r(i,n){for(let o=i.firstChild;o;o=o.nextSibling)o.nodeType===3?n+=o.nodeValue.length:o.nodeType===1&&(t.push({event:"start",offset:n,node:o}),n=r(o,n),cl(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:n,node:o}));return n}(e,0),t}function Um(e,t,r){let i=0,n="";const o=[];function p(){return!e.length||!t.length?e.length?e:t:e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:t[0].event==="start"?e:t}function s(_){function f(v){return" "+v.nodeName+'="'+ki(v.value)+'"'}n+="<"+cl(_)+[].map.call(_.attributes,f).join("")+">"}function a(_){n+="</"+cl(_)+">"}function d(_){(_.event==="start"?s:a)(_.node)}for(;e.length||t.length;){let _=p();if(n+=ki(r.substring(i,_[0].offset)),i=_[0].offset,_===e){o.reverse().forEach(a);do d(_.splice(0,1)[0]),_=p();while(_===e&&_.length&&_[0].offset===i);o.reverse().forEach(s)}else _[0].event==="start"?o.push(_[0].node):o.pop(),d(_.splice(0,1)[0])}return n+ki(r.substr(i))}const Au={},ua=e=>{console.error(e)},Ou=(e,...t)=>{console.log(`WARN: ${e}`,...t)},gt=(e,t)=>{Au[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Au[`${e}/${t}`]=!0)},ha=ki,Mu=gr,Pu=Symbol("nomatch"),Wm=function(e){const t=Object.create(null),r=Object.create(null),i=[];let n=!0;const o=/(^(<[^>]+>|\t|)+|\n)/gm,p="Could not find the language '{}', did you forget to load/include a language module?",s={disableAutodetect:!0,name:"Plain text",contains:[]};let a={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:im};function d(I){return a.noHighlightRe.test(I)}function _(I){let $=I.className+" ";$+=I.parentNode?I.parentNode.className:"";const K=a.languageDetectRe.exec($);if(K){const ee=F(K[1]);return ee||(Ou(p.replace("{}",K[1])),Ou("Falling back to no-highlight mode for this block.",I)),ee?K[1]:"no-highlight"}return $.split(/\s+/).find(ee=>d(ee)||F(ee))}function f(I,$,K,ee){let L="",B="";typeof $=="object"?(L=I,K=$.ignoreIllegals,B=$.language,ee=void 0):(gt("10.7.0","highlight(lang, code, ...args) has been deprecated."),gt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),B=I,L=$);const z={code:L,language:B};A("before:highlight",z);const H=z.result?z.result:v(z.language,z.code,K,ee);return H.code=z.code,A("after:highlight",H),H}function v(I,$,K,ee){function L(Q,ie){const te=Mt.case_insensitive?ie[0].toLowerCase():ie[0];return Object.prototype.hasOwnProperty.call(Q.keywords,te)&&Q.keywords[te]}function B(){if(!ce.keywords){Ae.addText(ye);return}let Q=0;ce.keywordPatternRe.lastIndex=0;let ie=ce.keywordPatternRe.exec(ye),te="";for(;ie;){te+=ye.substring(Q,ie.index);const Se=L(ce,ie);if(Se){const[tt,ts]=Se;if(Ae.addText(te),te="",Pt+=ts,tt.startsWith("_"))te+=ie[0];else{const Uf=Mt.classNameAliases[tt]||tt;Ae.addKeyword(ie[0],Uf)}}else te+=ie[0];Q=ce.keywordPatternRe.lastIndex,ie=ce.keywordPatternRe.exec(ye)}te+=ye.substr(Q),Ae.addText(te)}function z(){if(ye==="")return;let Q=null;if(typeof ce.subLanguage=="string"){if(!t[ce.subLanguage]){Ae.addText(ye);return}Q=v(ce.subLanguage,ye,!0,Ge[ce.subLanguage]),Ge[ce.subLanguage]=Q.top}else Q=C(ye,ce.subLanguage.length?ce.subLanguage:null);ce.relevance>0&&(Pt+=Q.relevance),Ae.addSublanguage(Q.emitter,Q.language)}function H(){ce.subLanguage!=null?z():B(),ye=""}function ne(Q){return Q.className&&Ae.openNode(Mt.classNameAliases[Q.className]||Q.className),ce=Object.create(Q,{parent:{value:ce}}),ce}function G(Q,ie,te){let Se=lm(Q.endRe,te);if(Se){if(Q["on:end"]){const tt=new Ru(Q);Q["on:end"](ie,tt),tt.isMatchIgnored&&(Se=!1)}if(Se){for(;Q.endsParent&&Q.parent;)Q=Q.parent;return Q}}if(Q.endsWithParent)return G(Q.parent,ie,te)}function me(Q){return ce.matcher.regexIndex===0?(ye+=Q[0],1):(Br=!0,0)}function Pe(Q){const ie=Q[0],te=Q.rule,Se=new Ru(te),tt=[te.__beforeBegin,te["on:begin"]];for(const ts of tt)if(ts&&(ts(Q,Se),Se.isMatchIgnored))return me(ie);return te&&te.endSameAsBegin&&(te.endRe=nm(ie)),te.skip?ye+=ie:(te.excludeBegin&&(ye+=ie),H(),!te.returnBegin&&!te.excludeBegin&&(ye=ie)),ne(te),te.returnBegin?0:ie.length}function $e(Q){const ie=Q[0],te=$.substr(Q.index),Se=G(ce,Q,te);if(!Se)return Pu;const tt=ce;tt.skip?ye+=ie:(tt.returnEnd||tt.excludeEnd||(ye+=ie),H(),tt.excludeEnd&&(ye=ie));do ce.className&&Ae.closeNode(),!ce.skip&&!ce.subLanguage&&(Pt+=ce.relevance),ce=ce.parent;while(ce!==Se.parent);return Se.starts&&(Se.endSameAsBegin&&(Se.starts.endRe=Se.endRe),ne(Se.starts)),tt.returnEnd?0:ie.length}function sr(){const Q=[];for(let ie=ce;ie!==Mt;ie=ie.parent)ie.className&&Q.unshift(ie.className);Q.forEach(ie=>Ae.openNode(ie))}let le={};function or(Q,ie){const te=ie&&ie[0];if(ye+=Q,te==null)return H(),0;if(le.type==="begin"&&ie.type==="end"&&le.index===ie.index&&te===""){if(ye+=$.slice(ie.index,ie.index+1),!n){const Se=new Error("0 width match regex");throw Se.languageName=I,Se.badRule=le.rule,Se}return 1}if(le=ie,ie.type==="begin")return Pe(ie);if(ie.type==="illegal"&&!K){const Se=new Error('Illegal lexeme "'+te+'" for mode "'+(ce.className||"<unnamed>")+'"');throw Se.mode=ce,Se}else if(ie.type==="end"){const Se=$e(ie);if(Se!==Pu)return Se}if(ie.type==="illegal"&&te==="")return 1;if(_t>1e5&&_t>ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return ye+=te,te.length}const Mt=F(I);if(!Mt)throw ua(p.replace("{}",I)),new Error('Unknown language: "'+I+'"');const $i=Bm(Mt,{plugins:i});let Ir="",ce=ee||$i;const Ge={},Ae=new a.__emitter(a);sr();let ye="",Pt=0,Nt=0,_t=0,Br=!1;try{for(ce.matcher.considerAll();;){_t++,Br?Br=!1:ce.matcher.considerAll(),ce.matcher.lastIndex=Nt;const Q=ce.matcher.exec($);if(!Q)break;const ie=$.substring(Nt,Q.index),te=or(ie,Q);Nt=Q.index+te}return or($.substr(Nt)),Ae.closeAllNodes(),Ae.finalize(),Ir=Ae.toHTML(),{relevance:Math.floor(Pt),value:Ir,language:I,illegal:!1,emitter:Ae,top:ce}}catch(Q){if(Q.message&&Q.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:Q.message,context:$.slice(Nt-100,Nt+100),mode:Q.mode},sofar:Ir,relevance:0,value:ha($),emitter:Ae};if(n)return{illegal:!1,relevance:0,value:ha($),emitter:Ae,language:I,top:ce,errorRaised:Q};throw Q}}function w(I){const $={relevance:0,emitter:new a.__emitter(a),value:ha(I),illegal:!1,top:s};return $.emitter.addText(I),$}function C(I,$){$=$||a.languages||Object.keys(t);const K=w(I),ee=$.filter(F).filter(W).map(ne=>v(ne,I,!1));ee.unshift(K);const L=ee.sort((ne,G)=>{if(ne.relevance!==G.relevance)return G.relevance-ne.relevance;if(ne.language&&G.language){if(F(ne.language).supersetOf===G.language)return 1;if(F(G.language).supersetOf===ne.language)return-1}return 0}),[B,z]=L,H=B;return H.second_best=z,H}function S(I){return a.tabReplace||a.useBR?I.replace(o,$=>$===`
`?a.useBR?"<br>":$:a.tabReplace?$.replace(/\t/g,a.tabReplace):$):I}function h(I,$,K){const ee=$?r[$]:K;I.classList.add("hljs"),ee&&I.classList.add(ee)}const u={"before:highlightElement":({el:I})=>{a.useBR&&(I.innerHTML=I.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:I})=>{a.useBR&&(I.value=I.value.replace(/\n/g,"<br>"))}},l=/^(<[^>]+>|\t)+/gm,c={"after:highlightElement":({result:I})=>{a.tabReplace&&(I.value=I.value.replace(l,$=>$.replace(/\t/g,a.tabReplace)))}};function g(I){let $=null;const K=_(I);if(d(K))return;A("before:highlightElement",{el:I,language:K}),$=I;const ee=$.textContent,L=K?f(ee,{language:K,ignoreIllegals:!0}):C(ee);A("after:highlightElement",{el:I,result:L,text:ee}),I.innerHTML=L.value,h(I,K,L.language),I.result={language:L.language,re:L.relevance,relavance:L.relevance},L.second_best&&(I.second_best={language:L.second_best.language,re:L.second_best.relevance,relavance:L.second_best.relevance})}function y(I){I.useBR&&(gt("10.3.0","'useBR' will be removed entirely in v11.0"),gt("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),a=Mu(a,I)}const x=()=>{if(x.called)return;x.called=!0,gt("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(g)};function b(){gt("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),m=!0}let m=!1;function k(){if(document.readyState==="loading"){m=!0;return}document.querySelectorAll("pre code").forEach(g)}function R(){m&&k()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",R,!1);function M(I,$){let K=null;try{K=$(e)}catch(ee){if(ua("Language definition for '{}' could not be registered.".replace("{}",I)),n)ua(ee);else throw ee;K=s}K.name||(K.name=I),t[I]=K,K.rawDefinition=$.bind(null,e),K.aliases&&V(K.aliases,{languageName:I})}function O(I){delete t[I];for(const $ of Object.keys(r))r[$]===I&&delete r[$]}function P(){return Object.keys(t)}function j(I){gt("10.4.0","requireLanguage will be removed entirely in v11."),gt("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const $=F(I);if($)return $;throw new Error("The '{}' language is required, but not loaded.".replace("{}",I))}function F(I){return I=(I||"").toLowerCase(),t[I]||t[r[I]]}function V(I,{languageName:$}){typeof I=="string"&&(I=[I]),I.forEach(K=>{r[K.toLowerCase()]=$})}function W(I){const $=F(I);return $&&!$.disableAutodetect}function E(I){I["before:highlightBlock"]&&!I["before:highlightElement"]&&(I["before:highlightElement"]=$=>{I["before:highlightBlock"](Object.assign({block:$.el},$))}),I["after:highlightBlock"]&&!I["after:highlightElement"]&&(I["after:highlightElement"]=$=>{I["after:highlightBlock"](Object.assign({block:$.el},$))})}function T(I){E(I),i.push(I)}function A(I,$){const K=I;i.forEach(function(ee){ee[K]&&ee[K]($)})}function N(I){return gt("10.2.0","fixMarkup will be removed entirely in v11.0"),gt("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),S(I)}function U(I){return gt("10.7.0","highlightBlock will be removed entirely in v12.0"),gt("10.7.0","Please use highlightElement now."),g(I)}Object.assign(e,{highlight:f,highlightAuto:C,highlightAll:k,fixMarkup:N,highlightElement:g,highlightBlock:U,configure:y,initHighlighting:x,initHighlightingOnLoad:b,registerLanguage:M,unregisterLanguage:O,listLanguages:P,getLanguage:F,registerAliases:V,requireLanguage:j,autoDetection:W,inherit:Mu,addPlugin:T,vuePlugin:zm(e).VuePlugin}),e.debugMode=function(){n=!1},e.safeMode=function(){n=!0},e.versionString=Hm;for(const I in Ss)typeof Ss[I]=="object"&&mf(Ss[I]);return Object.assign(e,Ss),e.addPlugin(u),e.addPlugin($m),e.addPlugin(c),e};var Vm=Wm({}),Km=Vm,kf={exports:{}};(function(e){(function(){var t;t=e.exports=n,t.format=n,t.vsprintf=i,typeof console<"u"&&typeof console.log=="function"&&(t.printf=r);function r(){console.log(n.apply(null,arguments))}function i(o,p){return n.apply(null,[o].concat(p))}function n(o){for(var p=1,s=[].slice.call(arguments),a=0,d=o.length,_="",f,v=!1,w,C,S=!1,h,u=function(){return s[p++]},l=function(){for(var c="";/\d/.test(o[a]);)c+=o[a++],f=o[a];return c.length>0?parseInt(c):null};a<d;++a)if(f=o[a],v)switch(v=!1,f=="."?(S=!1,f=o[++a]):f=="0"&&o[a+1]=="."?(S=!0,a+=2,f=o[a]):S=!0,h=l(),f){case"b":_+=parseInt(u(),10).toString(2);break;case"c":w=u(),typeof w=="string"||w instanceof String?_+=w:_+=String.fromCharCode(parseInt(w,10));break;case"d":_+=parseInt(u(),10);break;case"f":C=String(parseFloat(u()).toFixed(h||6)),_+=S?C:C.replace(/^0/,"");break;case"j":_+=JSON.stringify(u());break;case"o":_+="0"+parseInt(u(),10).toString(8);break;case"s":_+=u();break;case"x":_+="0x"+parseInt(u(),10).toString(16);break;case"X":_+="0x"+parseInt(u(),10).toString(16).toUpperCase();break;default:_+=f;break}else f==="%"?v=!0:_+=f;return _}})()})(kf);var Zm=kf.exports,qm=Zm,Pr=Nr(Error),Gm=Pr;Pr.eval=Nr(EvalError);Pr.range=Nr(RangeError);Pr.reference=Nr(ReferenceError);Pr.syntax=Nr(SyntaxError);Pr.type=Nr(TypeError);Pr.uri=Nr(URIError);Pr.create=Nr;function Nr(e){return t.displayName=e.displayName||e.name,t;function t(r){return r&&(r=qm.apply(null,arguments)),new e(r)}}var Ht=Km,Ps=Gm;ri.highlight=Ef;ri.highlightAuto=Ym;ri.registerLanguage=Qm;ri.listLanguages=Jm;ri.registerAlias=e0;nr.prototype.addText=i0;nr.prototype.addKeyword=t0;nr.prototype.addSublanguage=r0;nr.prototype.openNode=n0;nr.prototype.closeNode=s0;nr.prototype.closeAllNodes=Lf;nr.prototype.finalize=Lf;nr.prototype.toHTML=o0;var Xm="hljs-";function Ef(e,t,r){var i=Ht.configure({}),n=r||{},o=n.prefix,p;if(typeof e!="string")throw Ps("Expected `string` for name, got `%s`",e);if(!Ht.getLanguage(e))throw Ps("Unknown language: `%s` is not registered",e);if(typeof t!="string")throw Ps("Expected `string` for value, got `%s`",t);if(o==null&&(o=Xm),Ht.configure({__emitter:nr,classPrefix:o}),p=Ht.highlight(t,{language:e,ignoreIllegals:!0}),Ht.configure(i||{}),p.errorRaised)throw p.errorRaised;return{relevance:p.relevance,language:p.language,value:p.emitter.rootNode.children}}function Ym(e,t){var r=t||{},i=r.subset||Ht.listLanguages();r.prefix;var n=i.length,o=-1,p,s,a,d;if(typeof e!="string")throw Ps("Expected `string` for value, got `%s`",e);for(s={relevance:0,language:null,value:[]},p={relevance:0,language:null,value:[]};++o<n;)d=i[o],Ht.getLanguage(d)&&(a=Ef(d,e,t),a.language=d,a.relevance>s.relevance&&(s=a),a.relevance>p.relevance&&(s=p,p=a));return s.language&&(p.secondBest=s),p}function Qm(e,t){Ht.registerLanguage(e,t)}function Jm(){return Ht.listLanguages()}function e0(e,t){var r=e,i;t&&(r={},r[e]=t);for(i in r)Ht.registerAliases(r[i],{languageName:i})}function nr(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function t0(e,t){this.openNode(t),this.addText(e),this.closeNode()}function r0(e,t){var r=this.stack,i=r[r.length-1],n=e.rootNode.children,o=t?{type:"element",tagName:"span",properties:{className:[t]},children:n}:n;i.children=i.children.concat(o)}function i0(e){var t=this.stack,r,i;e!==""&&(r=t[t.length-1],i=r.children[r.children.length-1],i&&i.type==="text"?i.value+=e:r.children.push({type:"text",value:e}))}function n0(e){var t=this.stack,r=this.options.classPrefix+e,i=t[t.length-1],n={type:"element",tagName:"span",properties:{className:[r]},children:[]};i.children.push(n),t.push(n)}function s0(){this.stack.pop()}function o0(){return""}function Lf(){}var fn=Jv(ri,{});fn.registerLanguage=ri.registerLanguage;const Ns={'code[class*="language-"]':{color:"#ccc",background:"none",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#ccc",background:"#2d2d2d",fontFamily:"Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace",fontSize:"1em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:".5em 0",overflow:"auto"},':not(pre) > code[class*="language-"]':{background:"#2d2d2d",padding:".1em",borderRadius:".3em",whiteSpace:"normal"},comment:{color:"#999"},"block-comment":{color:"#999"},prolog:{color:"#999"},doctype:{color:"#999"},cdata:{color:"#999"},punctuation:{color:"#ccc"},tag:{color:"#e2777a"},"attr-name":{color:"#e2777a"},namespace:{color:"#e2777a"},deleted:{color:"#e2777a"},"function-name":{color:"#6196cc"},boolean:{color:"#f08d49"},number:{color:"#f08d49"},function:{color:"#f08d49"},property:{color:"#f8c555"},"class-name":{color:"#f8c555"},constant:{color:"#f8c555"},symbol:{color:"#f8c555"},selector:{color:"#cc99cd"},important:{color:"#cc99cd",fontWeight:"bold"},atrule:{color:"#cc99cd"},keyword:{color:"#cc99cd"},builtin:{color:"#cc99cd"},string:{color:"#7ec699"},char:{color:"#7ec699"},"attr-value":{color:"#7ec699"},regex:{color:"#7ec699"},variable:{color:"#7ec699"},operator:{color:"#67cdcc"},entity:{color:"#67cdcc",cursor:"help"},url:{color:"#67cdcc"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},inserted:{color:"green"}},a0=Jn((e,t)=>({scripts:[],addScript:r=>{const i={...r,id:Date.now().toString(),created:Date.now(),lastModified:Date.now()};e(n=>{const o=[...n.scripts,i];return localStorage.setItem("savedScripts",JSON.stringify(o)),{scripts:o}})},updateScript:(r,i)=>{e(n=>{const o=n.scripts.map(p=>p.id===r?{...p,...i,lastModified:Date.now()}:p);return localStorage.setItem("savedScripts",JSON.stringify(o)),{scripts:o}})},deleteScript:r=>{e(i=>{const n=i.scripts.filter(o=>o.id!==r);return localStorage.setItem("savedScripts",JSON.stringify(n)),{scripts:n}})},loadScripts:()=>{try{const r=JSON.parse(localStorage.getItem("savedScripts")||"[]");e({scripts:r})}catch(r){console.error("Failed to load saved scripts:",r),e({scripts:[]})}}})),l0=()=>{const[e,t]=ae.useState(""),[r,i]=ae.useState(""),[n,o]=ae.useState(""),[p,s]=ae.useState(""),[a,d]=ae.useState(null),{url:_}=zi(),{scripts:f,addScript:v,updateScript:w,deleteScript:C,loadScripts:S}=a0();ae.useEffect(()=>{S()},[S]);const h=async()=>{try{d(null),i("Executing script...");const c=document.querySelector("iframe");if(!(c!=null&&c.contentWindow))throw new Error("Unable to access page context");const y=new Function("window",`
        try {
          with (window) {
            ${e}
          }
          return { success: true, result: undefined };
        } catch (error) {
          return { success: false, error: error.message };
        }
      `).call(c.contentWindow,c.contentWindow);y.success?i(`Success: Script executed successfully
Result: ${JSON.stringify(y.result,null,2)}`):(d(y.error),i(`Error: ${y.error}`))}catch(c){const g=c instanceof Error?c.message:String(c);d(g),i(`Error: ${g}`)}},u=()=>{if(!n){d("Please enter a script name");return}v({name:n,code:e,description:p}),o(""),s(""),i("Script saved successfully"),d(null)},l=c=>{t(c.code),i(`Loaded script: ${c.name}`),d(null)};return D.jsxs("div",{className:"bg-gray-900 border-t border-cyan-500 h-full",children:[D.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-800 border-b border-cyan-500",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(Ao,{className:"text-cyan-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"JavaScript Console"})]}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("input",{type:"text",value:n,onChange:c=>o(c.target.value),placeholder:"Script name",className:"bg-gray-700 text-white px-2 py-1 rounded text-sm"}),D.jsx("input",{type:"text",value:p,onChange:c=>s(c.target.value),placeholder:"Description (optional)",className:"bg-gray-700 text-white px-2 py-1 rounded text-sm"}),D.jsx("button",{onClick:u,className:"p-1 text-cyan-500 hover:bg-gray-700 rounded",title:"Save Script",children:D.jsx(tf,{size:16})}),D.jsx("button",{onClick:h,className:"p-1 text-green-500 hover:bg-gray-700 rounded",title:"Execute",disabled:!_,children:D.jsx(Mg,{size:16})})]})]}),D.jsxs("div",{className:"grid grid-cols-4 h-[calc(100%-2.5rem)]",children:[D.jsxs("div",{className:"col-span-1 bg-gray-800 p-2 border-r border-cyan-500 overflow-y-auto",children:[D.jsx("h4",{className:"text-cyan-500 text-sm font-medium mb-2",children:"Saved Scripts"}),D.jsx("div",{className:"space-y-1",children:f.map(c=>D.jsxs("div",{className:"flex items-center justify-between p-1 hover:bg-gray-700 rounded group",children:[D.jsx("button",{onClick:()=>l(c),className:"text-sm text-gray-300 hover:text-white truncate flex-1 text-left",title:c.description,children:D.jsxs("div",{className:"flex items-center",children:[c.name,c.description&&D.jsx(Dg,{size:12,className:"ml-1 text-gray-500"})]})}),D.jsx("button",{onClick:()=>C(c.id),className:"hidden group-hover:block text-red-500 p-1 hover:bg-gray-600 rounded",children:D.jsx(rf,{size:12})})]},c.id))})]}),D.jsxs("div",{className:"col-span-3 grid grid-rows-2",children:[D.jsx("div",{className:"p-2",children:D.jsx("textarea",{value:e,onChange:c=>t(c.target.value),className:"w-full h-full bg-gray-800 text-white p-2 rounded border border-cyan-500 focus:outline-none focus:border-purple-500 text-sm font-mono",placeholder:"Enter JavaScript code..."})}),D.jsx("div",{className:"p-2 bg-gray-800",children:D.jsx(fn,{language:"javascript",style:Ns,customStyle:{background:"transparent",height:"100%",margin:0,fontSize:"12px",borderRadius:"0.375rem",border:a?"1px solid rgba(239, 68, 68, 0.2)":"1px solid rgba(0, 255, 242, 0.2)"},children:r})})]})]})]})};var pe;(function(e){e.assertEqual=n=>n;function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const o={};for(const p of n)o[p]=p;return o},e.getValidEnumValues=n=>{const o=e.objectKeys(n).filter(s=>typeof n[n[s]]!="number"),p={};for(const s of o)p[s]=n[s];return e.objectValues(p)},e.objectValues=n=>e.objectKeys(n).map(function(o){return n[o]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const o=[];for(const p in n)Object.prototype.hasOwnProperty.call(n,p)&&o.push(p);return o},e.find=(n,o)=>{for(const p of n)if(o(p))return p},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function i(n,o=" | "){return n.map(p=>typeof p=="string"?`'${p}'`:p).join(o)}e.joinValues=i,e.jsonStringifyReplacer=(n,o)=>typeof o=="bigint"?o.toString():o})(pe||(pe={}));var ul;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(ul||(ul={}));const Y=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),dr=e=>{switch(typeof e){case"undefined":return Y.undefined;case"string":return Y.string;case"number":return isNaN(e)?Y.nan:Y.number;case"boolean":return Y.boolean;case"function":return Y.function;case"bigint":return Y.bigint;case"symbol":return Y.symbol;case"object":return Array.isArray(e)?Y.array:e===null?Y.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Y.promise:typeof Map<"u"&&e instanceof Map?Y.map:typeof Set<"u"&&e instanceof Set?Y.set:typeof Date<"u"&&e instanceof Date?Y.date:Y.object;default:return Y.unknown}},q=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),c0=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ht extends Error{constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const r=t||function(o){return o.message},i={_errors:[]},n=o=>{for(const p of o.issues)if(p.code==="invalid_union")p.unionErrors.map(n);else if(p.code==="invalid_return_type")n(p.returnTypeError);else if(p.code==="invalid_arguments")n(p.argumentsError);else if(p.path.length===0)i._errors.push(r(p));else{let s=i,a=0;for(;a<p.path.length;){const d=p.path[a];a===p.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(r(p))):s[d]=s[d]||{_errors:[]},s=s[d],a++}}};return n(this),i}static assert(t){if(!(t instanceof ht))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},i=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:r}}get formErrors(){return this.flatten()}}ht.create=e=>new ht(e);const Ni=(e,t)=>{let r;switch(e.code){case q.invalid_type:e.received===Y.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case q.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,pe.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:r=`Unrecognized key(s) in object: ${pe.joinValues(e.keys,", ")}`;break;case q.invalid_union:r="Invalid input";break;case q.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${pe.joinValues(e.options)}`;break;case q.invalid_enum_value:r=`Invalid enum value. Expected ${pe.joinValues(e.options)}, received '${e.received}'`;break;case q.invalid_arguments:r="Invalid function arguments";break;case q.invalid_return_type:r="Invalid function return type";break;case q.invalid_date:r="Invalid date";break;case q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:pe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case q.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case q.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case q.custom:r="Invalid input";break;case q.invalid_intersection_types:r="Intersection results could not be merged";break;case q.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case q.not_finite:r="Number must be finite";break;default:r=t.defaultError,pe.assertNever(e)}return{message:r}};let Rf=Ni;function u0(e){Rf=e}function oo(){return Rf}const ao=e=>{const{data:t,path:r,errorMaps:i,issueData:n}=e,o=[...r,...n.path||[]],p={...n,path:o};if(n.message!==void 0)return{...n,path:o,message:n.message};let s="";const a=i.filter(d=>!!d).slice().reverse();for(const d of a)s=d(p,{data:t,defaultError:s}).message;return{...n,path:o,message:s}},h0=[];function X(e,t){const r=oo(),i=ao({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Ni?void 0:Ni].filter(n=>!!n)});e.common.issues.push(i)}class qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const i=[];for(const n of r){if(n.status==="aborted")return oe;n.status==="dirty"&&t.dirty(),i.push(n.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,r){const i=[];for(const n of r){const o=await n.key,p=await n.value;i.push({key:o,value:p})}return qe.mergeObjectSync(t,i)}static mergeObjectSync(t,r){const i={};for(const n of r){const{key:o,value:p}=n;if(o.status==="aborted"||p.status==="aborted")return oe;o.status==="dirty"&&t.dirty(),p.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof p.value<"u"||n.alwaysSet)&&(i[o.value]=p.value)}return{status:t.value,value:i}}}const oe=Object.freeze({status:"aborted"}),mi=e=>({status:"dirty",value:e}),Qe=e=>({status:"valid",value:e}),hl=e=>e.status==="aborted",dl=e=>e.status==="dirty",Pn=e=>e.status==="valid",Nn=e=>typeof Promise<"u"&&e instanceof Promise;function lo(e,t,r,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Tf(e,t,r,i,n){if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(re||(re={}));var tn,rn;class Ut{constructor(t,r,i,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=i,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Nu=(e,t)=>{if(Pn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ht(e.common.issues);return this._error=r,this._error}}};function ue(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:i,description:n}=e;if(t&&(r||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(p,s)=>{var a,d;const{message:_}=e;return p.code==="invalid_enum_value"?{message:_??s.defaultError}:typeof s.data>"u"?{message:(a=_??i)!==null&&a!==void 0?a:s.defaultError}:p.code!=="invalid_type"?{message:s.defaultError}:{message:(d=_??r)!==null&&d!==void 0?d:s.defaultError}},description:n}}class he{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return dr(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:dr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qe,ctx:{common:t.parent.common,data:t.data,parsedType:dr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Nn(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const i=this.safeParse(t,r);if(i.success)return i.data;throw i.error}safeParse(t,r){var i;const n={common:{issues:[],async:(i=r==null?void 0:r.async)!==null&&i!==void 0?i:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:dr(t)},o=this._parseSync({data:t,path:n.path,parent:n});return Nu(n,o)}async parseAsync(t,r){const i=await this.safeParseAsync(t,r);if(i.success)return i.data;throw i.error}async safeParseAsync(t,r){const i={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:dr(t)},n=this._parse({data:t,path:i.path,parent:i}),o=await(Nn(n)?n:Promise.resolve(n));return Nu(i,o)}refine(t,r){const i=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,o)=>{const p=t(n),s=()=>o.addIssue({code:q.custom,...i(n)});return typeof Promise<"u"&&p instanceof Promise?p.then(a=>a?!0:(s(),!1)):p?!0:(s(),!1)})}refinement(t,r){return this._refinement((i,n)=>t(i)?!0:(n.addIssue(typeof r=="function"?r(i,n):r),!1))}_refinement(t){return new Ot({schema:this,typeName:se.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return $t.create(this,this._def)}nullable(){return Dr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Dt.create(this,this._def)}promise(){return Bi.create(this,this._def)}or(t){return Hn.create([this,t],this._def)}and(t){return Fn.create(this,t,this._def)}transform(t){return new Ot({...ue(this._def),schema:this,typeName:se.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Vn({...ue(this._def),innerType:this,defaultValue:r,typeName:se.ZodDefault})}brand(){return new dc({typeName:se.ZodBranded,type:this,...ue(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Kn({...ue(this._def),innerType:this,catchValue:r,typeName:se.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return es.create(this,t)}readonly(){return Zn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const d0=/^c[^\s-]{8,}$/i,f0=/^[0-9a-z]+$/,p0=/^[0-9A-HJKMNP-TV-Z]{26}$/,_0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,g0=/^[a-z0-9_-]{21}$/i,v0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,m0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,y0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let da;const S0=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,w0=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,C0=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Df="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x0=new RegExp(`^${Df}$`);function Af(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function b0(e){return new RegExp(`^${Af(e)}$`)}function Of(e){let t=`${Df}T${Af(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function k0(e,t){return!!((t==="v4"||!t)&&S0.test(e)||(t==="v6"||!t)&&w0.test(e))}class Lt extends he{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Y.string){const o=this._getOrReturnCtx(t);return X(o,{code:q.invalid_type,expected:Y.string,received:o.parsedType}),oe}const i=new qe;let n;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(n=this._getOrReturnCtx(t,n),X(n,{code:q.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")t.data.length>o.value&&(n=this._getOrReturnCtx(t,n),X(n,{code:q.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const p=t.data.length>o.value,s=t.data.length<o.value;(p||s)&&(n=this._getOrReturnCtx(t,n),p?X(n,{code:q.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&X(n,{code:q.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")m0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"email",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")da||(da=new RegExp(y0,"u")),da.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"emoji",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")_0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"uuid",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")g0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"nanoid",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")d0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"cuid",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")f0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"cuid2",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")p0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"ulid",code:q.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),X(n,{validation:"url",code:q.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"regex",code:q.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?Of(o).test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?x0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?b0(o).test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{code:q.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?v0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"duration",code:q.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?k0(t.data,o.version)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"ip",code:q.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?C0.test(t.data)||(n=this._getOrReturnCtx(t,n),X(n,{validation:"base64",code:q.invalid_string,message:o.message}),i.dirty()):pe.assertNever(o);return{status:i.value,value:t.data}}_regex(t,r,i){return this.refinement(n=>t.test(n),{validation:r,code:q.invalid_string,...re.errToObj(i)})}_addCheck(t){return new Lt({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...re.errToObj(t)})}datetime(t){var r,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(i=t==null?void 0:t.local)!==null&&i!==void 0?i:!1,...re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...re.errToObj(r)})}nonempty(t){return this.min(1,re.errToObj(t))}trim(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Lt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Lt.create=e=>{var t;return new Lt({checks:[],typeName:se.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ue(e)})};function E0(e,t){const r=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,n=r>i?r:i,o=parseInt(e.toFixed(n).replace(".","")),p=parseInt(t.toFixed(n).replace(".",""));return o%p/Math.pow(10,n)}class Lr extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Y.number){const o=this._getOrReturnCtx(t);return X(o,{code:q.invalid_type,expected:Y.number,received:o.parsedType}),oe}let i;const n=new qe;for(const o of this._def.checks)o.kind==="int"?pe.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{code:q.invalid_type,expected:"integer",received:"float",message:o.message}),n.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),n.dirty()):o.kind==="multipleOf"?E0(t.data,o.value)!==0&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),X(i,{code:q.not_finite,message:o.message}),n.dirty()):pe.assertNever(o);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,re.toString(r))}setLimit(t,r,i,n){return new Lr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:i,message:re.toString(n)}]})}_addCheck(t){return new Lr({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&pe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(r===null||i.value>r)&&(r=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Lr.create=e=>new Lr({checks:[],typeName:se.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class Rr extends he{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Y.bigint){const o=this._getOrReturnCtx(t);return X(o,{code:q.invalid_type,expected:Y.bigint,received:o.parsedType}),oe}let i;const n=new qe;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),n.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),X(i,{code:q.not_multiple_of,multipleOf:o.value,message:o.message}),n.dirty()):pe.assertNever(o);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,re.toString(r))}setLimit(t,r,i,n){return new Rr({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:i,message:re.toString(n)}]})}_addCheck(t){return new Rr({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Rr.create=e=>{var t;return new Rr({checks:[],typeName:se.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ue(e)})};class In extends he{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Y.boolean){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.boolean,received:i.parsedType}),oe}return Qe(t.data)}}In.create=e=>new In({typeName:se.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ue(e)});class Qr extends he{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Y.date){const o=this._getOrReturnCtx(t);return X(o,{code:q.invalid_type,expected:Y.date,received:o.parsedType}),oe}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return X(o,{code:q.invalid_date}),oe}const i=new qe;let n;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(n=this._getOrReturnCtx(t,n),X(n,{code:q.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(n=this._getOrReturnCtx(t,n),X(n,{code:q.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):pe.assertNever(o);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qr({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Qr.create=e=>new Qr({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:se.ZodDate,...ue(e)});class co extends he{_parse(t){if(this._getType(t)!==Y.symbol){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.symbol,received:i.parsedType}),oe}return Qe(t.data)}}co.create=e=>new co({typeName:se.ZodSymbol,...ue(e)});class Bn extends he{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.undefined,received:i.parsedType}),oe}return Qe(t.data)}}Bn.create=e=>new Bn({typeName:se.ZodUndefined,...ue(e)});class jn extends he{_parse(t){if(this._getType(t)!==Y.null){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.null,received:i.parsedType}),oe}return Qe(t.data)}}jn.create=e=>new jn({typeName:se.ZodNull,...ue(e)});class Ii extends he{constructor(){super(...arguments),this._any=!0}_parse(t){return Qe(t.data)}}Ii.create=e=>new Ii({typeName:se.ZodAny,...ue(e)});class Kr extends he{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qe(t.data)}}Kr.create=e=>new Kr({typeName:se.ZodUnknown,...ue(e)});class rr extends he{_parse(t){const r=this._getOrReturnCtx(t);return X(r,{code:q.invalid_type,expected:Y.never,received:r.parsedType}),oe}}rr.create=e=>new rr({typeName:se.ZodNever,...ue(e)});class uo extends he{_parse(t){if(this._getType(t)!==Y.undefined){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.void,received:i.parsedType}),oe}return Qe(t.data)}}uo.create=e=>new uo({typeName:se.ZodVoid,...ue(e)});class Dt extends he{_parse(t){const{ctx:r,status:i}=this._processInputParams(t),n=this._def;if(r.parsedType!==Y.array)return X(r,{code:q.invalid_type,expected:Y.array,received:r.parsedType}),oe;if(n.exactLength!==null){const p=r.data.length>n.exactLength.value,s=r.data.length<n.exactLength.value;(p||s)&&(X(r,{code:p?q.too_big:q.too_small,minimum:s?n.exactLength.value:void 0,maximum:p?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(X(r,{code:q.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(X(r,{code:q.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),r.common.async)return Promise.all([...r.data].map((p,s)=>n.type._parseAsync(new Ut(r,p,r.path,s)))).then(p=>qe.mergeArray(i,p));const o=[...r.data].map((p,s)=>n.type._parseSync(new Ut(r,p,r.path,s)));return qe.mergeArray(i,o)}get element(){return this._def.type}min(t,r){return new Dt({...this._def,minLength:{value:t,message:re.toString(r)}})}max(t,r){return new Dt({...this._def,maxLength:{value:t,message:re.toString(r)}})}length(t,r){return new Dt({...this._def,exactLength:{value:t,message:re.toString(r)}})}nonempty(t){return this.min(1,t)}}Dt.create=(e,t)=>new Dt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:se.ZodArray,...ue(t)});function ni(e){if(e instanceof Ee){const t={};for(const r in e.shape){const i=e.shape[r];t[r]=$t.create(ni(i))}return new Ee({...e._def,shape:()=>t})}else return e instanceof Dt?new Dt({...e._def,type:ni(e.element)}):e instanceof $t?$t.create(ni(e.unwrap())):e instanceof Dr?Dr.create(ni(e.unwrap())):e instanceof Wt?Wt.create(e.items.map(t=>ni(t))):e}class Ee extends he{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=pe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Y.object){const d=this._getOrReturnCtx(t);return X(d,{code:q.invalid_type,expected:Y.object,received:d.parsedType}),oe}const{status:i,ctx:n}=this._processInputParams(t),{shape:o,keys:p}=this._getCached(),s=[];if(!(this._def.catchall instanceof rr&&this._def.unknownKeys==="strip"))for(const d in n.data)p.includes(d)||s.push(d);const a=[];for(const d of p){const _=o[d],f=n.data[d];a.push({key:{status:"valid",value:d},value:_._parse(new Ut(n,f,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof rr){const d=this._def.unknownKeys;if(d==="passthrough")for(const _ of s)a.push({key:{status:"valid",value:_},value:{status:"valid",value:n.data[_]}});else if(d==="strict")s.length>0&&(X(n,{code:q.unrecognized_keys,keys:s}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const _ of s){const f=n.data[_];a.push({key:{status:"valid",value:_},value:d._parse(new Ut(n,f,n.path,_)),alwaysSet:_ in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const _ of a){const f=await _.key,v=await _.value;d.push({key:f,value:v,alwaysSet:_.alwaysSet})}return d}).then(d=>qe.mergeObjectSync(i,d)):qe.mergeObjectSync(i,a)}get shape(){return this._def.shape()}strict(t){return re.errToObj,new Ee({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,i)=>{var n,o,p,s;const a=(p=(o=(n=this._def).errorMap)===null||o===void 0?void 0:o.call(n,r,i).message)!==null&&p!==void 0?p:i.defaultError;return r.code==="unrecognized_keys"?{message:(s=re.errToObj(t).message)!==null&&s!==void 0?s:a}:{message:a}}}:{}})}strip(){return new Ee({...this._def,unknownKeys:"strip"})}passthrough(){return new Ee({...this._def,unknownKeys:"passthrough"})}extend(t){return new Ee({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Ee({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:se.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Ee({...this._def,catchall:t})}pick(t){const r={};return pe.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(r[i]=this.shape[i])}),new Ee({...this._def,shape:()=>r})}omit(t){const r={};return pe.objectKeys(this.shape).forEach(i=>{t[i]||(r[i]=this.shape[i])}),new Ee({...this._def,shape:()=>r})}deepPartial(){return ni(this)}partial(t){const r={};return pe.objectKeys(this.shape).forEach(i=>{const n=this.shape[i];t&&!t[i]?r[i]=n:r[i]=n.optional()}),new Ee({...this._def,shape:()=>r})}required(t){const r={};return pe.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])r[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof $t;)o=o._def.innerType;r[i]=o}}),new Ee({...this._def,shape:()=>r})}keyof(){return Mf(pe.objectKeys(this.shape))}}Ee.create=(e,t)=>new Ee({shape:()=>e,unknownKeys:"strip",catchall:rr.create(),typeName:se.ZodObject,...ue(t)});Ee.strictCreate=(e,t)=>new Ee({shape:()=>e,unknownKeys:"strict",catchall:rr.create(),typeName:se.ZodObject,...ue(t)});Ee.lazycreate=(e,t)=>new Ee({shape:e,unknownKeys:"strip",catchall:rr.create(),typeName:se.ZodObject,...ue(t)});class Hn extends he{_parse(t){const{ctx:r}=this._processInputParams(t),i=this._def.options;function n(o){for(const s of o)if(s.result.status==="valid")return s.result;for(const s of o)if(s.result.status==="dirty")return r.common.issues.push(...s.ctx.common.issues),s.result;const p=o.map(s=>new ht(s.ctx.common.issues));return X(r,{code:q.invalid_union,unionErrors:p}),oe}if(r.common.async)return Promise.all(i.map(async o=>{const p={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:p}),ctx:p}})).then(n);{let o;const p=[];for(const a of i){const d={...r,common:{...r.common,issues:[]},parent:null},_=a._parseSync({data:r.data,path:r.path,parent:d});if(_.status==="valid")return _;_.status==="dirty"&&!o&&(o={result:_,ctx:d}),d.common.issues.length&&p.push(d.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const s=p.map(a=>new ht(a));return X(r,{code:q.invalid_union,unionErrors:s}),oe}}get options(){return this._def.options}}Hn.create=(e,t)=>new Hn({options:e,typeName:se.ZodUnion,...ue(t)});const Vt=e=>e instanceof $n?Vt(e.schema):e instanceof Ot?Vt(e.innerType()):e instanceof Un?[e.value]:e instanceof Tr?e.options:e instanceof Wn?pe.objectValues(e.enum):e instanceof Vn?Vt(e._def.innerType):e instanceof Bn?[void 0]:e instanceof jn?[null]:e instanceof $t?[void 0,...Vt(e.unwrap())]:e instanceof Dr?[null,...Vt(e.unwrap())]:e instanceof dc||e instanceof Zn?Vt(e.unwrap()):e instanceof Kn?Vt(e._def.innerType):[];class No extends he{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.object)return X(r,{code:q.invalid_type,expected:Y.object,received:r.parsedType}),oe;const i=this.discriminator,n=r.data[i],o=this.optionsMap.get(n);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(X(r,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,i){const n=new Map;for(const o of r){const p=Vt(o.shape[t]);if(!p.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const s of p){if(n.has(s))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(s)}`);n.set(s,o)}}return new No({typeName:se.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:n,...ue(i)})}}function fl(e,t){const r=dr(e),i=dr(t);if(e===t)return{valid:!0,data:e};if(r===Y.object&&i===Y.object){const n=pe.objectKeys(t),o=pe.objectKeys(e).filter(s=>n.indexOf(s)!==-1),p={...e,...t};for(const s of o){const a=fl(e[s],t[s]);if(!a.valid)return{valid:!1};p[s]=a.data}return{valid:!0,data:p}}else if(r===Y.array&&i===Y.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let o=0;o<e.length;o++){const p=e[o],s=t[o],a=fl(p,s);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}else return r===Y.date&&i===Y.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fn extends he{_parse(t){const{status:r,ctx:i}=this._processInputParams(t),n=(o,p)=>{if(hl(o)||hl(p))return oe;const s=fl(o.value,p.value);return s.valid?((dl(o)||dl(p))&&r.dirty(),{status:r.value,value:s.data}):(X(i,{code:q.invalid_intersection_types}),oe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,p])=>n(o,p)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Fn.create=(e,t,r)=>new Fn({left:e,right:t,typeName:se.ZodIntersection,...ue(r)});class Wt extends he{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.array)return X(i,{code:q.invalid_type,expected:Y.array,received:i.parsedType}),oe;if(i.data.length<this._def.items.length)return X(i,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),oe;!this._def.rest&&i.data.length>this._def.items.length&&(X(i,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...i.data].map((p,s)=>{const a=this._def.items[s]||this._def.rest;return a?a._parse(new Ut(i,p,i.path,s)):null}).filter(p=>!!p);return i.common.async?Promise.all(o).then(p=>qe.mergeArray(r,p)):qe.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new Wt({...this._def,rest:t})}}Wt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wt({items:e,typeName:se.ZodTuple,rest:null,...ue(t)})};class zn extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.object)return X(i,{code:q.invalid_type,expected:Y.object,received:i.parsedType}),oe;const n=[],o=this._def.keyType,p=this._def.valueType;for(const s in i.data)n.push({key:o._parse(new Ut(i,s,i.path,s)),value:p._parse(new Ut(i,i.data[s],i.path,s)),alwaysSet:s in i.data});return i.common.async?qe.mergeObjectAsync(r,n):qe.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(t,r,i){return r instanceof he?new zn({keyType:t,valueType:r,typeName:se.ZodRecord,...ue(i)}):new zn({keyType:Lt.create(),valueType:t,typeName:se.ZodRecord,...ue(r)})}}class ho extends he{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.map)return X(i,{code:q.invalid_type,expected:Y.map,received:i.parsedType}),oe;const n=this._def.keyType,o=this._def.valueType,p=[...i.data.entries()].map(([s,a],d)=>({key:n._parse(new Ut(i,s,i.path,[d,"key"])),value:o._parse(new Ut(i,a,i.path,[d,"value"]))}));if(i.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const a of p){const d=await a.key,_=await a.value;if(d.status==="aborted"||_.status==="aborted")return oe;(d.status==="dirty"||_.status==="dirty")&&r.dirty(),s.set(d.value,_.value)}return{status:r.value,value:s}})}else{const s=new Map;for(const a of p){const d=a.key,_=a.value;if(d.status==="aborted"||_.status==="aborted")return oe;(d.status==="dirty"||_.status==="dirty")&&r.dirty(),s.set(d.value,_.value)}return{status:r.value,value:s}}}}ho.create=(e,t,r)=>new ho({valueType:t,keyType:e,typeName:se.ZodMap,...ue(r)});class Jr extends he{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.parsedType!==Y.set)return X(i,{code:q.invalid_type,expected:Y.set,received:i.parsedType}),oe;const n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(X(i,{code:q.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(X(i,{code:q.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const o=this._def.valueType;function p(a){const d=new Set;for(const _ of a){if(_.status==="aborted")return oe;_.status==="dirty"&&r.dirty(),d.add(_.value)}return{status:r.value,value:d}}const s=[...i.data.values()].map((a,d)=>o._parse(new Ut(i,a,i.path,d)));return i.common.async?Promise.all(s).then(a=>p(a)):p(s)}min(t,r){return new Jr({...this._def,minSize:{value:t,message:re.toString(r)}})}max(t,r){return new Jr({...this._def,maxSize:{value:t,message:re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Jr.create=(e,t)=>new Jr({valueType:e,minSize:null,maxSize:null,typeName:se.ZodSet,...ue(t)});class Ei extends he{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.function)return X(r,{code:q.invalid_type,expected:Y.function,received:r.parsedType}),oe;function i(s,a){return ao({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,oo(),Ni].filter(d=>!!d),issueData:{code:q.invalid_arguments,argumentsError:a}})}function n(s,a){return ao({data:s,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,oo(),Ni].filter(d=>!!d),issueData:{code:q.invalid_return_type,returnTypeError:a}})}const o={errorMap:r.common.contextualErrorMap},p=r.data;if(this._def.returns instanceof Bi){const s=this;return Qe(async function(...a){const d=new ht([]),_=await s._def.args.parseAsync(a,o).catch(w=>{throw d.addIssue(i(a,w)),d}),f=await Reflect.apply(p,this,_);return await s._def.returns._def.type.parseAsync(f,o).catch(w=>{throw d.addIssue(n(f,w)),d})})}else{const s=this;return Qe(function(...a){const d=s._def.args.safeParse(a,o);if(!d.success)throw new ht([i(a,d.error)]);const _=Reflect.apply(p,this,d.data),f=s._def.returns.safeParse(_,o);if(!f.success)throw new ht([n(_,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ei({...this._def,args:Wt.create(t).rest(Kr.create())})}returns(t){return new Ei({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,i){return new Ei({args:t||Wt.create([]).rest(Kr.create()),returns:r||Kr.create(),typeName:se.ZodFunction,...ue(i)})}}class $n extends he{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}$n.create=(e,t)=>new $n({getter:e,typeName:se.ZodLazy,...ue(t)});class Un extends he{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return X(r,{received:r.data,code:q.invalid_literal,expected:this._def.value}),oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Un.create=(e,t)=>new Un({value:e,typeName:se.ZodLiteral,...ue(t)});function Mf(e,t){return new Tr({values:e,typeName:se.ZodEnum,...ue(t)})}class Tr extends he{constructor(){super(...arguments),tn.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),i=this._def.values;return X(r,{expected:pe.joinValues(i),received:r.parsedType,code:q.invalid_type}),oe}if(lo(this,tn)||Tf(this,tn,new Set(this._def.values)),!lo(this,tn).has(t.data)){const r=this._getOrReturnCtx(t),i=this._def.values;return X(r,{received:r.data,code:q.invalid_enum_value,options:i}),oe}return Qe(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Tr.create(t,{...this._def,...r})}exclude(t,r=this._def){return Tr.create(this.options.filter(i=>!t.includes(i)),{...this._def,...r})}}tn=new WeakMap;Tr.create=Mf;class Wn extends he{constructor(){super(...arguments),rn.set(this,void 0)}_parse(t){const r=pe.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Y.string&&i.parsedType!==Y.number){const n=pe.objectValues(r);return X(i,{expected:pe.joinValues(n),received:i.parsedType,code:q.invalid_type}),oe}if(lo(this,rn)||Tf(this,rn,new Set(pe.getValidEnumValues(this._def.values))),!lo(this,rn).has(t.data)){const n=pe.objectValues(r);return X(i,{received:i.data,code:q.invalid_enum_value,options:n}),oe}return Qe(t.data)}get enum(){return this._def.values}}rn=new WeakMap;Wn.create=(e,t)=>new Wn({values:e,typeName:se.ZodNativeEnum,...ue(t)});class Bi extends he{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Y.promise&&r.common.async===!1)return X(r,{code:q.invalid_type,expected:Y.promise,received:r.parsedType}),oe;const i=r.parsedType===Y.promise?r.data:Promise.resolve(r.data);return Qe(i.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Bi.create=(e,t)=>new Bi({type:e,typeName:se.ZodPromise,...ue(t)});class Ot extends he{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:i}=this._processInputParams(t),n=this._def.effect||null,o={addIssue:p=>{X(i,p),p.fatal?r.abort():r.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),n.type==="preprocess"){const p=n.transform(i.data,o);if(i.common.async)return Promise.resolve(p).then(async s=>{if(r.value==="aborted")return oe;const a=await this._def.schema._parseAsync({data:s,path:i.path,parent:i});return a.status==="aborted"?oe:a.status==="dirty"||r.value==="dirty"?mi(a.value):a});{if(r.value==="aborted")return oe;const s=this._def.schema._parseSync({data:p,path:i.path,parent:i});return s.status==="aborted"?oe:s.status==="dirty"||r.value==="dirty"?mi(s.value):s}}if(n.type==="refinement"){const p=s=>{const a=n.refinement(s,o);if(i.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(i.common.async===!1){const s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?oe:(s.status==="dirty"&&r.dirty(),p(s.value),{status:r.value,value:s.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>s.status==="aborted"?oe:(s.status==="dirty"&&r.dirty(),p(s.value).then(()=>({status:r.value,value:s.value}))))}if(n.type==="transform")if(i.common.async===!1){const p=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Pn(p))return p;const s=n.transform(p.value,o);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:s}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(p=>Pn(p)?Promise.resolve(n.transform(p.value,o)).then(s=>({status:r.value,value:s})):p);pe.assertNever(n)}}Ot.create=(e,t,r)=>new Ot({schema:e,typeName:se.ZodEffects,effect:t,...ue(r)});Ot.createWithPreprocess=(e,t,r)=>new Ot({schema:t,effect:{type:"preprocess",transform:e},typeName:se.ZodEffects,...ue(r)});class $t extends he{_parse(t){return this._getType(t)===Y.undefined?Qe(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$t.create=(e,t)=>new $t({innerType:e,typeName:se.ZodOptional,...ue(t)});class Dr extends he{_parse(t){return this._getType(t)===Y.null?Qe(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Dr.create=(e,t)=>new Dr({innerType:e,typeName:se.ZodNullable,...ue(t)});class Vn extends he{_parse(t){const{ctx:r}=this._processInputParams(t);let i=r.data;return r.parsedType===Y.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Vn.create=(e,t)=>new Vn({innerType:e,typeName:se.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ue(t)});class Kn extends he{_parse(t){const{ctx:r}=this._processInputParams(t),i={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Nn(n)?n.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ht(i.common.issues)},input:i.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new ht(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Kn.create=(e,t)=>new Kn({innerType:e,typeName:se.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ue(t)});class fo extends he{_parse(t){if(this._getType(t)!==Y.nan){const i=this._getOrReturnCtx(t);return X(i,{code:q.invalid_type,expected:Y.nan,received:i.parsedType}),oe}return{status:"valid",value:t.data}}}fo.create=e=>new fo({typeName:se.ZodNaN,...ue(e)});const L0=Symbol("zod_brand");class dc extends he{_parse(t){const{ctx:r}=this._processInputParams(t),i=r.data;return this._def.type._parse({data:i,path:r.path,parent:r})}unwrap(){return this._def.type}}class es extends he{_parse(t){const{status:r,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?oe:o.status==="dirty"?(r.dirty(),mi(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?oe:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(t,r){return new es({in:t,out:r,typeName:se.ZodPipeline})}}class Zn extends he{_parse(t){const r=this._def.innerType._parse(t),i=n=>(Pn(n)&&(n.value=Object.freeze(n.value)),n);return Nn(r)?r.then(n=>i(n)):i(r)}unwrap(){return this._def.innerType}}Zn.create=(e,t)=>new Zn({innerType:e,typeName:se.ZodReadonly,...ue(t)});function Pf(e,t={},r){return e?Ii.create().superRefine((i,n)=>{var o,p;if(!e(i)){const s=typeof t=="function"?t(i):typeof t=="string"?{message:t}:t,a=(p=(o=s.fatal)!==null&&o!==void 0?o:r)!==null&&p!==void 0?p:!0,d=typeof s=="string"?{message:s}:s;n.addIssue({code:"custom",...d,fatal:a})}}):Ii.create()}const R0={object:Ee.lazycreate};var se;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(se||(se={}));const T0=(e,t={message:`Input not instance of ${e.name}`})=>Pf(r=>r instanceof e,t),Nf=Lt.create,If=Lr.create,D0=fo.create,A0=Rr.create,Bf=In.create,O0=Qr.create,M0=co.create,P0=Bn.create,N0=jn.create,I0=Ii.create,B0=Kr.create,j0=rr.create,H0=uo.create,F0=Dt.create,z0=Ee.create,$0=Ee.strictCreate,U0=Hn.create,W0=No.create,V0=Fn.create,K0=Wt.create,Z0=zn.create,q0=ho.create,G0=Jr.create,X0=Ei.create,Y0=$n.create,Q0=Un.create,J0=Tr.create,ey=Wn.create,ty=Bi.create,Iu=Ot.create,ry=$t.create,iy=Dr.create,ny=Ot.createWithPreprocess,sy=es.create,oy=()=>Nf().optional(),ay=()=>If().optional(),ly=()=>Bf().optional(),cy={string:e=>Lt.create({...e,coerce:!0}),number:e=>Lr.create({...e,coerce:!0}),boolean:e=>In.create({...e,coerce:!0}),bigint:e=>Rr.create({...e,coerce:!0}),date:e=>Qr.create({...e,coerce:!0})},uy=oe;var rt=Object.freeze({__proto__:null,defaultErrorMap:Ni,setErrorMap:u0,getErrorMap:oo,makeIssue:ao,EMPTY_PATH:h0,addIssueToContext:X,ParseStatus:qe,INVALID:oe,DIRTY:mi,OK:Qe,isAborted:hl,isDirty:dl,isValid:Pn,isAsync:Nn,get util(){return pe},get objectUtil(){return ul},ZodParsedType:Y,getParsedType:dr,ZodType:he,datetimeRegex:Of,ZodString:Lt,ZodNumber:Lr,ZodBigInt:Rr,ZodBoolean:In,ZodDate:Qr,ZodSymbol:co,ZodUndefined:Bn,ZodNull:jn,ZodAny:Ii,ZodUnknown:Kr,ZodNever:rr,ZodVoid:uo,ZodArray:Dt,ZodObject:Ee,ZodUnion:Hn,ZodDiscriminatedUnion:No,ZodIntersection:Fn,ZodTuple:Wt,ZodRecord:zn,ZodMap:ho,ZodSet:Jr,ZodFunction:Ei,ZodLazy:$n,ZodLiteral:Un,ZodEnum:Tr,ZodNativeEnum:Wn,ZodPromise:Bi,ZodEffects:Ot,ZodTransformer:Ot,ZodOptional:$t,ZodNullable:Dr,ZodDefault:Vn,ZodCatch:Kn,ZodNaN:fo,BRAND:L0,ZodBranded:dc,ZodPipeline:es,ZodReadonly:Zn,custom:Pf,Schema:he,ZodSchema:he,late:R0,get ZodFirstPartyTypeKind(){return se},coerce:cy,any:I0,array:F0,bigint:A0,boolean:Bf,date:O0,discriminatedUnion:W0,effect:Iu,enum:J0,function:X0,instanceof:T0,intersection:V0,lazy:Y0,literal:Q0,map:q0,nan:D0,nativeEnum:ey,never:j0,null:N0,nullable:iy,number:If,object:z0,oboolean:ly,onumber:ay,optional:ry,ostring:oy,pipeline:sy,preprocess:ny,promise:ty,record:Z0,set:G0,strictObject:$0,string:Nf,symbol:M0,transformer:Iu,tuple:K0,undefined:P0,union:U0,unknown:B0,void:H0,NEVER:uy,ZodIssueCode:q,quotelessJson:c0,ZodError:ht});const hy=rt.object({id:rt.string(),name:rt.string(),command:rt.string(),args:rt.array(rt.object({name:rt.string(),description:rt.string(),type:rt.enum(["string","number","boolean"]),default:rt.union([rt.string(),rt.number(),rt.boolean()]).optional(),required:rt.boolean().optional()})).optional()}),dy=()=>{var _;const{updateToolConfig:e,saveConfig:t,loadConfig:r}=Mo(),[i,n]=ae.useState(Object.keys(Ve)[0]),[o,p]=ae.useState({}),s=()=>{try{const f=hy.parse(Ve[i]);t(i,f)}catch(f){console.error("Invalid tool configuration:",f)}},a=()=>{!o.name||!o.type||(e(i,{args:[...Ve[i].args||[],{name:o.name,description:o.description||"",type:o.type,default:o.default,required:o.required}]}),p({}))},d=f=>{e(i,{args:(Ve[i].args||[]).filter(v=>v.name!==f)})};return D.jsxs("div",{className:"bg-gray-900 border-t border-cyan-500 h-64 overflow-y-auto",children:[D.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 border-b border-cyan-500",children:[D.jsxs("div",{className:"flex items-center",children:[D.jsx(jg,{className:"text-cyan-500 mr-2"}),D.jsx("h3",{className:"text-white font-medium",children:"Tool Configuration"})]}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx("select",{value:i,onChange:f=>n(f.target.value),className:"bg-gray-700 text-white px-3 py-1 rounded",children:Object.entries(Ve).map(([f,v])=>D.jsx("option",{value:f,children:v.name},f))}),D.jsxs("button",{onClick:s,className:"flex items-center space-x-1 px-3 py-1 bg-cyan-500 text-black rounded hover:bg-cyan-400",children:[D.jsx(tf,{size:16}),D.jsx("span",{children:"Save"})]})]})]}),D.jsxs("div",{className:"p-4 space-y-4",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Command Template"}),D.jsx("input",{type:"text",value:Ve[i].command,onChange:f=>e(i,{command:f.target.value}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded border border-cyan-500 focus:outline-none focus:border-purple-500"}),D.jsxs("p",{className:"text-gray-400 text-sm",children:["Available variables: ","{target}",", ","{port}",", ","{protocol}"]})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("h4",{className:"text-sm font-medium text-gray-300",children:"Arguments"}),D.jsx("div",{className:"space-y-2",children:(_=Ve[i].args)==null?void 0:_.map(f=>D.jsxs("div",{className:"flex items-center space-x-2 bg-gray-800 p-2 rounded",children:[D.jsxs("div",{className:"flex-1",children:[D.jsx("div",{className:"text-cyan-500",children:f.name}),D.jsx("div",{className:"text-gray-400 text-sm",children:f.description})]}),D.jsx("div",{className:"text-gray-400 text-sm",children:f.type}),D.jsx("button",{onClick:()=>d(f.name),className:"text-red-500 hover:text-red-400",children:D.jsx(rf,{size:16})})]},f.name))}),D.jsxs("div",{className:"bg-gray-800 p-4 rounded space-y-2",children:[D.jsx("h5",{className:"text-sm font-medium text-cyan-500",children:"Add Argument"}),D.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[D.jsx("input",{type:"text",placeholder:"Name",value:o.name||"",onChange:f=>p({...o,name:f.target.value}),className:"bg-gray-700 text-white px-3 py-1 rounded"}),D.jsxs("select",{value:o.type||"",onChange:f=>p({...o,type:f.target.value}),className:"bg-gray-700 text-white px-3 py-1 rounded",children:[D.jsx("option",{value:"",children:"Select Type"}),D.jsx("option",{value:"string",children:"String"}),D.jsx("option",{value:"number",children:"Number"}),D.jsx("option",{value:"boolean",children:"Boolean"})]}),D.jsx("input",{type:"text",placeholder:"Description",value:o.description||"",onChange:f=>p({...o,description:f.target.value}),className:"bg-gray-700 text-white px-3 py-1 rounded col-span-2"}),D.jsxs("button",{onClick:a,className:"col-span-2 flex items-center justify-center space-x-1 px-3 py-1 bg-cyan-500 text-black rounded hover:bg-cyan-400",children:[D.jsx(Pg,{size:16}),D.jsx("span",{children:"Add Argument"})]})]})]})]})]})]})},fy=({requestHeaders:e,responseHeaders:t})=>{const[r,i]=ae.useState("split"),n=s=>{const a=Object.entries(s).map(([d,_])=>`${d}: ${_}`).join(`
`);navigator.clipboard.writeText(a)},o=s=>Object.entries(s).map(([a,d])=>`${a}: ${d}`).join(`
`),p=()=>{const s=new Set([...Object.keys(e),...Object.keys(t)]);return Array.from(s).map(a=>{const d=e[a],_=t[a];let f="  ";return d||(f="+ "),_||(f="- "),d!==_&&(f="~ "),`${f}${a}: ${_||d||""}`}).join(`
`)};return D.jsxs("div",{className:"bg-gray-900 border-t border-cyan-500",children:[D.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-800 border-b border-cyan-500",children:D.jsxs("div",{className:"flex items-center space-x-4",children:[D.jsx("h3",{className:"text-white font-medium",children:"HTTP Headers"}),D.jsxs("button",{onClick:()=>i(r==="split"?"diff":"split"),className:"flex items-center space-x-1 text-cyan-500 hover:text-cyan-400",children:[D.jsx(Sg,{size:16}),D.jsx("span",{children:r==="split"?"Show Diff":"Show Split"})]})]})}),r==="split"?D.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("h4",{className:"text-cyan-500",children:"Request Headers"}),D.jsx("button",{onClick:()=>n(e),className:"text-gray-400 hover:text-white",title:"Copy headers",children:D.jsx(sl,{size:16})})]}),D.jsx(fn,{language:"http",style:Ns,customStyle:{background:"transparent",padding:"1rem",borderRadius:"0.375rem",border:"1px solid #00fff2"},children:o(e)})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsxs("div",{className:"flex items-center justify-between",children:[D.jsx("h4",{className:"text-cyan-500",children:"Response Headers"}),D.jsx("button",{onClick:()=>n(t),className:"text-gray-400 hover:text-white",title:"Copy headers",children:D.jsx(sl,{size:16})})]}),D.jsx(fn,{language:"http",style:Ns,customStyle:{background:"transparent",padding:"1rem",borderRadius:"0.375rem",border:"1px solid #00fff2"},children:o(t)})]})]}):D.jsx("div",{className:"p-4",children:D.jsx(fn,{language:"diff",style:Ns,customStyle:{background:"transparent",padding:"1rem",borderRadius:"0.375rem",border:"1px solid #00fff2"},children:p()})})]})};var jf={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={4567:function(p,s,a){var d=this&&this.__decorate||function(c,g,y,x){var b,m=arguments.length,k=m<3?g:x===null?x=Object.getOwnPropertyDescriptor(g,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,g,y,x);else for(var R=c.length-1;R>=0;R--)(b=c[R])&&(k=(m<3?b(k):m>3?b(g,y,k):b(g,y))||k);return m>3&&k&&Object.defineProperty(g,y,k),k},_=this&&this.__param||function(c,g){return function(y,x){g(y,x,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const f=a(9042),v=a(6114),w=a(9924),C=a(844),S=a(5596),h=a(4725),u=a(3656);let l=s.AccessibilityManager=class extends C.Disposable{constructor(c,g){super(),this._terminal=c,this._renderService=g,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let y=0;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);if(this._topBoundaryFocusListener=y=>this._handleBoundaryFocus(y,0),this._bottomBoundaryFocusListener=y=>this._handleBoundaryFocus(y,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(y=>this._handleResize(y.rows))),this.register(this._terminal.onRender(y=>this._refreshRows(y.start,y.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(y=>this._handleChar(y))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(y=>this._handleTab(y))),this.register(this._terminal.onKey(y=>this._handleKey(y.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new S.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,C.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(c){for(let g=0;g<c;g++)this._handleChar(" ")}_handleChar(c){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==c&&(this._charsToAnnounce+=c):this._charsToAnnounce+=c,c===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),v.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,v.isMac&&this._liveRegion.remove()}_handleKey(c){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(c)||this._charsToConsume.push(c)}_refreshRows(c,g){this._liveRegionDebouncer.refresh(c,g,this._terminal.rows)}_renderRows(c,g){const y=this._terminal.buffer,x=y.lines.length.toString();for(let b=c;b<=g;b++){const m=y.translateBufferLineToString(y.ydisp+b,!0),k=(y.ydisp+b+1).toString(),R=this._rowElements[b];R&&(m.length===0?R.innerText="":R.textContent=m,R.setAttribute("aria-posinset",k),R.setAttribute("aria-setsize",x))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(c,g){const y=c.target,x=this._rowElements[g===0?1:this._rowElements.length-2];if(y.getAttribute("aria-posinset")===(g===0?"1":`${this._terminal.buffer.lines.length}`)||c.relatedTarget!==x)return;let b,m;if(g===0?(b=y,m=this._rowElements.pop(),this._rowContainer.removeChild(m)):(b=this._rowElements.shift(),m=y,this._rowContainer.removeChild(b)),b.removeEventListener("focus",this._topBoundaryFocusListener),m.removeEventListener("focus",this._bottomBoundaryFocusListener),g===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(g===0?-1:1),this._rowElements[g===0?1:this._rowElements.length-2].focus(),c.preventDefault(),c.stopImmediatePropagation()}_handleResize(c){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let g=this._rowContainer.children.length;g<this._terminal.rows;g++)this._rowElements[g]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[g]);for(;this._rowElements.length>c;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const c=document.createElement("div");return c.setAttribute("role","listitem"),c.tabIndex=-1,this._refreshRowDimensions(c),c}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let c=0;c<this._terminal.rows;c++)this._refreshRowDimensions(this._rowElements[c])}}_refreshRowDimensions(c){c.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=l=d([_(1,h.IRenderService)],l)},3614:(p,s)=>{function a(v){return v.replace(/\r?\n/g,"\r")}function d(v,w){return w?"\x1B[200~"+v+"\x1B[201~":v}function _(v,w,C,S){v=d(v=a(v),C.decPrivateModes.bracketedPasteMode&&S.rawOptions.ignoreBracketedPasteMode!==!0),C.triggerDataEvent(v,!0),w.value=""}function f(v,w,C){const S=C.getBoundingClientRect(),h=v.clientX-S.left-10,u=v.clientY-S.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${h}px`,w.style.top=`${u}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=a,s.bracketTextForPaste=d,s.copyHandler=function(v,w){v.clipboardData&&v.clipboardData.setData("text/plain",w.selectionText),v.preventDefault()},s.handlePasteEvent=function(v,w,C,S){v.stopPropagation(),v.clipboardData&&_(v.clipboardData.getData("text/plain"),w,C,S)},s.paste=_,s.moveTextAreaUnderMouseCursor=f,s.rightClickHandler=function(v,w,C,S,h){f(v,w,C),h&&S.rightClickSelect(v),w.value=S.selectionText,w.select()}},7239:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const d=a(1505);s.ColorContrastCache=class{constructor(){this._color=new d.TwoKeyMap,this._css=new d.TwoKeyMap}setCss(_,f,v){this._css.set(_,f,v)}getCss(_,f){return this._css.get(_,f)}setColor(_,f,v){this._color.set(_,f,v)}getColor(_,f){return this._color.get(_,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(a,d,_,f){a.addEventListener(d,_,f);let v=!1;return{dispose:()=>{v||(v=!0,a.removeEventListener(d,_,f))}}}},6465:function(p,s,a){var d=this&&this.__decorate||function(h,u,l,c){var g,y=arguments.length,x=y<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,u,l,c);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(x=(y<3?g(x):y>3?g(u,l,x):g(u,l))||x);return y>3&&x&&Object.defineProperty(u,l,x),x},_=this&&this.__param||function(h,u){return function(l,c){u(l,c,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier2=void 0;const f=a(3656),v=a(8460),w=a(844),C=a(2585);let S=s.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(h){super(),this._bufferService=h,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(h){return this._linkProviders.push(h),{dispose:()=>{const u=this._linkProviders.indexOf(h);u!==-1&&this._linkProviders.splice(u,1)}}}attachToDom(h,u,l){this._element=h,this._mouseService=u,this._renderService=l,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(h){if(this._lastMouseEvent=h,!this._element||!this._mouseService)return;const u=this._positionFromMouseEvent(h,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const l=h.composedPath();for(let c=0;c<l.length;c++){const g=l[c];if(g.classList.contains("xterm"))break;if(g.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(h){if(this._activeLine!==h.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(h,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,h)||(this._clearCurrentLink(),this._askForLink(h,!0))}_askForLink(h,u){var l,c;this._activeProviderReplies&&u||((l=this._activeProviderReplies)===null||l===void 0||l.forEach(y=>{y==null||y.forEach(x=>{x.link.dispose&&x.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=h.y);let g=!1;for(const[y,x]of this._linkProviders.entries())u?!((c=this._activeProviderReplies)===null||c===void 0)&&c.get(y)&&(g=this._checkLinkProviderResult(y,h,g)):x.provideLinks(h.y,b=>{var m,k;if(this._isMouseOut)return;const R=b==null?void 0:b.map(M=>({link:M}));(m=this._activeProviderReplies)===null||m===void 0||m.set(y,R),g=this._checkLinkProviderResult(y,h,g),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(h.y,this._activeProviderReplies)})}_removeIntersectingLinks(h,u){const l=new Set;for(let c=0;c<u.size;c++){const g=u.get(c);if(g)for(let y=0;y<g.length;y++){const x=g[y],b=x.link.range.start.y<h?0:x.link.range.start.x,m=x.link.range.end.y>h?this._bufferService.cols:x.link.range.end.x;for(let k=b;k<=m;k++){if(l.has(k)){g.splice(y--,1);break}l.add(k)}}}}_checkLinkProviderResult(h,u,l){var c;if(!this._activeProviderReplies)return l;const g=this._activeProviderReplies.get(h);let y=!1;for(let x=0;x<h;x++)this._activeProviderReplies.has(x)&&!this._activeProviderReplies.get(x)||(y=!0);if(!y&&g){const x=g.find(b=>this._linkAtPosition(b.link,u));x&&(l=!0,this._handleNewLink(x))}if(this._activeProviderReplies.size===this._linkProviders.length&&!l)for(let x=0;x<this._activeProviderReplies.size;x++){const b=(c=this._activeProviderReplies.get(x))===null||c===void 0?void 0:c.find(m=>this._linkAtPosition(m.link,u));if(b){l=!0,this._handleNewLink(b);break}}return l}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(h){if(!this._element||!this._mouseService||!this._currentLink)return;const u=this._positionFromMouseEvent(h,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(h,this._currentLink.link.text)}_clearCurrentLink(h,u){this._element&&this._currentLink&&this._lastMouseEvent&&(!h||!u||this._currentLink.link.range.start.y>=h&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(h){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(h.link,u)&&(this._currentLink=h,this._currentLink.state={decorations:{underline:h.link.decorations===void 0||h.link.decorations.underline,pointerCursor:h.link.decorations===void 0||h.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,h.link,this._lastMouseEvent),h.link.decorations={},Object.defineProperties(h.link.decorations,{pointerCursor:{get:()=>{var l,c;return(c=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||c===void 0?void 0:c.decorations.pointerCursor},set:l=>{var c,g;!((c=this._currentLink)===null||c===void 0)&&c.state&&this._currentLink.state.decorations.pointerCursor!==l&&(this._currentLink.state.decorations.pointerCursor=l,this._currentLink.state.isHovered&&((g=this._element)===null||g===void 0||g.classList.toggle("xterm-cursor-pointer",l)))}},underline:{get:()=>{var l,c;return(c=(l=this._currentLink)===null||l===void 0?void 0:l.state)===null||c===void 0?void 0:c.decorations.underline},set:l=>{var c,g,y;!((c=this._currentLink)===null||c===void 0)&&c.state&&((y=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||y===void 0?void 0:y.decorations.underline)!==l&&(this._currentLink.state.decorations.underline=l,this._currentLink.state.isHovered&&this._fireUnderlineEvent(h.link,l))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(l=>{if(!this._currentLink)return;const c=l.start===0?0:l.start+1+this._bufferService.buffer.ydisp,g=this._bufferService.buffer.ydisp+1+l.end;if(this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=g&&(this._clearCurrentLink(c,g),this._lastMouseEvent&&this._element)){const y=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);y&&this._askForLink(y,!1)}})))}_linkHover(h,u,l){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&h.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(l,u.text)}_fireUnderlineEvent(h,u){const l=h.range,c=this._bufferService.buffer.ydisp,g=this._createLinkUnderlineEvent(l.start.x-1,l.start.y-c-1,l.end.x,l.end.y-c-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(g)}_linkLeave(h,u,l){var c;!((c=this._currentLink)===null||c===void 0)&&c.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&h.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(l,u.text)}_linkAtPosition(h,u){const l=h.range.start.y*this._bufferService.cols+h.range.start.x,c=h.range.end.y*this._bufferService.cols+h.range.end.x,g=u.y*this._bufferService.cols+u.x;return l<=g&&g<=c}_positionFromMouseEvent(h,u,l){const c=l.getCoords(h,u,this._bufferService.cols,this._bufferService.rows);if(c)return{x:c[0],y:c[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(h,u,l,c,g){return{x1:h,y1:u,x2:l,y2:c,cols:this._bufferService.cols,fg:g}}};s.Linkifier2=S=d([_(0,C.IBufferService)],S)},9042:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,s,a){var d=this&&this.__decorate||function(S,h,u,l){var c,g=arguments.length,y=g<3?h:l===null?l=Object.getOwnPropertyDescriptor(h,u):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(S,h,u,l);else for(var x=S.length-1;x>=0;x--)(c=S[x])&&(y=(g<3?c(y):g>3?c(h,u,y):c(h,u))||y);return g>3&&y&&Object.defineProperty(h,u,y),y},_=this&&this.__param||function(S,h){return function(u,l){h(u,l,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const f=a(511),v=a(2585);let w=s.OscLinkProvider=class{constructor(S,h,u){this._bufferService=S,this._optionsService=h,this._oscLinkService=u}provideLinks(S,h){var u;const l=this._bufferService.buffer.lines.get(S-1);if(!l)return void h(void 0);const c=[],g=this._optionsService.rawOptions.linkHandler,y=new f.CellData,x=l.getTrimmedLength();let b=-1,m=-1,k=!1;for(let R=0;R<x;R++)if(m!==-1||l.hasContent(R)){if(l.loadCell(R,y),y.hasExtendedAttrs()&&y.extended.urlId){if(m===-1){m=R,b=y.extended.urlId;continue}k=y.extended.urlId!==b}else m!==-1&&(k=!0);if(k||m!==-1&&R===x-1){const M=(u=this._oscLinkService.getLinkData(b))===null||u===void 0?void 0:u.uri;if(M){const O={start:{x:m+1,y:S},end:{x:R+(k||R!==x-1?0:1),y:S}};let P=!1;if(!(g!=null&&g.allowNonHttpProtocols))try{const j=new URL(M);["http:","https:"].includes(j.protocol)||(P=!0)}catch{P=!0}P||c.push({text:M,range:O,activate:(j,F)=>g?g.activate(j,F,O):C(0,F),hover:(j,F)=>{var V;return(V=g==null?void 0:g.hover)===null||V===void 0?void 0:V.call(g,j,F,O)},leave:(j,F)=>{var V;return(V=g==null?void 0:g.leave)===null||V===void 0?void 0:V.call(g,j,F,O)}})}k=!1,y.hasExtendedAttrs()&&y.extended.urlId?(m=R,b=y.extended.urlId):(m=-1,b=-1)}}h(c)}};function C(S,h){if(confirm(`Do you want to navigate to ${h}?

WARNING: This link could potentially be dangerous`)){const u=window.open();if(u){try{u.opener=null}catch{}u.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=w=d([_(0,v.IBufferService),_(1,v.IOptionsService),_(2,v.IOscLinkService)],w)},6193:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(a,d){this._parentWindow=a,this._renderCallback=d,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(a){return this._refreshCallbacks.push(a),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(a,d,_){this._rowCount=_,a=a!==void 0?a:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const a=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,d),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const a of this._refreshCallbacks)a(0);this._refreshCallbacks=[]}}},5596:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ScreenDprMonitor=void 0;const d=a(844);class _ extends d.Disposable{constructor(v){super(),this._parentWindow=v,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,d.toDisposable)(()=>{this.clearListener()}))}setListener(v){this._listener&&this.clearListener(),this._listener=v,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var v;this._outerListener&&((v=this._resolutionMediaMatchList)===null||v===void 0||v.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}s.ScreenDprMonitor=_},3236:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const d=a(3614),_=a(3656),f=a(6465),v=a(9042),w=a(3730),C=a(1680),S=a(3107),h=a(5744),u=a(2950),l=a(1296),c=a(428),g=a(4269),y=a(5114),x=a(8934),b=a(3230),m=a(9312),k=a(4725),R=a(6731),M=a(8055),O=a(8969),P=a(8460),j=a(844),F=a(6114),V=a(8437),W=a(2584),E=a(7399),T=a(5941),A=a(9074),N=a(2585),U=a(5435),I=a(4567),$=typeof window<"u"?window.document:null;class K extends O.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(L={}){super(L),this.browser=F,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new j.MutableDisposable),this._onCursorMove=this.register(new P.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new P.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new P.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new P.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new P.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new P.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new P.EventEmitter),this._onBlur=this.register(new P.EventEmitter),this._onA11yCharEmitter=this.register(new P.EventEmitter),this._onA11yTabEmitter=this.register(new P.EventEmitter),this._onWillOpen=this.register(new P.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(A.DecorationService),this._instantiationService.setService(N.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((B,z)=>this.refresh(B,z))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(B=>this._reportWindowsOptions(B))),this.register(this._inputHandler.onColor(B=>this._handleColorEvent(B))),this.register((0,P.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,P.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,P.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(B=>this._afterResize(B.cols,B.rows))),this.register((0,j.toDisposable)(()=>{var B,z;this._customKeyEventHandler=void 0,(z=(B=this.element)===null||B===void 0?void 0:B.parentNode)===null||z===void 0||z.removeChild(this.element)}))}_handleColorEvent(L){if(this._themeService)for(const B of L){let z,H="";switch(B.index){case 256:z="foreground",H="10";break;case 257:z="background",H="11";break;case 258:z="cursor",H="12";break;default:z="ansi",H="4;"+B.index}switch(B.type){case 0:const ne=M.color.toColorRGB(z==="ansi"?this._themeService.colors.ansi[B.index]:this._themeService.colors[z]);this.coreService.triggerDataEvent(`${W.C0.ESC}]${H};${(0,T.toRgbString)(ne)}${W.C1_ESCAPED.ST}`);break;case 1:if(z==="ansi")this._themeService.modifyColors(G=>G.ansi[B.index]=M.rgba.toColor(...B.color));else{const G=z;this._themeService.modifyColors(me=>me[G]=M.rgba.toColor(...B.color))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(L){L?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(I.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(L){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[I"),this.updateCursorStyle(L),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var L;return(L=this.textarea)===null||L===void 0?void 0:L.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(W.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const L=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(L);if(!B)return;const z=Math.min(this.buffer.x,this.cols-1),H=this._renderService.dimensions.css.cell.height,ne=B.getWidth(z),G=this._renderService.dimensions.css.cell.width*ne,me=this.buffer.y*this._renderService.dimensions.css.cell.height,Pe=z*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Pe+"px",this.textarea.style.top=me+"px",this.textarea.style.width=G+"px",this.textarea.style.height=H+"px",this.textarea.style.lineHeight=H+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,_.addDisposableDomListener)(this.element,"copy",B=>{this.hasSelection()&&(0,d.copyHandler)(B,this._selectionService)}));const L=B=>(0,d.handlePasteEvent)(B,this.textarea,this.coreService,this.optionsService);this.register((0,_.addDisposableDomListener)(this.textarea,"paste",L)),this.register((0,_.addDisposableDomListener)(this.element,"paste",L)),F.isFirefox?this.register((0,_.addDisposableDomListener)(this.element,"mousedown",B=>{B.button===2&&(0,d.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,_.addDisposableDomListener)(this.element,"contextmenu",B=>{(0,d.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),F.isLinux&&this.register((0,_.addDisposableDomListener)(this.element,"auxclick",B=>{B.button===1&&(0,d.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,_.addDisposableDomListener)(this.textarea,"keyup",L=>this._keyUp(L),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keydown",L=>this._keyDown(L),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"keypress",L=>this._keyPress(L),!0)),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionupdate",L=>this._compositionHelper.compositionupdate(L))),this.register((0,_.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,_.addDisposableDomListener)(this.textarea,"input",L=>this._inputEvent(L),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(L){var B;if(!L)throw new Error("Terminal requires a parent element.");L.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=L.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),L.appendChild(this.element);const z=$.createDocumentFragment();this._viewportElement=$.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),z.appendChild(this._viewportElement),this._viewportScrollArea=$.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=$.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=$.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),z.appendChild(this.screenElement),this.textarea=$.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),F.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(y.CoreBrowserService,this.textarea,(B=this._document.defaultView)!==null&&B!==void 0?B:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,_.addDisposableDomListener)(this.textarea,"focus",H=>this._handleTextAreaFocus(H))),this.register((0,_.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(c.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(R.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(g.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(b.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(H=>this._onRender.fire(H))),this.onResize(H=>this._renderService.resize(H.cols,H.rows)),this._compositionView=$.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(z);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(x.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(C.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(m.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(H=>this.scrollLines(H.amount,H.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(H=>this._renderService.handleSelectionChanged(H.start,H.end,H.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(H=>{this.textarea.value=H,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(H=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,_.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(S.BufferDecorationRenderer,this.screenElement)),this.register((0,_.addDisposableDomListener)(this.element,"mousedown",H=>this._selectionService.handleMouseDown(H))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(I.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",H=>this._handleScreenReaderModeOptionChange(H))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",H=>{!this._overviewRulerRenderer&&H&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(h.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(l.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const L=this,B=this.element;function z(G){const me=L._mouseService.getMouseReportCoords(G,L.screenElement);if(!me)return!1;let Pe,$e;switch(G.overrideType||G.type){case"mousemove":$e=32,G.buttons===void 0?(Pe=3,G.button!==void 0&&(Pe=G.button<3?G.button:3)):Pe=1&G.buttons?0:4&G.buttons?1:2&G.buttons?2:3;break;case"mouseup":$e=0,Pe=G.button<3?G.button:3;break;case"mousedown":$e=1,Pe=G.button<3?G.button:3;break;case"wheel":if(L.viewport.getLinesScrolled(G)===0)return!1;$e=G.deltaY<0?0:1,Pe=4;break;default:return!1}return!($e===void 0||Pe===void 0||Pe>4)&&L.coreMouseService.triggerMouseEvent({col:me.col,row:me.row,x:me.x,y:me.y,button:Pe,action:$e,ctrl:G.ctrlKey,alt:G.altKey,shift:G.shiftKey})}const H={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ne={mouseup:G=>(z(G),G.buttons||(this._document.removeEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.removeEventListener("mousemove",H.mousedrag)),this.cancel(G)),wheel:G=>(z(G),this.cancel(G,!0)),mousedrag:G=>{G.buttons&&z(G)},mousemove:G=>{G.buttons||z(G)}};this.register(this.coreMouseService.onProtocolChange(G=>{G?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(G)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&G?H.mousemove||(B.addEventListener("mousemove",ne.mousemove),H.mousemove=ne.mousemove):(B.removeEventListener("mousemove",H.mousemove),H.mousemove=null),16&G?H.wheel||(B.addEventListener("wheel",ne.wheel,{passive:!1}),H.wheel=ne.wheel):(B.removeEventListener("wheel",H.wheel),H.wheel=null),2&G?H.mouseup||(B.addEventListener("mouseup",ne.mouseup),H.mouseup=ne.mouseup):(this._document.removeEventListener("mouseup",H.mouseup),B.removeEventListener("mouseup",H.mouseup),H.mouseup=null),4&G?H.mousedrag||(H.mousedrag=ne.mousedrag):(this._document.removeEventListener("mousemove",H.mousedrag),H.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,_.addDisposableDomListener)(B,"mousedown",G=>{if(G.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(G))return z(G),H.mouseup&&this._document.addEventListener("mouseup",H.mouseup),H.mousedrag&&this._document.addEventListener("mousemove",H.mousedrag),this.cancel(G)})),this.register((0,_.addDisposableDomListener)(B,"wheel",G=>{if(!H.wheel){if(!this.buffer.hasScrollback){const me=this.viewport.getLinesScrolled(G);if(me===0)return;const Pe=W.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(G.deltaY<0?"A":"B");let $e="";for(let sr=0;sr<Math.abs(me);sr++)$e+=Pe;return this.coreService.triggerDataEvent($e,!0),this.cancel(G,!0)}return this.viewport.handleWheel(G)?this.cancel(G):void 0}},{passive:!1})),this.register((0,_.addDisposableDomListener)(B,"touchstart",G=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(G),this.cancel(G)},{passive:!0})),this.register((0,_.addDisposableDomListener)(B,"touchmove",G=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(G)?void 0:this.cancel(G)},{passive:!1}))}refresh(L,B){var z;(z=this._renderService)===null||z===void 0||z.refreshRows(L,B)}updateCursorStyle(L){var B;!((B=this._selectionService)===null||B===void 0)&&B.shouldColumnSelect(L)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(L,B,z=0){var H;z===1?(super.scrollLines(L,B,z),this.refresh(0,this.rows-1)):(H=this.viewport)===null||H===void 0||H.scrollLines(L)}paste(L){(0,d.paste)(L,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(L){this._customKeyEventHandler=L}registerLinkProvider(L){return this.linkifier2.registerLinkProvider(L)}registerCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(L);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(L)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(L){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+L)}registerDecoration(L){return this._decorationService.registerDecoration(L)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(L,B,z){this._selectionService.setSelection(L,B,z)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var L;(L=this._selectionService)===null||L===void 0||L.clearSelection()}selectAll(){var L;(L=this._selectionService)===null||L===void 0||L.selectAll()}selectLines(L,B){var z;(z=this._selectionService)===null||z===void 0||z.selectLines(L,B)}_keyDown(L){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&L.altKey;if(!B&&!this._compositionHelper.keydown(L))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;B||L.key!=="Dead"&&L.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const z=(0,E.evaluateKeyboardEvent)(L,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(L),z.type===3||z.type===2){const H=this.rows-1;return this.scrollLines(z.type===2?-H:H),this.cancel(L,!0)}return z.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,L)||(z.cancel&&this.cancel(L,!0),!z.key||!!(L.key&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.key.length===1&&L.key.charCodeAt(0)>=65&&L.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(z.key!==W.C0.ETX&&z.key!==W.C0.CR||(this.textarea.value=""),this._onKey.fire({key:z.key,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(z.key,!0),!this.optionsService.rawOptions.screenReaderMode||L.altKey||L.ctrlKey?this.cancel(L,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(L,B){const z=L.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||L.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||L.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?z:z&&(!B.keyCode||B.keyCode>47)}_keyUp(L){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(L)||this.focus(),this.updateCursorStyle(L),this._keyPressHandled=!1)}_keyPress(L){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;if(this.cancel(L),L.charCode)B=L.charCode;else if(L.which===null||L.which===void 0)B=L.keyCode;else{if(L.which===0||L.charCode===0)return!1;B=L.which}return!(!B||(L.altKey||L.ctrlKey||L.metaKey)&&!this._isThirdLevelShift(this.browser,L)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(L){if(L.data&&L.inputType==="insertText"&&(!L.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const B=L.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(L),!0}return!1}resize(L,B){L!==this.cols||B!==this.rows?super.resize(L,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(L,B){var z,H;(z=this._charSizeService)===null||z===void 0||z.measure(),(H=this.viewport)===null||H===void 0||H.syncScrollArea(!0)}clear(){var L;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let B=1;B<this.rows;B++)this.buffer.lines.push(this.buffer.getBlankLine(V.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(L=this.viewport)===null||L===void 0||L.reset(),this.refresh(0,this.rows-1)}}reset(){var L,B;this.options.rows=this.rows,this.options.cols=this.cols;const z=this._customKeyEventHandler;this._setup(),super.reset(),(L=this._selectionService)===null||L===void 0||L.reset(),this._decorationService.reset(),(B=this.viewport)===null||B===void 0||B.reset(),this._customKeyEventHandler=z,this.refresh(0,this.rows-1)}clearTextureAtlas(){var L;(L=this._renderService)===null||L===void 0||L.clearTextureAtlas()}_reportFocus(){var L;!((L=this.element)===null||L===void 0)&&L.classList.contains("focus")?this.coreService.triggerDataEvent(W.C0.ESC+"[I"):this.coreService.triggerDataEvent(W.C0.ESC+"[O")}_reportWindowsOptions(L){if(this._renderService)switch(L){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),z=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[4;${z};${B}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const H=this._renderService.dimensions.css.cell.width.toFixed(0),ne=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${W.C0.ESC}[6;${ne};${H}t`)}}cancel(L,B){if(this.options.cancelEvents||B)return L.preventDefault(),L.stopPropagation(),!1}}s.Terminal=K},9924:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(a,d=1e3){this._renderCallback=a,this._debounceThresholdMS=d,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(a,d,_){this._rowCount=_,a=a!==void 0?a:0,d=d!==void 0?d:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,a):a,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,d):d;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=f-this._lastRefreshMs,w=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const a=Math.max(this._rowStart,0),d=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(a,d)}}},1680:function(p,s,a){var d=this&&this.__decorate||function(u,l,c,g){var y,x=arguments.length,b=x<3?l:g===null?g=Object.getOwnPropertyDescriptor(l,c):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,l,c,g);else for(var m=u.length-1;m>=0;m--)(y=u[m])&&(b=(x<3?y(b):x>3?y(l,c,b):y(l,c))||b);return x>3&&b&&Object.defineProperty(l,c,b),b},_=this&&this.__param||function(u,l){return function(c,g){l(c,g,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const f=a(3656),v=a(4725),w=a(8460),C=a(844),S=a(2585);let h=s.Viewport=class extends C.Disposable{constructor(u,l,c,g,y,x,b,m){super(),this._viewportElement=u,this._scrollArea=l,this._bufferService=c,this._optionsService=g,this._charSizeService=y,this._renderService=x,this._coreBrowserService=b,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(m.colors),this.register(m.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(u){this._viewportElement.style.backgroundColor=u.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(u){if(u)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const l=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==l&&(this._lastRecordedBufferHeight=l,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const u=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==u&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=u),this._refreshAnimationFrame=null}syncScrollArea(u=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(u);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(u)}_handleScroll(u){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const l=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:l,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const u=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(u*(this._smoothScrollState.target-this._smoothScrollState.origin)),u<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(u,l){const c=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(l<0&&this._viewportElement.scrollTop!==0||l>0&&c<this._lastRecordedBufferHeight)||(u.cancelable&&u.preventDefault(),!1)}handleWheel(u){const l=this._getPixelsScrolled(u);return l!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+l:this._smoothScrollState.target+=l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=l,this._bubbleScroll(u,l))}scrollLines(u){if(u!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const l=u*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+l,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!1})}_getPixelsScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let l=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_LINE?l*=this._currentRowHeight:u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._currentRowHeight*this._bufferService.rows),l}getBufferElements(u,l){var c;let g,y="";const x=[],b=l??this._bufferService.buffer.lines.length,m=this._bufferService.buffer.lines;for(let k=u;k<b;k++){const R=m.get(k);if(!R)continue;const M=(c=m.get(k+1))===null||c===void 0?void 0:c.isWrapped;if(y+=R.translateToString(!M),!M||k===m.length-1){const O=document.createElement("div");O.textContent=y,x.push(O),y.length>0&&(g=O),y=""}}return{bufferElements:x,cursorElement:g}}getLinesScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let l=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(l/=this._currentRowHeight+0,this._wheelPartialScroll+=l,l=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(l*=this._bufferService.rows),l}_applyScrollModifier(u,l){const c=this._optionsService.rawOptions.fastScrollModifier;return c==="alt"&&l.altKey||c==="ctrl"&&l.ctrlKey||c==="shift"&&l.shiftKey?u*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:u*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(u){this._lastTouchY=u.touches[0].pageY}handleTouchMove(u){const l=this._lastTouchY-u.touches[0].pageY;return this._lastTouchY=u.touches[0].pageY,l!==0&&(this._viewportElement.scrollTop+=l,this._bubbleScroll(u,l))}};s.Viewport=h=d([_(2,S.IBufferService),_(3,S.IOptionsService),_(4,v.ICharSizeService),_(5,v.IRenderService),_(6,v.ICoreBrowserService),_(7,v.IThemeService)],h)},3107:function(p,s,a){var d=this&&this.__decorate||function(h,u,l,c){var g,y=arguments.length,x=y<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,u,l,c);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(x=(y<3?g(x):y>3?g(u,l,x):g(u,l))||x);return y>3&&x&&Object.defineProperty(u,l,x),x},_=this&&this.__param||function(h,u){return function(l,c){u(l,c,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const f=a(3656),v=a(4725),w=a(844),C=a(2585);let S=s.BufferDecorationRenderer=class extends w.Disposable{constructor(h,u,l,c){super(),this._screenElement=h,this._bufferService=u,this._decorationService=l,this._renderService=c,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(g=>this._removeDecoration(g))),this.register((0,w.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const h of this._decorationService.decorations)this._renderDecoration(h);this._dimensionsChanged=!1}_renderDecoration(h){this._refreshStyle(h),this._dimensionsChanged&&this._refreshXPosition(h)}_createElement(h){var u,l;const c=document.createElement("div");c.classList.add("xterm-decoration"),c.classList.toggle("xterm-decoration-top-layer",((u=h==null?void 0:h.options)===null||u===void 0?void 0:u.layer)==="top"),c.style.width=`${Math.round((h.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,c.style.height=(h.options.height||1)*this._renderService.dimensions.css.cell.height+"px",c.style.top=(h.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",c.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const g=(l=h.options.x)!==null&&l!==void 0?l:0;return g&&g>this._bufferService.cols&&(c.style.display="none"),this._refreshXPosition(h,c),c}_refreshStyle(h){const u=h.marker.line-this._bufferService.buffers.active.ydisp;if(u<0||u>=this._bufferService.rows)h.element&&(h.element.style.display="none",h.onRenderEmitter.fire(h.element));else{let l=this._decorationElements.get(h);l||(l=this._createElement(h),h.element=l,this._decorationElements.set(h,l),this._container.appendChild(l),h.onDispose(()=>{this._decorationElements.delete(h),l.remove()})),l.style.top=u*this._renderService.dimensions.css.cell.height+"px",l.style.display=this._altBufferIsActive?"none":"block",h.onRenderEmitter.fire(l)}}_refreshXPosition(h,u=h.element){var l;if(!u)return;const c=(l=h.options.x)!==null&&l!==void 0?l:0;(h.options.anchor||"left")==="right"?u.style.right=c?c*this._renderService.dimensions.css.cell.width+"px":"":u.style.left=c?c*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(h){var u;(u=this._decorationElements.get(h))===null||u===void 0||u.remove(),this._decorationElements.delete(h),h.dispose()}};s.BufferDecorationRenderer=S=d([_(1,C.IBufferService),_(2,C.IDecorationService),_(3,v.IRenderService)],S)},5871:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(a){if(a.options.overviewRulerOptions){for(const d of this._zones)if(d.color===a.options.overviewRulerOptions.color&&d.position===a.options.overviewRulerOptions.position){if(this._lineIntersectsZone(d,a.marker.line))return;if(this._lineAdjacentToZone(d,a.marker.line,a.options.overviewRulerOptions.position))return void this._addLineToZone(d,a.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=a.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=a.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=a.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=a.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:a.options.overviewRulerOptions.color,position:a.options.overviewRulerOptions.position,startBufferLine:a.marker.line,endBufferLine:a.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(a){this._linePadding=a}_lineIntersectsZone(a,d){return d>=a.startBufferLine&&d<=a.endBufferLine}_lineAdjacentToZone(a,d,_){return d>=a.startBufferLine-this._linePadding[_||"full"]&&d<=a.endBufferLine+this._linePadding[_||"full"]}_addLineToZone(a,d){a.startBufferLine=Math.min(a.startBufferLine,d),a.endBufferLine=Math.max(a.endBufferLine,d)}}},5744:function(p,s,a){var d=this&&this.__decorate||function(g,y,x,b){var m,k=arguments.length,R=k<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(g,y,x,b);else for(var M=g.length-1;M>=0;M--)(m=g[M])&&(R=(k<3?m(R):k>3?m(y,x,R):m(y,x))||R);return k>3&&R&&Object.defineProperty(y,x,R),R},_=this&&this.__param||function(g,y){return function(x,b){y(x,b,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const f=a(5871),v=a(3656),w=a(4725),C=a(844),S=a(2585),h={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},l={full:0,left:0,center:0,right:0};let c=s.OverviewRulerRenderer=class extends C.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(g,y,x,b,m,k,R){var M;super(),this._viewportElement=g,this._screenElement=y,this._bufferService=x,this._decorationService=b,this._renderService=m,this._optionsService=k,this._coreBrowseService=R,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(M=this._viewportElement.parentElement)===null||M===void 0||M.insertBefore(this._canvas,this._viewportElement);const O=this._canvas.getContext("2d");if(!O)throw new Error("Ctx cannot be null");this._ctx=O,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,C.toDisposable)(()=>{var P;(P=this._canvas)===null||P===void 0||P.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,v.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const g=Math.floor(this._canvas.width/3),y=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=g,u.center=y,u.right=g,this._refreshDrawHeightConstants(),l.full=0,l.left=0,l.center=u.left,l.right=u.left+u.center}_refreshDrawHeightConstants(){h.full=Math.round(2*this._coreBrowseService.dpr);const g=this._canvas.height/this._bufferService.buffer.lines.length,y=Math.round(Math.max(Math.min(g,12),6)*this._coreBrowseService.dpr);h.left=y,h.center=y,h.right=y}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*h.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const y of this._decorationService.decorations)this._colorZoneStore.addDecoration(y);this._ctx.lineWidth=1;const g=this._colorZoneStore.zones;for(const y of g)y.position!=="full"&&this._renderColorZone(y);for(const y of g)y.position==="full"&&this._renderColorZone(y);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(g){this._ctx.fillStyle=g.color,this._ctx.fillRect(l[g.position||"full"],Math.round((this._canvas.height-1)*(g.startBufferLine/this._bufferService.buffers.active.lines.length)-h[g.position||"full"]/2),u[g.position||"full"],Math.round((this._canvas.height-1)*((g.endBufferLine-g.startBufferLine)/this._bufferService.buffers.active.lines.length)+h[g.position||"full"]))}_queueRefresh(g,y){this._shouldUpdateDimensions=g||this._shouldUpdateDimensions,this._shouldUpdateAnchor=y||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=c=d([_(2,S.IBufferService),_(3,S.IDecorationService),_(4,w.IRenderService),_(5,S.IOptionsService),_(6,w.ICoreBrowserService)],c)},2950:function(p,s,a){var d=this&&this.__decorate||function(S,h,u,l){var c,g=arguments.length,y=g<3?h:l===null?l=Object.getOwnPropertyDescriptor(h,u):l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(S,h,u,l);else for(var x=S.length-1;x>=0;x--)(c=S[x])&&(y=(g<3?c(y):g>3?c(h,u,y):c(h,u))||y);return g>3&&y&&Object.defineProperty(h,u,y),y},_=this&&this.__param||function(S,h){return function(u,l){h(u,l,S)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const f=a(4725),v=a(2585),w=a(2584);let C=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(S,h,u,l,c,g){this._textarea=S,this._compositionView=h,this._bufferService=u,this._optionsService=l,this._coreService=c,this._renderService=g,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(S){this._compositionView.textContent=S.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(S){if(this._isComposing||this._isSendingComposition){if(S.keyCode===229||S.keyCode===16||S.keyCode===17||S.keyCode===18)return!1;this._finalizeComposition(!1)}return S.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(S){if(this._compositionView.classList.remove("active"),this._isComposing=!1,S){const h={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let u;this._isSendingComposition=!1,h.start+=this._dataAlreadySent.length,u=this._isComposing?this._textarea.value.substring(h.start,h.end):this._textarea.value.substring(h.start),u.length>0&&this._coreService.triggerDataEvent(u,!0)}},0)}else{this._isSendingComposition=!1;const h=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(h,!0)}}_handleAnyTextareaChanges(){const S=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const h=this._textarea.value,u=h.replace(S,"");this._dataAlreadySent=u,h.length>S.length?this._coreService.triggerDataEvent(u,!0):h.length<S.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):h.length===S.length&&h!==S&&this._coreService.triggerDataEvent(h,!0)}},0)}updateCompositionElements(S){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const h=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),u=this._renderService.dimensions.css.cell.height,l=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,c=h*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=c+"px",this._compositionView.style.top=l+"px",this._compositionView.style.height=u+"px",this._compositionView.style.lineHeight=u+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const g=this._compositionView.getBoundingClientRect();this._textarea.style.left=c+"px",this._textarea.style.top=l+"px",this._textarea.style.width=Math.max(g.width,1)+"px",this._textarea.style.height=Math.max(g.height,1)+"px",this._textarea.style.lineHeight=g.height+"px"}S||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=C=d([_(2,v.IBufferService),_(3,v.IOptionsService),_(4,v.ICoreService),_(5,f.IRenderService)],C)},9806:(p,s)=>{function a(d,_,f){const v=f.getBoundingClientRect(),w=d.getComputedStyle(f),C=parseInt(w.getPropertyValue("padding-left")),S=parseInt(w.getPropertyValue("padding-top"));return[_.clientX-v.left-C,_.clientY-v.top-S]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=a,s.getCoords=function(d,_,f,v,w,C,S,h,u){if(!C)return;const l=a(d,_,f);return l?(l[0]=Math.ceil((l[0]+(u?S/2:0))/S),l[1]=Math.ceil(l[1]/h),l[0]=Math.min(Math.max(l[0],1),v+(u?1:0)),l[1]=Math.min(Math.max(l[1],1),w),l):void 0}},9504:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const d=a(2584);function _(h,u,l,c){const g=h-f(h,l),y=u-f(u,l),x=Math.abs(g-y)-function(b,m,k){let R=0;const M=b-f(b,k),O=m-f(m,k);for(let P=0;P<Math.abs(M-O);P++){const j=v(b,m)==="A"?-1:1,F=k.buffer.lines.get(M+j*P);F!=null&&F.isWrapped&&R++}return R}(h,u,l);return S(x,C(v(h,u),c))}function f(h,u){let l=0,c=u.buffer.lines.get(h),g=c==null?void 0:c.isWrapped;for(;g&&h>=0&&h<u.rows;)l++,c=u.buffer.lines.get(--h),g=c==null?void 0:c.isWrapped;return l}function v(h,u){return h>u?"A":"B"}function w(h,u,l,c,g,y){let x=h,b=u,m="";for(;x!==l||b!==c;)x+=g?1:-1,g&&x>y.cols-1?(m+=y.buffer.translateBufferLineToString(b,!1,h,x),x=0,h=0,b++):!g&&x<0&&(m+=y.buffer.translateBufferLineToString(b,!1,0,h+1),x=y.cols-1,h=x,b--);return m+y.buffer.translateBufferLineToString(b,!1,h,x)}function C(h,u){const l=u?"O":"[";return d.C0.ESC+l+h}function S(h,u){h=Math.floor(h);let l="";for(let c=0;c<h;c++)l+=u;return l}s.moveToCellSequence=function(h,u,l,c){const g=l.buffer.x,y=l.buffer.y;if(!l.buffer.hasScrollback)return function(m,k,R,M,O,P){return _(k,M,O,P).length===0?"":S(w(m,k,m,k-f(k,O),!1,O).length,C("D",P))}(g,y,0,u,l,c)+_(y,u,l,c)+function(m,k,R,M,O,P){let j;j=_(k,M,O,P).length>0?M-f(M,O):k;const F=M,V=function(W,E,T,A,N,U){let I;return I=_(T,A,N,U).length>0?A-f(A,N):E,W<T&&I<=A||W>=T&&I<A?"C":"D"}(m,k,R,M,O,P);return S(w(m,j,R,F,V==="C",O).length,C(V,P))}(g,y,h,u,l,c);let x;if(y===u)return x=g>h?"D":"C",S(Math.abs(g-h),C(x,c));x=y>u?"D":"C";const b=Math.abs(y-u);return S(function(m,k){return k.cols-m}(y>u?h:g,l)+(b-1)*l.cols+1+((y>u?g:h)-1),C(x,c))}},1296:function(p,s,a){var d=this&&this.__decorate||function(O,P,j,F){var V,W=arguments.length,E=W<3?P:F===null?F=Object.getOwnPropertyDescriptor(P,j):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(O,P,j,F);else for(var T=O.length-1;T>=0;T--)(V=O[T])&&(E=(W<3?V(E):W>3?V(P,j,E):V(P,j))||E);return W>3&&E&&Object.defineProperty(P,j,E),E},_=this&&this.__param||function(O,P){return function(j,F){P(j,F,O)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const f=a(3787),v=a(2550),w=a(2223),C=a(6171),S=a(4725),h=a(8055),u=a(8460),l=a(844),c=a(2585),g="xterm-dom-renderer-owner-",y="xterm-rows",x="xterm-fg-",b="xterm-bg-",m="xterm-focus",k="xterm-selection";let R=1,M=s.DomRenderer=class extends l.Disposable{constructor(O,P,j,F,V,W,E,T,A,N){super(),this._element=O,this._screenElement=P,this._viewportElement=j,this._linkifier2=F,this._charSizeService=W,this._optionsService=E,this._bufferService=T,this._coreBrowserService=A,this._themeService=N,this._terminalClass=R++,this._rowElements=[],this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(y),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,C.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=V.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(g+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,l.toDisposable)(()=>{this._element.classList.remove(g+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new v.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const O=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*O,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*O),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/O),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/O),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const j of this._rowElements)j.style.width=`${this.dimensions.css.canvas.width}px`,j.style.height=`${this.dimensions.css.cell.height}px`,j.style.lineHeight=`${this.dimensions.css.cell.height}px`,j.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const P=`${this._terminalSelector} .${y} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=P,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(O){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let P=`${this._terminalSelector} .${y} { color: ${O.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;P+=`${this._terminalSelector} .${y} .xterm-dim { color: ${h.color.multiplyOpacity(O.foreground,.5).css};}`,P+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,P+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",P+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${O.cursor.css};  color: ${O.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${O.cursor.css}; }}`,P+=`${this._terminalSelector} .${y}.${m} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y}.${m} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-block { background-color: ${O.cursor.css}; color: ${O.cursorAccent.css};}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${O.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${O.cursor.css} inset;}${this._terminalSelector} .${y} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${O.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,P+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${O.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${O.selectionInactiveBackgroundOpaque.css};}`;for(const[j,F]of O.ansi.entries())P+=`${this._terminalSelector} .${x}${j} { color: ${F.css}; }${this._terminalSelector} .${x}${j}.xterm-dim { color: ${h.color.multiplyOpacity(F,.5).css}; }${this._terminalSelector} .${b}${j} { background-color: ${F.css}; }`;P+=`${this._terminalSelector} .${x}${w.INVERTED_DEFAULT_COLOR} { color: ${h.color.opaque(O.background).css}; }${this._terminalSelector} .${x}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${h.color.multiplyOpacity(h.color.opaque(O.background),.5).css}; }${this._terminalSelector} .${b}${w.INVERTED_DEFAULT_COLOR} { background-color: ${O.foreground.css}; }`,this._themeStyleElement.textContent=P}_setDefaultSpacing(){const O=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${O}px`,this._rowFactory.defaultSpacing=O}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(O,P){for(let j=this._rowElements.length;j<=P;j++){const F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>P;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(O,P){this._refreshRowElements(O,P),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(m)}handleFocus(){this._rowContainer.classList.add(m),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(O,P,j){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(O,P,j),this.renderRows(0,this._bufferService.rows-1),!O||!P)return;const F=O[1]-this._bufferService.buffer.ydisp,V=P[1]-this._bufferService.buffer.ydisp,W=Math.max(F,0),E=Math.min(V,this._bufferService.rows-1);if(W>=this._bufferService.rows||E<0)return;const T=document.createDocumentFragment();if(j){const A=O[0]>P[0];T.appendChild(this._createSelectionElement(W,A?P[0]:O[0],A?O[0]:P[0],E-W+1))}else{const A=F===W?O[0]:0,N=W===V?P[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(W,A,N));const U=E-W-1;if(T.appendChild(this._createSelectionElement(W+1,0,this._bufferService.cols,U)),W!==E){const I=V===E?P[0]:this._bufferService.cols;T.appendChild(this._createSelectionElement(E,0,I))}}this._selectionContainer.appendChild(T)}_createSelectionElement(O,P,j,F=1){const V=document.createElement("div");return V.style.height=F*this.dimensions.css.cell.height+"px",V.style.top=O*this.dimensions.css.cell.height+"px",V.style.left=P*this.dimensions.css.cell.width+"px",V.style.width=this.dimensions.css.cell.width*(j-P)+"px",V}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const O of this._rowElements)O.replaceChildren()}renderRows(O,P){const j=this._bufferService.buffer,F=j.ybase+j.y,V=Math.min(j.x,this._bufferService.cols-1),W=this._optionsService.rawOptions.cursorBlink,E=this._optionsService.rawOptions.cursorStyle,T=this._optionsService.rawOptions.cursorInactiveStyle;for(let A=O;A<=P;A++){const N=A+j.ydisp,U=this._rowElements[A],I=j.lines.get(N);if(!U||!I)break;U.replaceChildren(...this._rowFactory.createRow(I,N,N===F,E,T,V,W,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${g}${this._terminalClass}`}_handleLinkHover(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!0)}_handleLinkLeave(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!1)}_setCellUnderline(O,P,j,F,V,W){j<0&&(O=0),F<0&&(P=0);const E=this._bufferService.rows-1;j=Math.max(Math.min(j,E),0),F=Math.max(Math.min(F,E),0),V=Math.min(V,this._bufferService.cols);const T=this._bufferService.buffer,A=T.ybase+T.y,N=Math.min(T.x,V-1),U=this._optionsService.rawOptions.cursorBlink,I=this._optionsService.rawOptions.cursorStyle,$=this._optionsService.rawOptions.cursorInactiveStyle;for(let K=j;K<=F;++K){const ee=K+T.ydisp,L=this._rowElements[K],B=T.lines.get(ee);if(!L||!B)break;L.replaceChildren(...this._rowFactory.createRow(B,ee,ee===A,I,$,N,U,this.dimensions.css.cell.width,this._widthCache,W?K===j?O:0:-1,W?(K===F?P:V)-1:-1))}}};s.DomRenderer=M=d([_(4,c.IInstantiationService),_(5,S.ICharSizeService),_(6,c.IOptionsService),_(7,c.IBufferService),_(8,S.ICoreBrowserService),_(9,S.IThemeService)],M)},3787:function(p,s,a){var d=this&&this.__decorate||function(x,b,m,k){var R,M=arguments.length,O=M<3?b:k===null?k=Object.getOwnPropertyDescriptor(b,m):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(x,b,m,k);else for(var P=x.length-1;P>=0;P--)(R=x[P])&&(O=(M<3?R(O):M>3?R(b,m,O):R(b,m))||O);return M>3&&O&&Object.defineProperty(b,m,O),O},_=this&&this.__param||function(x,b){return function(m,k){b(m,k,x)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const f=a(2223),v=a(643),w=a(511),C=a(2585),S=a(8055),h=a(4725),u=a(4269),l=a(6171),c=a(3734);let g=s.DomRendererRowFactory=class{constructor(x,b,m,k,R,M,O){this._document=x,this._characterJoinerService=b,this._optionsService=m,this._coreBrowserService=k,this._coreService=R,this._decorationService=M,this._themeService=O,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(x,b,m){this._selectionStart=x,this._selectionEnd=b,this._columnSelectMode=m}createRow(x,b,m,k,R,M,O,P,j,F,V){const W=[],E=this._characterJoinerService.getJoinedCharacters(b),T=this._themeService.colors;let A,N=x.getNoBgTrimmedLength();m&&N<M+1&&(N=M+1);let U=0,I="",$=0,K=0,ee=0,L=!1,B=0,z=!1,H=0;const ne=[],G=F!==-1&&V!==-1;for(let me=0;me<N;me++){x.loadCell(me,this._workCell);let Pe=this._workCell.getWidth();if(Pe===0)continue;let $e=!1,sr=me,le=this._workCell;if(E.length>0&&me===E[0][0]){$e=!0;const te=E.shift();le=new u.JoinedCellData(this._workCell,x.translateToString(!0,te[0],te[1]),te[1]-te[0]),sr=te[1]-1,Pe=le.getWidth()}const or=this._isCellInSelection(me,b),Mt=m&&me===M,$i=G&&me>=F&&me<=V;let Ir=!1;this._decorationService.forEachDecorationAtCell(me,b,void 0,te=>{Ir=!0});let ce=le.getChars()||v.WHITESPACE_CELL_CHAR;if(ce===" "&&(le.isUnderline()||le.isOverline())&&(ce=""),H=Pe*P-j.get(ce,le.isBold(),le.isItalic()),A){if(U&&(or&&z||!or&&!z&&le.bg===$)&&(or&&z&&T.selectionForeground||le.fg===K)&&le.extended.ext===ee&&$i===L&&H===B&&!Mt&&!$e&&!Ir){I+=ce,U++;continue}U&&(A.textContent=I),A=this._document.createElement("span"),U=0,I=""}else A=this._document.createElement("span");if($=le.bg,K=le.fg,ee=le.extended.ext,L=$i,B=H,z=or,$e&&M>=me&&M<=sr&&(M=me),!this._coreService.isCursorHidden&&Mt){if(ne.push("xterm-cursor"),this._coreBrowserService.isFocused)O&&ne.push("xterm-cursor-blink"),ne.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(R)switch(R){case"outline":ne.push("xterm-cursor-outline");break;case"block":ne.push("xterm-cursor-block");break;case"bar":ne.push("xterm-cursor-bar");break;case"underline":ne.push("xterm-cursor-underline")}}if(le.isBold()&&ne.push("xterm-bold"),le.isItalic()&&ne.push("xterm-italic"),le.isDim()&&ne.push("xterm-dim"),I=le.isInvisible()?v.WHITESPACE_CELL_CHAR:le.getChars()||v.WHITESPACE_CELL_CHAR,le.isUnderline()&&(ne.push(`xterm-underline-${le.extended.underlineStyle}`),I===" "&&(I=""),!le.isUnderlineColorDefault()))if(le.isUnderlineColorRGB())A.style.textDecorationColor=`rgb(${c.AttributeData.toColorRGB(le.getUnderlineColor()).join(",")})`;else{let te=le.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&le.isBold()&&te<8&&(te+=8),A.style.textDecorationColor=T.ansi[te].css}le.isOverline()&&(ne.push("xterm-overline"),I===" "&&(I="")),le.isStrikethrough()&&ne.push("xterm-strikethrough"),$i&&(A.style.textDecoration="underline");let Ge=le.getFgColor(),Ae=le.getFgColorMode(),ye=le.getBgColor(),Pt=le.getBgColorMode();const Nt=!!le.isInverse();if(Nt){const te=Ge;Ge=ye,ye=te;const Se=Ae;Ae=Pt,Pt=Se}let _t,Br,Q,ie=!1;switch(this._decorationService.forEachDecorationAtCell(me,b,void 0,te=>{te.options.layer!=="top"&&ie||(te.backgroundColorRGB&&(Pt=50331648,ye=te.backgroundColorRGB.rgba>>8&16777215,_t=te.backgroundColorRGB),te.foregroundColorRGB&&(Ae=50331648,Ge=te.foregroundColorRGB.rgba>>8&16777215,Br=te.foregroundColorRGB),ie=te.options.layer==="top")}),!ie&&or&&(_t=this._coreBrowserService.isFocused?T.selectionBackgroundOpaque:T.selectionInactiveBackgroundOpaque,ye=_t.rgba>>8&16777215,Pt=50331648,ie=!0,T.selectionForeground&&(Ae=50331648,Ge=T.selectionForeground.rgba>>8&16777215,Br=T.selectionForeground)),ie&&ne.push("xterm-decoration-top"),Pt){case 16777216:case 33554432:Q=T.ansi[ye],ne.push(`xterm-bg-${ye}`);break;case 50331648:Q=S.rgba.toColor(ye>>16,ye>>8&255,255&ye),this._addStyle(A,`background-color:#${y((ye>>>0).toString(16),"0",6)}`);break;default:Nt?(Q=T.foreground,ne.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):Q=T.background}switch(_t||le.isDim()&&(_t=S.color.multiplyOpacity(Q,.5)),Ae){case 16777216:case 33554432:le.isBold()&&Ge<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ge+=8),this._applyMinimumContrast(A,Q,T.ansi[Ge],le,_t,void 0)||ne.push(`xterm-fg-${Ge}`);break;case 50331648:const te=S.rgba.toColor(Ge>>16&255,Ge>>8&255,255&Ge);this._applyMinimumContrast(A,Q,te,le,_t,Br)||this._addStyle(A,`color:#${y(Ge.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(A,Q,T.foreground,le,_t,void 0)||Nt&&ne.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}ne.length&&(A.className=ne.join(" "),ne.length=0),Mt||$e||Ir?A.textContent=I:U++,H!==this.defaultSpacing&&(A.style.letterSpacing=`${H}px`),W.push(A),me=sr}return A&&U&&(A.textContent=I),W}_applyMinimumContrast(x,b,m,k,R,M){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,l.excludeFromContrastRatioDemands)(k.getCode()))return!1;const O=this._getContrastCache(k);let P;if(R||M||(P=O.getColor(b.rgba,m.rgba)),P===void 0){const j=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);P=S.color.ensureContrastRatio(R||b,M||m,j),O.setColor((R||b).rgba,(M||m).rgba,P??null)}return!!P&&(this._addStyle(x,`color:${P.css}`),!0)}_getContrastCache(x){return x.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(x,b){x.setAttribute("style",`${x.getAttribute("style")||""}${b};`)}_isCellInSelection(x,b){const m=this._selectionStart,k=this._selectionEnd;return!(!m||!k)&&(this._columnSelectMode?m[0]<=k[0]?x>=m[0]&&b>=m[1]&&x<k[0]&&b<=k[1]:x<m[0]&&b>=m[1]&&x>=k[0]&&b<=k[1]:b>m[1]&&b<k[1]||m[1]===k[1]&&b===m[1]&&x>=m[0]&&x<k[0]||m[1]<k[1]&&b===k[1]&&x<k[0]||m[1]<k[1]&&b===m[1]&&x>=m[0])}};function y(x,b,m){for(;x.length<m;)x=b+x;return x}s.DomRendererRowFactory=g=d([_(1,h.ICharacterJoinerService),_(2,C.IOptionsService),_(3,h.ICoreBrowserService),_(4,C.ICoreService),_(5,C.IDecorationService),_(6,h.IThemeService)],g)},2550:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(a){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=a.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const d=a.createElement("span"),_=a.createElement("span");_.style.fontWeight="bold";const f=a.createElement("span");f.style.fontStyle="italic";const v=a.createElement("span");v.style.fontWeight="bold",v.style.fontStyle="italic",this._measureElements=[d,_,f,v],this._container.appendChild(d),this._container.appendChild(_),this._container.appendChild(f),this._container.appendChild(v),a.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(a,d,_,f){a===this._font&&d===this._fontSize&&_===this._weight&&f===this._weightBold||(this._font=a,this._fontSize=d,this._weight=_,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${_}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${_}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(a,d,_){let f=0;if(!d&&!_&&a.length===1&&(f=a.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(a,0);let v=a;d&&(v+="B"),_&&(v+="I");let w=this._holey.get(v);if(w===void 0){let C=0;d&&(C|=1),_&&(C|=2),w=this._measure(a,C),this._holey.set(v,w)}return w}_measure(a,d){const _=this._measureElements[d];return _.textContent=a.repeat(32),_.offsetWidth/32}}},2223:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const d=a(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=d.isFirefox||d.isLegacyEdge?"bottom":"ideographic"},6171:(p,s)=>{function a(d){return 57508<=d&&d<=57558}Object.defineProperty(s,"__esModule",{value:!0}),s.createRenderDimensions=s.excludeFromContrastRatioDemands=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(d){if(!d)throw new Error("value must not be falsy");return d},s.isPowerlineGlyph=a,s.isRestrictedPowerlineGlyph=function(d){return 57520<=d&&d<=57527},s.excludeFromContrastRatioDemands=function(d){return a(d)||function(_){return 9472<=_&&_<=9631}(d)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(a){this._bufferService=a,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?a%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)-1]:[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[a,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const a=this.selectionStart[0]+this.selectionStartLength;return a>this._bufferService.cols?[a%this._bufferService.cols,this.selectionStart[1]+Math.floor(a/this._bufferService.cols)]:[Math.max(a,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const a=this.selectionStart,d=this.selectionEnd;return!(!a||!d)&&(a[1]>d[1]||a[1]===d[1]&&a[0]>d[0])}handleTrim(a){return this.selectionStart&&(this.selectionStart[1]-=a),this.selectionEnd&&(this.selectionEnd[1]-=a),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,s,a){var d=this&&this.__decorate||function(h,u,l,c){var g,y=arguments.length,x=y<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,u,l,c);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(x=(y<3?g(x):y>3?g(u,l,x):g(u,l))||x);return y>3&&x&&Object.defineProperty(u,l,x),x},_=this&&this.__param||function(h,u){return function(l,c){u(l,c,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const f=a(2585),v=a(8460),w=a(844);let C=s.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(h,u,l){super(),this._optionsService=l,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new S(h,u,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const h=this._measureStrategy.measure();h.width===this.width&&h.height===this.height||(this.width=h.width,this.height=h.height,this._onCharSizeChange.fire())}};s.CharSizeService=C=d([_(2,f.IOptionsService)],C);class S{constructor(u,l,c){this._document=u,this._parentElement=l,this._optionsService=c,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const u={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return u.width!==0&&u.height!==0&&(this._result.width=u.width/32,this._result.height=Math.ceil(u.height)),this._result}}},4269:function(p,s,a){var d=this&&this.__decorate||function(u,l,c,g){var y,x=arguments.length,b=x<3?l:g===null?g=Object.getOwnPropertyDescriptor(l,c):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(u,l,c,g);else for(var m=u.length-1;m>=0;m--)(y=u[m])&&(b=(x<3?y(b):x>3?y(l,c,b):y(l,c))||b);return x>3&&b&&Object.defineProperty(l,c,b),b},_=this&&this.__param||function(u,l){return function(c,g){l(c,g,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const f=a(3734),v=a(643),w=a(511),C=a(2585);class S extends f.AttributeData{constructor(l,c,g){super(),this.content=0,this.combinedData="",this.fg=l.fg,this.bg=l.bg,this.combinedData=c,this._width=g}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(l){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=S;let h=s.CharacterJoinerService=class Hf{constructor(l){this._bufferService=l,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(l){const c={id:this._nextCharacterJoinerId++,handler:l};return this._characterJoiners.push(c),c.id}deregister(l){for(let c=0;c<this._characterJoiners.length;c++)if(this._characterJoiners[c].id===l)return this._characterJoiners.splice(c,1),!0;return!1}getJoinedCharacters(l){if(this._characterJoiners.length===0)return[];const c=this._bufferService.buffer.lines.get(l);if(!c||c.length===0)return[];const g=[],y=c.translateToString(!0);let x=0,b=0,m=0,k=c.getFg(0),R=c.getBg(0);for(let M=0;M<c.getTrimmedLength();M++)if(c.loadCell(M,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==R){if(M-x>1){const O=this._getJoinedRanges(y,m,b,c,x);for(let P=0;P<O.length;P++)g.push(O[P])}x=M,m=b,k=this._workCell.fg,R=this._workCell.bg}b+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-x>1){const M=this._getJoinedRanges(y,m,b,c,x);for(let O=0;O<M.length;O++)g.push(M[O])}return g}_getJoinedRanges(l,c,g,y,x){const b=l.substring(c,g);let m=[];try{m=this._characterJoiners[0].handler(b)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const R=this._characterJoiners[k].handler(b);for(let M=0;M<R.length;M++)Hf._mergeRanges(m,R[M])}catch(R){console.error(R)}return this._stringRangesToCellRanges(m,y,x),m}_stringRangesToCellRanges(l,c,g){let y=0,x=!1,b=0,m=l[y];if(m){for(let k=g;k<this._bufferService.cols;k++){const R=c.getWidth(k),M=c.getString(k).length||v.WHITESPACE_CELL_CHAR.length;if(R!==0){if(!x&&m[0]<=b&&(m[0]=k,x=!0),m[1]<=b){if(m[1]=k,m=l[++y],!m)break;m[0]<=b?(m[0]=k,x=!0):x=!1}b+=M}}m&&(m[1]=this._bufferService.cols)}}static _mergeRanges(l,c){let g=!1;for(let y=0;y<l.length;y++){const x=l[y];if(g){if(c[1]<=x[0])return l[y-1][1]=c[1],l;if(c[1]<=x[1])return l[y-1][1]=Math.max(c[1],x[1]),l.splice(y,1),l;l.splice(y,1),y--}else{if(c[1]<=x[0])return l.splice(y,0,c),l;if(c[1]<=x[1])return x[0]=Math.min(c[0],x[0]),l;c[0]<x[1]&&(x[0]=Math.min(c[0],x[0]),g=!0)}}return g?l[l.length-1][1]=c[1]:l.push(c),l}};s.CharacterJoinerService=h=d([_(0,C.IBufferService)],h)},5114:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0,s.CoreBrowserService=class{constructor(a,d){this._textarea=a,this.window=d,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(p,s,a){var d=this&&this.__decorate||function(C,S,h,u){var l,c=arguments.length,g=c<3?S:u===null?u=Object.getOwnPropertyDescriptor(S,h):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(C,S,h,u);else for(var y=C.length-1;y>=0;y--)(l=C[y])&&(g=(c<3?l(g):c>3?l(S,h,g):l(S,h))||g);return c>3&&g&&Object.defineProperty(S,h,g),g},_=this&&this.__param||function(C,S){return function(h,u){S(h,u,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const f=a(4725),v=a(9806);let w=s.MouseService=class{constructor(C,S){this._renderService=C,this._charSizeService=S}getCoords(C,S,h,u,l){return(0,v.getCoords)(window,C,S,h,u,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,l)}getMouseReportCoords(C,S){const h=(0,v.getCoordsRelativeToElement)(window,C,S);if(this._charSizeService.hasValidSize)return h[0]=Math.min(Math.max(h[0],0),this._renderService.dimensions.css.canvas.width-1),h[1]=Math.min(Math.max(h[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(h[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(h[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(h[0]),y:Math.floor(h[1])}}};s.MouseService=w=d([_(0,f.IRenderService),_(1,f.ICharSizeService)],w)},3230:function(p,s,a){var d=this&&this.__decorate||function(g,y,x,b){var m,k=arguments.length,R=k<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,x):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(g,y,x,b);else for(var M=g.length-1;M>=0;M--)(m=g[M])&&(R=(k<3?m(R):k>3?m(y,x,R):m(y,x))||R);return k>3&&R&&Object.defineProperty(y,x,R),R},_=this&&this.__param||function(g,y){return function(x,b){y(x,b,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const f=a(3656),v=a(6193),w=a(5596),C=a(4725),S=a(8460),h=a(844),u=a(7226),l=a(2585);let c=s.RenderService=class extends h.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,y,x,b,m,k,R,M){if(super(),this._rowCount=g,this._charSizeService=b,this._renderer=this.register(new h.MutableDisposable),this._pausedResizeTask=new u.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new S.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new S.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new S.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new v.RenderDebouncer(R.window,(O,P)=>this._renderRows(O,P)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(R.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var O;return(O=this._renderer.value)===null||O===void 0?void 0:O.clear()})),this.register(x.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(m.onDecorationRegistered(()=>this._fullRefresh())),this.register(m.onDecorationRemoved(()=>this._fullRefresh())),this.register(x.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(x.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,f.addDisposableDomListener)(R.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(M.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in R.window){const O=new R.window.IntersectionObserver(P=>this._handleIntersectionChange(P[P.length-1]),{threshold:0});O.observe(y),this.register({dispose:()=>O.disconnect()})}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,y,x=!1){this._isPaused?this._needsFullRefresh=!0:(x||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,y,this._rowCount))}_renderRows(g,y){this._renderer.value&&(g=Math.min(g,this._rowCount-1),y=Math.min(y,this._rowCount-1),this._renderer.value.renderRows(g,y),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:y}),this._onRender.fire({start:g,end:y}),this._isNextRenderRedrawOnly=!0)}resize(g,y){this._rowCount=y,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value.onRequestRedraw(y=>this.refreshRows(y.start,y.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,y;this._renderer.value&&((y=(g=this._renderer.value).clearTextureAtlas)===null||y===void 0||y.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,y){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(g,y)):this._renderer.value.handleResize(g,y),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)===null||g===void 0||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)===null||g===void 0||g.handleFocus()}handleSelectionChanged(g,y,x){var b;this._selectionState.start=g,this._selectionState.end=y,this._selectionState.columnSelectMode=x,(b=this._renderer.value)===null||b===void 0||b.handleSelectionChanged(g,y,x)}handleCursorMove(){var g;(g=this._renderer.value)===null||g===void 0||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)===null||g===void 0||g.clear()}};s.RenderService=c=d([_(2,l.IOptionsService),_(3,C.ICharSizeService),_(4,l.IDecorationService),_(5,l.IBufferService),_(6,C.ICoreBrowserService),_(7,C.IThemeService)],c)},9312:function(p,s,a){var d=this&&this.__decorate||function(m,k,R,M){var O,P=arguments.length,j=P<3?k:M===null?M=Object.getOwnPropertyDescriptor(k,R):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(m,k,R,M);else for(var F=m.length-1;F>=0;F--)(O=m[F])&&(j=(P<3?O(j):P>3?O(k,R,j):O(k,R))||j);return P>3&&j&&Object.defineProperty(k,R,j),j},_=this&&this.__param||function(m,k){return function(R,M){k(R,M,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const f=a(9806),v=a(9504),w=a(456),C=a(4725),S=a(8460),h=a(844),u=a(6114),l=a(4841),c=a(511),g=a(2585),y="",x=new RegExp(y,"g");let b=s.SelectionService=class extends h.Disposable{constructor(m,k,R,M,O,P,j,F,V){super(),this._element=m,this._screenElement=k,this._linkifier=R,this._bufferService=M,this._coreService=O,this._mouseService=P,this._optionsService=j,this._renderService=F,this._coreBrowserService=V,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new c.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new S.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new S.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new S.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=W=>this._handleMouseMove(W),this._mouseUpListener=W=>this._handleMouseUp(W),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(W=>this._handleTrim(W)),this.register(this._bufferService.buffers.onBufferActivate(W=>this._handleBufferActivate(W))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,h.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const m=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!m||!k||m[0]===k[0]&&m[1]===k[1])}get selectionText(){const m=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!m||!k)return"";const R=this._bufferService.buffer,M=[];if(this._activeSelectionMode===3){if(m[0]===k[0])return"";const O=m[0]<k[0]?m[0]:k[0],P=m[0]<k[0]?k[0]:m[0];for(let j=m[1];j<=k[1];j++){const F=R.translateBufferLineToString(j,!0,O,P);M.push(F)}}else{const O=m[1]===k[1]?k[0]:void 0;M.push(R.translateBufferLineToString(m[1],!0,m[0],O));for(let P=m[1]+1;P<=k[1]-1;P++){const j=R.lines.get(P),F=R.translateBufferLineToString(P,!0);j!=null&&j.isWrapped?M[M.length-1]+=F:M.push(F)}if(m[1]!==k[1]){const P=R.lines.get(k[1]),j=R.translateBufferLineToString(k[1],!0,0,k[0]);P&&P.isWrapped?M[M.length-1]+=j:M.push(j)}}return M.map(O=>O.replace(x," ")).join(u.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(m){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),u.isLinux&&m&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(m){const k=this._getMouseBufferCoords(m),R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!!(R&&M&&k)&&this._areCoordsInSelection(k,R,M)}isCellInSelection(m,k){const R=this._model.finalSelectionStart,M=this._model.finalSelectionEnd;return!(!R||!M)&&this._areCoordsInSelection([m,k],R,M)}_areCoordsInSelection(m,k,R){return m[1]>k[1]&&m[1]<R[1]||k[1]===R[1]&&m[1]===k[1]&&m[0]>=k[0]&&m[0]<R[0]||k[1]<R[1]&&m[1]===R[1]&&m[0]<R[0]||k[1]<R[1]&&m[1]===k[1]&&m[0]>=k[0]}_selectWordAtCursor(m,k){var R,M;const O=(M=(R=this._linkifier.currentLink)===null||R===void 0?void 0:R.link)===null||M===void 0?void 0:M.range;if(O)return this._model.selectionStart=[O.start.x-1,O.start.y-1],this._model.selectionStartLength=(0,l.getRangeLength)(O,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const P=this._getMouseBufferCoords(m);return!!P&&(this._selectWordAt(P,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(m,k){this._model.clearSelection(),m=Math.max(m,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,m],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(m){this._model.handleTrim(m)&&this.refresh()}_getMouseBufferCoords(m){const k=this._mouseService.getCoords(m,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(m){let k=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,m,this._screenElement)[1];const R=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=R?0:(k>R&&(k-=R),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(m){return u.isMac?m.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:m.shiftKey}handleMouseDown(m){if(this._mouseDownTimeStamp=m.timeStamp,(m.button!==2||!this.hasSelection)&&m.button===0){if(!this._enabled){if(!this.shouldForceSelection(m))return;m.stopPropagation()}m.preventDefault(),this._dragScrollAmount=0,this._enabled&&m.shiftKey?this._handleIncrementalClick(m):m.detail===1?this._handleSingleClick(m):m.detail===2?this._handleDoubleClick(m):m.detail===3&&this._handleTripleClick(m),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(m){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(m))}_handleSingleClick(m){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(m)?3:0,this._model.selectionStart=this._getMouseBufferCoords(m),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(m){this._selectWordAtCursor(m,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(m){const k=this._getMouseBufferCoords(m);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(m){return m.altKey&&!(u.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(m){if(m.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(m),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(m),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const R=this._bufferService.buffer;if(this._model.selectionEnd[1]<R.lines.length){const M=R.lines.get(this._model.selectionEnd[1]);M&&M.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const m=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(m.ydisp+this._bufferService.rows,m.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=m.ydisp),this.refresh()}}_handleMouseUp(m){const k=m.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&m.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const R=this._mouseService.getCoords(m,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(R&&R[0]!==void 0&&R[1]!==void 0){const M=(0,v.moveToCellSequence)(R[0]-1,R[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(M,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const m=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,R=!(!m||!k||m[0]===k[0]&&m[1]===k[1]);R?m&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&m[0]===this._oldSelectionStart[0]&&m[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(m,k,R)):this._oldHasSelection&&this._fireOnSelectionChange(m,k,R)}_fireOnSelectionChange(m,k,R){this._oldSelectionStart=m,this._oldSelectionEnd=k,this._oldHasSelection=R,this._onSelectionChange.fire()}_handleBufferActivate(m){this.clearSelection(),this._trimListener.dispose(),this._trimListener=m.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(m,k){let R=k;for(let M=0;k>=M;M++){const O=m.loadCell(M,this._workCell).getChars().length;this._workCell.getWidth()===0?R--:O>1&&k!==M&&(R+=O-1)}return R}setSelection(m,k,R){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[m,k],this._model.selectionStartLength=R,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(m){this._isClickInSelection(m)||(this._selectWordAtCursor(m,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(m,k,R=!0,M=!0){if(m[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,P=O.lines.get(m[1]);if(!P)return;const j=O.translateBufferLineToString(m[1],!1);let F=this._convertViewportColToCharacterIndex(P,m[0]),V=F;const W=m[0]-F;let E=0,T=0,A=0,N=0;if(j.charAt(F)===" "){for(;F>0&&j.charAt(F-1)===" ";)F--;for(;V<j.length&&j.charAt(V+1)===" ";)V++}else{let $=m[0],K=m[0];P.getWidth($)===0&&(E++,$--),P.getWidth(K)===2&&(T++,K++);const ee=P.getString(K).length;for(ee>1&&(N+=ee-1,V+=ee-1);$>0&&F>0&&!this._isCharWordSeparator(P.loadCell($-1,this._workCell));){P.loadCell($-1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===0?(E++,$--):L>1&&(A+=L-1,F-=L-1),F--,$--}for(;K<P.length&&V+1<j.length&&!this._isCharWordSeparator(P.loadCell(K+1,this._workCell));){P.loadCell(K+1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===2?(T++,K++):L>1&&(N+=L-1,V+=L-1),V++,K++}}V++;let U=F+W-E+A,I=Math.min(this._bufferService.cols,V-F+E+T-A-N);if(k||j.slice(F,V).trim()!==""){if(R&&U===0&&P.getCodePoint(0)!==32){const $=O.lines.get(m[1]-1);if($&&P.isWrapped&&$.getCodePoint(this._bufferService.cols-1)!==32){const K=this._getWordAt([this._bufferService.cols-1,m[1]-1],!1,!0,!1);if(K){const ee=this._bufferService.cols-K.start;U-=ee,I+=ee}}}if(M&&U+I===this._bufferService.cols&&P.getCodePoint(this._bufferService.cols-1)!==32){const $=O.lines.get(m[1]+1);if($!=null&&$.isWrapped&&$.getCodePoint(0)!==32){const K=this._getWordAt([0,m[1]+1],!1,!1,!0);K&&(I+=K.length)}}return{start:U,length:I}}}_selectWordAt(m,k){const R=this._getWordAt(m,k);if(R){for(;R.start<0;)R.start+=this._bufferService.cols,m[1]--;this._model.selectionStart=[R.start,m[1]],this._model.selectionStartLength=R.length}}_selectToWordAt(m){const k=this._getWordAt(m,!0);if(k){let R=m[1];for(;k.start<0;)k.start+=this._bufferService.cols,R--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,R++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,R]}}_isCharWordSeparator(m){return m.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(m.getChars())>=0}_selectLineAt(m){const k=this._bufferService.buffer.getWrappedRangeForLine(m),R={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,l.getRangeLength)(R,this._bufferService.cols)}};s.SelectionService=b=d([_(3,g.IBufferService),_(4,g.ICoreService),_(5,C.IMouseService),_(6,g.IOptionsService),_(7,C.IRenderService),_(8,C.ICoreBrowserService)],b)},4725:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const d=a(8343);s.ICharSizeService=(0,d.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,d.createDecorator)("CoreBrowserService"),s.IMouseService=(0,d.createDecorator)("MouseService"),s.IRenderService=(0,d.createDecorator)("RenderService"),s.ISelectionService=(0,d.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,d.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,d.createDecorator)("ThemeService")},6731:function(p,s,a){var d=this&&this.__decorate||function(b,m,k,R){var M,O=arguments.length,P=O<3?m:R===null?R=Object.getOwnPropertyDescriptor(m,k):R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(b,m,k,R);else for(var j=b.length-1;j>=0;j--)(M=b[j])&&(P=(O<3?M(P):O>3?M(m,k,P):M(m,k))||P);return O>3&&P&&Object.defineProperty(m,k,P),P},_=this&&this.__param||function(b,m){return function(k,R){m(k,R,b)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const f=a(7239),v=a(8055),w=a(8460),C=a(844),S=a(2585),h=v.css.toColor("#ffffff"),u=v.css.toColor("#000000"),l=v.css.toColor("#ffffff"),c=v.css.toColor("#000000"),g={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const b=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],m=[0,95,135,175,215,255];for(let k=0;k<216;k++){const R=m[k/36%6|0],M=m[k/6%6|0],O=m[k%6];b.push({css:v.channels.toCss(R,M,O),rgba:v.channels.toRgba(R,M,O)})}for(let k=0;k<24;k++){const R=8+10*k;b.push({css:v.channels.toCss(R,R,R),rgba:v.channels.toRgba(R,R,R)})}return b})());let y=s.ThemeService=class extends C.Disposable{get colors(){return this._colors}constructor(b){super(),this._optionsService=b,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:h,background:u,cursor:l,cursorAccent:c,selectionForeground:void 0,selectionBackgroundTransparent:g,selectionBackgroundOpaque:v.color.blend(u,g),selectionInactiveBackgroundTransparent:g,selectionInactiveBackgroundOpaque:v.color.blend(u,g),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(b={}){const m=this._colors;if(m.foreground=x(b.foreground,h),m.background=x(b.background,u),m.cursor=x(b.cursor,l),m.cursorAccent=x(b.cursorAccent,c),m.selectionBackgroundTransparent=x(b.selectionBackground,g),m.selectionBackgroundOpaque=v.color.blend(m.background,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundTransparent=x(b.selectionInactiveBackground,m.selectionBackgroundTransparent),m.selectionInactiveBackgroundOpaque=v.color.blend(m.background,m.selectionInactiveBackgroundTransparent),m.selectionForeground=b.selectionForeground?x(b.selectionForeground,v.NULL_COLOR):void 0,m.selectionForeground===v.NULL_COLOR&&(m.selectionForeground=void 0),v.color.isOpaque(m.selectionBackgroundTransparent)&&(m.selectionBackgroundTransparent=v.color.opacity(m.selectionBackgroundTransparent,.3)),v.color.isOpaque(m.selectionInactiveBackgroundTransparent)&&(m.selectionInactiveBackgroundTransparent=v.color.opacity(m.selectionInactiveBackgroundTransparent,.3)),m.ansi=s.DEFAULT_ANSI_COLORS.slice(),m.ansi[0]=x(b.black,s.DEFAULT_ANSI_COLORS[0]),m.ansi[1]=x(b.red,s.DEFAULT_ANSI_COLORS[1]),m.ansi[2]=x(b.green,s.DEFAULT_ANSI_COLORS[2]),m.ansi[3]=x(b.yellow,s.DEFAULT_ANSI_COLORS[3]),m.ansi[4]=x(b.blue,s.DEFAULT_ANSI_COLORS[4]),m.ansi[5]=x(b.magenta,s.DEFAULT_ANSI_COLORS[5]),m.ansi[6]=x(b.cyan,s.DEFAULT_ANSI_COLORS[6]),m.ansi[7]=x(b.white,s.DEFAULT_ANSI_COLORS[7]),m.ansi[8]=x(b.brightBlack,s.DEFAULT_ANSI_COLORS[8]),m.ansi[9]=x(b.brightRed,s.DEFAULT_ANSI_COLORS[9]),m.ansi[10]=x(b.brightGreen,s.DEFAULT_ANSI_COLORS[10]),m.ansi[11]=x(b.brightYellow,s.DEFAULT_ANSI_COLORS[11]),m.ansi[12]=x(b.brightBlue,s.DEFAULT_ANSI_COLORS[12]),m.ansi[13]=x(b.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),m.ansi[14]=x(b.brightCyan,s.DEFAULT_ANSI_COLORS[14]),m.ansi[15]=x(b.brightWhite,s.DEFAULT_ANSI_COLORS[15]),b.extendedAnsi){const k=Math.min(m.ansi.length-16,b.extendedAnsi.length);for(let R=0;R<k;R++)m.ansi[R+16]=x(b.extendedAnsi[R],s.DEFAULT_ANSI_COLORS[R+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(b){this._restoreColor(b),this._onChangeColors.fire(this.colors)}_restoreColor(b){if(b!==void 0)switch(b){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[b]=this._restoreColors.ansi[b]}else for(let m=0;m<this._restoreColors.ansi.length;++m)this._colors.ansi[m]=this._restoreColors.ansi[m]}modifyColors(b){b(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function x(b,m){if(b!==void 0)try{return v.css.toColor(b)}catch{}return m}s.ThemeService=y=d([_(0,S.IOptionsService)],y)},6349:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const d=a(8460),_=a(844);class f extends _.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new d.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new d.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new d.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const C=new Array(w);for(let S=0;S<Math.min(w,this.length);S++)C[S]=this._array[this._getCyclicIndex(S)];this._array=C,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let C=this._length;C<w;C++)this._array[C]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,C){this._array[this._getCyclicIndex(w)]=C}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,C,...S){if(C){for(let h=w;h<this._length-C;h++)this._array[this._getCyclicIndex(h)]=this._array[this._getCyclicIndex(h+C)];this._length-=C,this.onDeleteEmitter.fire({index:w,amount:C})}for(let h=this._length-1;h>=w;h--)this._array[this._getCyclicIndex(h+S.length)]=this._array[this._getCyclicIndex(h)];for(let h=0;h<S.length;h++)this._array[this._getCyclicIndex(w+h)]=S[h];if(S.length&&this.onInsertEmitter.fire({index:w,amount:S.length}),this._length+S.length>this._maxLength){const h=this._length+S.length-this._maxLength;this._startIndex+=h,this._length=this._maxLength,this.onTrimEmitter.fire(h)}else this._length+=S.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,C,S){if(!(C<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+S<0)throw new Error("Cannot shift elements in list beyond index 0");if(S>0){for(let u=C-1;u>=0;u--)this.set(w+u+S,this.get(w+u));const h=w+C+S-this._length;if(h>0)for(this._length+=h;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let h=0;h<C;h++)this.set(w+h+S,this.get(w+h))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}s.CircularList=f},1439:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function a(d,_=5){if(typeof d!="object")return d;const f=Array.isArray(d)?[]:{};for(const v in d)f[v]=_<=1?d[v]:d[v]&&a(d[v],_-1);return f}},8055:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const d=a(6114);let _=0,f=0,v=0,w=0;var C,S,h,u,l;function c(y){const x=y.toString(16);return x.length<2?"0"+x:x}function g(y,x){return y<x?(x+.05)/(y+.05):(y+.05)/(x+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(y){y.toCss=function(x,b,m,k){return k!==void 0?`#${c(x)}${c(b)}${c(m)}${c(k)}`:`#${c(x)}${c(b)}${c(m)}`},y.toRgba=function(x,b,m,k=255){return(x<<24|b<<16|m<<8|k)>>>0}}(C||(s.channels=C={})),function(y){function x(b,m){return w=Math.round(255*m),[_,f,v]=l.toChannels(b.rgba),{css:C.toCss(_,f,v,w),rgba:C.toRgba(_,f,v,w)}}y.blend=function(b,m){if(w=(255&m.rgba)/255,w===1)return{css:m.css,rgba:m.rgba};const k=m.rgba>>24&255,R=m.rgba>>16&255,M=m.rgba>>8&255,O=b.rgba>>24&255,P=b.rgba>>16&255,j=b.rgba>>8&255;return _=O+Math.round((k-O)*w),f=P+Math.round((R-P)*w),v=j+Math.round((M-j)*w),{css:C.toCss(_,f,v),rgba:C.toRgba(_,f,v)}},y.isOpaque=function(b){return(255&b.rgba)==255},y.ensureContrastRatio=function(b,m,k){const R=l.ensureContrastRatio(b.rgba,m.rgba,k);if(R)return l.toColor(R>>24&255,R>>16&255,R>>8&255)},y.opaque=function(b){const m=(255|b.rgba)>>>0;return[_,f,v]=l.toChannels(m),{css:C.toCss(_,f,v),rgba:m}},y.opacity=x,y.multiplyOpacity=function(b,m){return w=255&b.rgba,x(b,w*m/255)},y.toColorRGB=function(b){return[b.rgba>>24&255,b.rgba>>16&255,b.rgba>>8&255]}}(S||(s.color=S={})),function(y){let x,b;if(!d.isNode){const m=document.createElement("canvas");m.width=1,m.height=1;const k=m.getContext("2d",{willReadFrequently:!0});k&&(x=k,x.globalCompositeOperation="copy",b=x.createLinearGradient(0,0,1,1))}y.toColor=function(m){if(m.match(/#[\da-f]{3,8}/i))switch(m.length){case 4:return _=parseInt(m.slice(1,2).repeat(2),16),f=parseInt(m.slice(2,3).repeat(2),16),v=parseInt(m.slice(3,4).repeat(2),16),l.toColor(_,f,v);case 5:return _=parseInt(m.slice(1,2).repeat(2),16),f=parseInt(m.slice(2,3).repeat(2),16),v=parseInt(m.slice(3,4).repeat(2),16),w=parseInt(m.slice(4,5).repeat(2),16),l.toColor(_,f,v,w);case 7:return{css:m,rgba:(parseInt(m.slice(1),16)<<8|255)>>>0};case 9:return{css:m,rgba:parseInt(m.slice(1),16)>>>0}}const k=m.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return _=parseInt(k[1]),f=parseInt(k[2]),v=parseInt(k[3]),w=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),l.toColor(_,f,v,w);if(!x||!b)throw new Error("css.toColor: Unsupported css format");if(x.fillStyle=b,x.fillStyle=m,typeof x.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(x.fillRect(0,0,1,1),[_,f,v,w]=x.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:C.toRgba(_,f,v,w),css:m}}}(h||(s.css=h={})),function(y){function x(b,m,k){const R=b/255,M=m/255,O=k/255;return .2126*(R<=.03928?R/12.92:Math.pow((R+.055)/1.055,2.4))+.7152*(M<=.03928?M/12.92:Math.pow((M+.055)/1.055,2.4))+.0722*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))}y.relativeLuminance=function(b){return x(b>>16&255,b>>8&255,255&b)},y.relativeLuminance2=x}(u||(s.rgb=u={})),function(y){function x(m,k,R){const M=m>>24&255,O=m>>16&255,P=m>>8&255;let j=k>>24&255,F=k>>16&255,V=k>>8&255,W=g(u.relativeLuminance2(j,F,V),u.relativeLuminance2(M,O,P));for(;W<R&&(j>0||F>0||V>0);)j-=Math.max(0,Math.ceil(.1*j)),F-=Math.max(0,Math.ceil(.1*F)),V-=Math.max(0,Math.ceil(.1*V)),W=g(u.relativeLuminance2(j,F,V),u.relativeLuminance2(M,O,P));return(j<<24|F<<16|V<<8|255)>>>0}function b(m,k,R){const M=m>>24&255,O=m>>16&255,P=m>>8&255;let j=k>>24&255,F=k>>16&255,V=k>>8&255,W=g(u.relativeLuminance2(j,F,V),u.relativeLuminance2(M,O,P));for(;W<R&&(j<255||F<255||V<255);)j=Math.min(255,j+Math.ceil(.1*(255-j))),F=Math.min(255,F+Math.ceil(.1*(255-F))),V=Math.min(255,V+Math.ceil(.1*(255-V))),W=g(u.relativeLuminance2(j,F,V),u.relativeLuminance2(M,O,P));return(j<<24|F<<16|V<<8|255)>>>0}y.ensureContrastRatio=function(m,k,R){const M=u.relativeLuminance(m>>8),O=u.relativeLuminance(k>>8);if(g(M,O)<R){if(O<M){const F=x(m,k,R),V=g(M,u.relativeLuminance(F>>8));if(V<R){const W=b(m,k,R);return V>g(M,u.relativeLuminance(W>>8))?F:W}return F}const P=b(m,k,R),j=g(M,u.relativeLuminance(P>>8));if(j<R){const F=x(m,k,R);return j>g(M,u.relativeLuminance(F>>8))?P:F}return P}},y.reduceLuminance=x,y.increaseLuminance=b,y.toChannels=function(m){return[m>>24&255,m>>16&255,m>>8&255,255&m]},y.toColor=function(m,k,R,M){return{css:C.toCss(m,k,R,M),rgba:C.toRgba(m,k,R,M)}}}(l||(s.rgba=l={})),s.toPaddedHex=c,s.contrastRatio=g},8969:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const d=a(844),_=a(2585),f=a(4348),v=a(7866),w=a(744),C=a(7302),S=a(6975),h=a(8460),u=a(1753),l=a(1480),c=a(7994),g=a(9282),y=a(5435),x=a(5981),b=a(2660);let m=!1;class k extends d.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new h.EventEmitter),this._onScroll.event(M=>{var O;(O=this._onScrollApi)===null||O===void 0||O.fire(M.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(M){for(const O in M)this.optionsService.options[O]=M[O]}constructor(M){super(),this._windowsWrappingHeuristics=this.register(new d.MutableDisposable),this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new h.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new h.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new h.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new C.OptionsService(M)),this._instantiationService.setService(_.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(_.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(_.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(S.CoreService)),this._instantiationService.setService(_.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(_.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(l.UnicodeService)),this._instantiationService.setService(_.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(c.CharsetService),this._instantiationService.setService(_.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(b.OscLinkService),this._instantiationService.setService(_.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new y.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,h.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,h.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,h.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,h.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new x.WriteBuffer((O,P)=>this._inputHandler.parse(O,P))),this.register((0,h.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(M,O){this._writeBuffer.write(M,O)}writeSync(M,O){this._logService.logLevel<=_.LogLevelEnum.WARN&&!m&&(this._logService.warn("writeSync is unreliable and will be removed soon."),m=!0),this._writeBuffer.writeSync(M,O)}resize(M,O){isNaN(M)||isNaN(O)||(M=Math.max(M,w.MINIMUM_COLS),O=Math.max(O,w.MINIMUM_ROWS),this._bufferService.resize(M,O))}scroll(M,O=!1){this._bufferService.scroll(M,O)}scrollLines(M,O,P){this._bufferService.scrollLines(M,O,P)}scrollPages(M){this.scrollLines(M*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(M){const O=M-this._bufferService.buffer.ydisp;O!==0&&this.scrollLines(O)}registerEscHandler(M,O){return this._inputHandler.registerEscHandler(M,O)}registerDcsHandler(M,O){return this._inputHandler.registerDcsHandler(M,O)}registerCsiHandler(M,O){return this._inputHandler.registerCsiHandler(M,O)}registerOscHandler(M,O){return this._inputHandler.registerOscHandler(M,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let M=!1;const O=this.optionsService.rawOptions.windowsPty;O&&O.buildNumber!==void 0&&O.buildNumber!==void 0?M=O.backend==="conpty"&&O.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(M=!0),M?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const M=[];M.push(this.onLineFeed(g.updateWindowsModeWrappedState.bind(null,this._bufferService))),M.push(this.registerCsiHandler({final:"H"},()=>((0,g.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,d.toDisposable)(()=>{for(const O of M)O.dispose()})}}}s.CoreTerminal=k},8460:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let d=0;d<this._listeners.length;d++)if(this._listeners[d]===a)return void this._listeners.splice(d,1)}}})),this._event}fire(a,d){const _=[];for(let f=0;f<this._listeners.length;f++)_.push(this._listeners[f]);for(let f=0;f<_.length;f++)_[f].call(void 0,a,d)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(a,d){return a(_=>d.fire(_))}},5435:function(p,s,a){var d=this&&this.__decorate||function(W,E,T,A){var N,U=arguments.length,I=U<3?E:A===null?A=Object.getOwnPropertyDescriptor(E,T):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(W,E,T,A);else for(var $=W.length-1;$>=0;$--)(N=W[$])&&(I=(U<3?N(I):U>3?N(E,T,I):N(E,T))||I);return U>3&&I&&Object.defineProperty(E,T,I),I},_=this&&this.__param||function(W,E){return function(T,A){E(T,A,W)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const f=a(2584),v=a(7116),w=a(2015),C=a(844),S=a(482),h=a(8437),u=a(8460),l=a(643),c=a(511),g=a(3734),y=a(2585),x=a(6242),b=a(6351),m=a(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},R=131072;function M(W,E){if(W>24)return E.setWinLines||!1;switch(W){case 1:return!!E.restoreWin;case 2:return!!E.minimizeWin;case 3:return!!E.setWinPosition;case 4:return!!E.setWinSizePixels;case 5:return!!E.raiseWin;case 6:return!!E.lowerWin;case 7:return!!E.refreshWin;case 8:return!!E.setWinSizeChars;case 9:return!!E.maximizeWin;case 10:return!!E.fullscreenWin;case 11:return!!E.getWinState;case 13:return!!E.getWinPosition;case 14:return!!E.getWinSizePixels;case 15:return!!E.getScreenSizePixels;case 16:return!!E.getCellSizePixels;case 18:return!!E.getWinSizeChars;case 19:return!!E.getScreenSizeChars;case 20:return!!E.getIconTitle;case 21:return!!E.getWinTitle;case 22:return!!E.pushTitle;case 23:return!!E.popTitle;case 24:return!!E.setWinLines}return!1}var O;(function(W){W[W.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",W[W.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(O||(s.WindowsOptionsReportType=O={}));let P=0;class j extends C.Disposable{getAttrData(){return this._curAttrData}constructor(E,T,A,N,U,I,$,K,ee=new w.EscapeSequenceParser){super(),this._bufferService=E,this._charsetService=T,this._coreService=A,this._logService=N,this._optionsService=U,this._oscLinkService=I,this._coreMouseService=$,this._unicodeService=K,this._parser=ee,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new S.StringToUtf32,this._utf8Decoder=new S.Utf8ToUtf32,this._workCell=new c.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,B)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:B.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,B,z)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:B,data:z})}),this._parser.setDcsHandlerFallback((L,B,z)=>{B==="HOOK"&&(z=z.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:B,payload:z})}),this._parser.setPrintHandler((L,B,z)=>this.print(L,B,z)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new x.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new x.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new x.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new x.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new x.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new x.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new x.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new x.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new x.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new x.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new x.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new x.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new b.DcsHandler((L,B)=>this.requestStatusString(L,B)))}_preserveStack(E,T,A,N){this._parseStack.paused=!0,this._parseStack.cursorStartX=E,this._parseStack.cursorStartY=T,this._parseStack.decodedLength=A,this._parseStack.position=N}_logSlowResolvingAsync(E){this._logService.logLevel<=y.LogLevelEnum.WARN&&Promise.race([E,new Promise((T,A)=>setTimeout(()=>A("#SLOW_TIMEOUT"),5e3))]).catch(T=>{if(T!=="#SLOW_TIMEOUT")throw T;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(E,T){let A,N=this._activeBuffer.x,U=this._activeBuffer.y,I=0;const $=this._parseStack.paused;if($){if(A=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,T))return this._logSlowResolvingAsync(A),A;N=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,E.length>R&&(I=this._parseStack.position+R)}if(this._logService.logLevel<=y.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof E=="string"?` "${E}"`:` "${Array.prototype.map.call(E,K=>String.fromCharCode(K)).join("")}"`),typeof E=="string"?E.split("").map(K=>K.charCodeAt(0)):E),this._parseBuffer.length<E.length&&this._parseBuffer.length<R&&(this._parseBuffer=new Uint32Array(Math.min(E.length,R))),$||this._dirtyRowTracker.clearRange(),E.length>R)for(let K=I;K<E.length;K+=R){const ee=K+R<E.length?K+R:E.length,L=typeof E=="string"?this._stringDecoder.decode(E.substring(K,ee),this._parseBuffer):this._utf8Decoder.decode(E.subarray(K,ee),this._parseBuffer);if(A=this._parser.parse(this._parseBuffer,L))return this._preserveStack(N,U,L,K),this._logSlowResolvingAsync(A),A}else if(!$){const K=typeof E=="string"?this._stringDecoder.decode(E,this._parseBuffer):this._utf8Decoder.decode(E,this._parseBuffer);if(A=this._parser.parse(this._parseBuffer,K))return this._preserveStack(N,U,K,0),this._logSlowResolvingAsync(A),A}this._activeBuffer.x===N&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(E,T,A){let N,U;const I=this._charsetService.charset,$=this._optionsService.rawOptions.screenReaderMode,K=this._bufferService.cols,ee=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,B=this._curAttrData;let z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&A-T>0&&z.getWidth(this._activeBuffer.x-1)===2&&z.setCellFromCodePoint(this._activeBuffer.x-1,0,1,B.fg,B.bg,B.extended);for(let H=T;H<A;++H){if(N=E[H],U=this._unicodeService.wcwidth(N),N<127&&I){const ne=I[String.fromCharCode(N)];ne&&(N=ne.charCodeAt(0))}if($&&this._onA11yChar.fire((0,S.stringFromCodePoint)(N)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=K){if(ee){for(;this._activeBuffer.x<K;)z.setCellFromCodePoint(this._activeBuffer.x++,0,1,B.fg,B.bg,B.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),z=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=K-1,U===2)continue}if(L&&(z.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(B),B),z.getWidth(K-1)===2&&z.setCellFromCodePoint(K-1,l.NULL_CELL_CODE,l.NULL_CELL_WIDTH,B.fg,B.bg,B.extended)),z.setCellFromCodePoint(this._activeBuffer.x++,N,U,B.fg,B.bg,B.extended),U>0)for(;--U;)z.setCellFromCodePoint(this._activeBuffer.x++,0,0,B.fg,B.bg,B.extended)}else z.getWidth(this._activeBuffer.x-1)?z.addCodepointToCell(this._activeBuffer.x-1,N):z.addCodepointToCell(this._activeBuffer.x-2,N)}A-T>0&&(z.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<K&&A-T>0&&z.getWidth(this._activeBuffer.x)===0&&!z.hasContent(this._activeBuffer.x)&&z.setCellFromCodePoint(this._activeBuffer.x,0,1,B.fg,B.bg,B.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(E,T){return E.final!=="t"||E.prefix||E.intermediates?this._parser.registerCsiHandler(E,T):this._parser.registerCsiHandler(E,A=>!M(A.params[0],this._optionsService.rawOptions.windowOptions)||T(A))}registerDcsHandler(E,T){return this._parser.registerDcsHandler(E,new b.DcsHandler(T))}registerEscHandler(E,T){return this._parser.registerEscHandler(E,T)}registerOscHandler(E,T){return this._parser.registerOscHandler(E,new x.OscHandler(T))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var E;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((E=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||E===void 0)&&E.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);T.hasWidth(this._activeBuffer.x)&&!T.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const E=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-E),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(E=this._bufferService.cols-1){this._activeBuffer.x=Math.min(E,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(E,T){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=E,this._activeBuffer.y=this._activeBuffer.scrollTop+T):(this._activeBuffer.x=E,this._activeBuffer.y=T),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(E,T){this._restrictCursor(),this._setCursor(this._activeBuffer.x+E,this._activeBuffer.y+T)}cursorUp(E){const T=this._activeBuffer.y-this._activeBuffer.scrollTop;return T>=0?this._moveCursor(0,-Math.min(T,E.params[0]||1)):this._moveCursor(0,-(E.params[0]||1)),!0}cursorDown(E){const T=this._activeBuffer.scrollBottom-this._activeBuffer.y;return T>=0?this._moveCursor(0,Math.min(T,E.params[0]||1)):this._moveCursor(0,E.params[0]||1),!0}cursorForward(E){return this._moveCursor(E.params[0]||1,0),!0}cursorBackward(E){return this._moveCursor(-(E.params[0]||1),0),!0}cursorNextLine(E){return this.cursorDown(E),this._activeBuffer.x=0,!0}cursorPrecedingLine(E){return this.cursorUp(E),this._activeBuffer.x=0,!0}cursorCharAbsolute(E){return this._setCursor((E.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(E){return this._setCursor(E.length>=2?(E.params[1]||1)-1:0,(E.params[0]||1)-1),!0}charPosAbsolute(E){return this._setCursor((E.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(E){return this._moveCursor(E.params[0]||1,0),!0}linePosAbsolute(E){return this._setCursor(this._activeBuffer.x,(E.params[0]||1)-1),!0}vPositionRelative(E){return this._moveCursor(0,E.params[0]||1),!0}hVPosition(E){return this.cursorPosition(E),!0}tabClear(E){const T=E.params[0];return T===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:T===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(E){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=E.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(E){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let T=E.params[0]||1;for(;T--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(E){const T=E.params[0];return T===1&&(this._curAttrData.bg|=536870912),T!==2&&T!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(E,T,A,N=!1,U=!1){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);I.replaceCells(T,A,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),N&&(I.isWrapped=!1)}_resetBufferLine(E,T=!1){const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+E);A&&(A.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),T),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+E),A.isWrapped=!1)}eraseInDisplay(E,T=!1){let A;switch(this._restrictCursor(this._bufferService.cols),E.params[0]){case 0:for(A=this._activeBuffer.y,this._dirtyRowTracker.markDirty(A),this._eraseInBufferLine(A++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);A<this._bufferService.rows;A++)this._resetBufferLine(A,T);this._dirtyRowTracker.markDirty(A);break;case 1:for(A=this._activeBuffer.y,this._dirtyRowTracker.markDirty(A),this._eraseInBufferLine(A,0,this._activeBuffer.x+1,!0,T),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(A+1).isWrapped=!1);A--;)this._resetBufferLine(A,T);this._dirtyRowTracker.markDirty(0);break;case 2:for(A=this._bufferService.rows,this._dirtyRowTracker.markDirty(A-1);A--;)this._resetBufferLine(A,T);this._dirtyRowTracker.markDirty(0);break;case 3:const N=this._activeBuffer.lines.length-this._bufferService.rows;N>0&&(this._activeBuffer.lines.trimStart(N),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-N,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-N,0),this._onScroll.fire(0))}return!0}eraseInLine(E,T=!1){switch(this._restrictCursor(this._bufferService.cols),E.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,T);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,T);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,T)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(E){this._restrictCursor();let T=E.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=this._activeBuffer.ybase+this._activeBuffer.y,N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-N+1;for(;T--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(A,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(E){this._restrictCursor();let T=E.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=this._activeBuffer.ybase+this._activeBuffer.y;let N;for(N=this._bufferService.rows-1-this._activeBuffer.scrollBottom,N=this._bufferService.rows-1+this._activeBuffer.ybase-N;T--;)this._activeBuffer.lines.splice(A,1),this._activeBuffer.lines.splice(N,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(E){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.insertCells(this._activeBuffer.x,E.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(E){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.deleteCells(this._activeBuffer.x,E.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(E){let T=E.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(E){let T=E.params[0]||1;for(;T--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(h.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(E){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=E.params[0]||1;for(let A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);N.deleteCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(E){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=E.params[0]||1;for(let A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);N.insertCells(0,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(E){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=E.params[0]||1;for(let A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);N.insertCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(E){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=E.params[0]||1;for(let A=this._activeBuffer.scrollTop;A<=this._activeBuffer.scrollBottom;++A){const N=this._activeBuffer.lines.get(this._activeBuffer.ybase+A);N.deleteCells(this._activeBuffer.x,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),N.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(E){this._restrictCursor();const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return T&&(T.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(E.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(E){if(!this._parser.precedingCodepoint)return!0;const T=E.params[0]||1,A=new Uint32Array(T);for(let N=0;N<T;++N)A[N]=this._parser.precedingCodepoint;return this.print(A,0,A.length),!0}sendDeviceAttributesPrimary(E){return E.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(E){return E.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(E.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(E){return(this._optionsService.rawOptions.termName+"").indexOf(E)===0}setMode(E){for(let T=0;T<E.length;T++)switch(E.params[T]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(E){for(let T=0;T<E.length;T++)switch(E.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(E){for(let T=0;T<E.length;T++)switch(E.params[T]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(E){for(let T=0;T<E.length;T++)switch(E.params[T]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),E.params[T]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(E,T){const A=this._coreService.decPrivateModes,{activeProtocol:N,activeEncoding:U}=this._coreMouseService,I=this._coreService,{buffers:$,cols:K}=this._bufferService,{active:ee,alt:L}=$,B=this._optionsService.rawOptions,z=me=>me?1:2,H=E.params[0];return ne=H,G=T?H===2?4:H===4?z(I.modes.insertMode):H===12?3:H===20?z(B.convertEol):0:H===1?z(A.applicationCursorKeys):H===3?B.windowOptions.setWinLines?K===80?2:K===132?1:0:0:H===6?z(A.origin):H===7?z(A.wraparound):H===8?3:H===9?z(N==="X10"):H===12?z(B.cursorBlink):H===25?z(!I.isCursorHidden):H===45?z(A.reverseWraparound):H===66?z(A.applicationKeypad):H===67?4:H===1e3?z(N==="VT200"):H===1002?z(N==="DRAG"):H===1003?z(N==="ANY"):H===1004?z(A.sendFocus):H===1005?4:H===1006?z(U==="SGR"):H===1015?4:H===1016?z(U==="SGR_PIXELS"):H===1048?1:H===47||H===1047||H===1049?z(ee===L):H===2004?z(A.bracketedPasteMode):0,I.triggerDataEvent(`${f.C0.ESC}[${T?"":"?"}${ne};${G}$y`),!0;var ne,G}_updateAttrColor(E,T,A,N,U){return T===2?(E|=50331648,E&=-16777216,E|=g.AttributeData.fromColorRGB([A,N,U])):T===5&&(E&=-50331904,E|=33554432|255&A),E}_extractColor(E,T,A){const N=[0,0,-1,0,0,0];let U=0,I=0;do{if(N[I+U]=E.params[T+I],E.hasSubParams(T+I)){const $=E.getSubParams(T+I);let K=0;do N[1]===5&&(U=1),N[I+K+1+U]=$[K];while(++K<$.length&&K+I+1+U<N.length);break}if(N[1]===5&&I+U>=2||N[1]===2&&I+U>=5)break;N[1]&&(U=1)}while(++I+T<E.length&&I+U<N.length);for(let $=2;$<N.length;++$)N[$]===-1&&(N[$]=0);switch(N[0]){case 38:A.fg=this._updateAttrColor(A.fg,N[1],N[3],N[4],N[5]);break;case 48:A.bg=this._updateAttrColor(A.bg,N[1],N[3],N[4],N[5]);break;case 58:A.extended=A.extended.clone(),A.extended.underlineColor=this._updateAttrColor(A.extended.underlineColor,N[1],N[3],N[4],N[5])}return I}_processUnderline(E,T){T.extended=T.extended.clone(),(!~E||E>5)&&(E=1),T.extended.underlineStyle=E,T.fg|=268435456,E===0&&(T.fg&=-268435457),T.updateExtended()}_processSGR0(E){E.fg=h.DEFAULT_ATTR_DATA.fg,E.bg=h.DEFAULT_ATTR_DATA.bg,E.extended=E.extended.clone(),E.extended.underlineStyle=0,E.extended.underlineColor&=-67108864,E.updateExtended()}charAttributes(E){if(E.length===1&&E.params[0]===0)return this._processSGR0(this._curAttrData),!0;const T=E.length;let A;const N=this._curAttrData;for(let U=0;U<T;U++)A=E.params[U],A>=30&&A<=37?(N.fg&=-50331904,N.fg|=16777216|A-30):A>=40&&A<=47?(N.bg&=-50331904,N.bg|=16777216|A-40):A>=90&&A<=97?(N.fg&=-50331904,N.fg|=16777224|A-90):A>=100&&A<=107?(N.bg&=-50331904,N.bg|=16777224|A-100):A===0?this._processSGR0(N):A===1?N.fg|=134217728:A===3?N.bg|=67108864:A===4?(N.fg|=268435456,this._processUnderline(E.hasSubParams(U)?E.getSubParams(U)[0]:1,N)):A===5?N.fg|=536870912:A===7?N.fg|=67108864:A===8?N.fg|=1073741824:A===9?N.fg|=2147483648:A===2?N.bg|=134217728:A===21?this._processUnderline(2,N):A===22?(N.fg&=-134217729,N.bg&=-134217729):A===23?N.bg&=-67108865:A===24?(N.fg&=-268435457,this._processUnderline(0,N)):A===25?N.fg&=-536870913:A===27?N.fg&=-67108865:A===28?N.fg&=-1073741825:A===29?N.fg&=2147483647:A===39?(N.fg&=-67108864,N.fg|=16777215&h.DEFAULT_ATTR_DATA.fg):A===49?(N.bg&=-67108864,N.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):A===38||A===48||A===58?U+=this._extractColor(E,U,N):A===53?N.bg|=1073741824:A===55?N.bg&=-1073741825:A===59?(N.extended=N.extended.clone(),N.extended.underlineColor=-1,N.updateExtended()):A===100?(N.fg&=-67108864,N.fg|=16777215&h.DEFAULT_ATTR_DATA.fg,N.bg&=-67108864,N.bg|=16777215&h.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",A);return!0}deviceStatus(E){switch(E.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const T=this._activeBuffer.y+1,A=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${T};${A}R`)}return!0}deviceStatusPrivate(E){if(E.params[0]===6){const T=this._activeBuffer.y+1,A=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${T};${A}R`)}return!0}softReset(E){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(E){const T=E.params[0]||1;switch(T){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const A=T%2==1;return this._optionsService.options.cursorBlink=A,!0}setScrollRegion(E){const T=E.params[0]||1;let A;return(E.length<2||(A=E.params[1])>this._bufferService.rows||A===0)&&(A=this._bufferService.rows),A>T&&(this._activeBuffer.scrollTop=T-1,this._activeBuffer.scrollBottom=A-1,this._setCursor(0,0)),!0}windowOptions(E){if(!M(E.params[0],this._optionsService.rawOptions.windowOptions))return!0;const T=E.length>1?E.params[1]:0;switch(E.params[0]){case 14:T!==2&&this._onRequestWindowsOptionsReport.fire(O.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(O.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:T!==0&&T!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),T!==0&&T!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:T!==0&&T!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),T!==0&&T!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(E){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(E){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(E){return this._windowTitle=E,this._onTitleChange.fire(E),!0}setIconName(E){return this._iconName=E,!0}setOrReportIndexedColor(E){const T=[],A=E.split(";");for(;A.length>1;){const N=A.shift(),U=A.shift();if(/^\d+$/.exec(N)){const I=parseInt(N);if(V(I))if(U==="?")T.push({type:0,index:I});else{const $=(0,m.parseColor)(U);$&&T.push({type:1,index:I,color:$})}}}return T.length&&this._onColor.fire(T),!0}setHyperlink(E){const T=E.split(";");return!(T.length<2)&&(T[1]?this._createHyperlink(T[0],T[1]):!T[0]&&this._finishHyperlink())}_createHyperlink(E,T){this._getCurrentLinkId()&&this._finishHyperlink();const A=E.split(":");let N;const U=A.findIndex(I=>I.startsWith("id="));return U!==-1&&(N=A[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:N,uri:T}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(E,T){const A=E.split(";");for(let N=0;N<A.length&&!(T>=this._specialColors.length);++N,++T)if(A[N]==="?")this._onColor.fire([{type:0,index:this._specialColors[T]}]);else{const U=(0,m.parseColor)(A[N]);U&&this._onColor.fire([{type:1,index:this._specialColors[T],color:U}])}return!0}setOrReportFgColor(E){return this._setOrReportSpecialColor(E,0)}setOrReportBgColor(E){return this._setOrReportSpecialColor(E,1)}setOrReportCursorColor(E){return this._setOrReportSpecialColor(E,2)}restoreIndexedColor(E){if(!E)return this._onColor.fire([{type:2}]),!0;const T=[],A=E.split(";");for(let N=0;N<A.length;++N)if(/^\d+$/.exec(A[N])){const U=parseInt(A[N]);V(U)&&T.push({type:2,index:U})}return T.length&&this._onColor.fire(T),!0}restoreFgColor(E){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(E){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(E){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(E){return E.length!==2?(this.selectDefaultCharset(),!0):(E[0]==="/"||this._charsetService.setgCharset(k[E[0]],v.CHARSETS[E[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const E=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,E,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=h.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=h.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(E){return this._charsetService.setgLevel(E),!0}screenAlignmentPattern(){const E=new c.CellData;E.content=4194373,E.fg=this._curAttrData.fg,E.bg=this._curAttrData.bg,this._setCursor(0,0);for(let T=0;T<this._bufferService.rows;++T){const A=this._activeBuffer.ybase+this._activeBuffer.y+T,N=this._activeBuffer.lines.get(A);N&&(N.fill(E),N.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(E,T){const A=this._bufferService.buffer,N=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${U}${f.C0.ESC}\\`),!0))(E==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:E==='"p'?'P1$r61;1"p':E==="r"?`P1$r${A.scrollTop+1};${A.scrollBottom+1}r`:E==="m"?"P1$r0m":E===" q"?`P1$r${{block:2,underline:4,bar:6}[N.cursorStyle]-(N.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(E,T){this._dirtyRowTracker.markRangeDirty(E,T)}}s.InputHandler=j;let F=class{constructor(W){this._bufferService=W,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(W){W<this.start?this.start=W:W>this.end&&(this.end=W)}markRangeDirty(W,E){W>E&&(P=W,W=E,E=P),W<this.start&&(this.start=W),E>this.end&&(this.end=E)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function V(W){return 0<=W&&W<256}F=d([_(0,y.IBufferService)],F)},844:(p,s)=>{function a(d){for(const _ of d)_.dispose();d.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const d of this._disposables)d.dispose();this._disposables.length=0}register(d){return this._disposables.push(d),d}unregister(d){const _=this._disposables.indexOf(d);_!==-1&&this._disposables.splice(_,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(d){var _;this._isDisposed||d===this._value||((_=this._value)===null||_===void 0||_.dispose(),this._value=d)}clear(){this.value=void 0}dispose(){var d;this._isDisposed=!0,(d=this._value)===null||d===void 0||d.dispose(),this._value=void 0}},s.toDisposable=function(d){return{dispose:d}},s.disposeArray=a,s.getDisposeArrayDisposable=function(d){return{dispose:()=>a(d)}}},1505:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class a{constructor(){this._data={}}set(_,f,v){this._data[_]||(this._data[_]={}),this._data[_][f]=v}get(_,f){return this._data[_]?this._data[_][f]:void 0}clear(){this._data={}}}s.TwoKeyMap=a,s.FourKeyMap=class{constructor(){this._data=new a}set(d,_,f,v,w){this._data.get(d,_)||this._data.set(d,_,new a),this._data.get(d,_).set(f,v,w)}get(d,_,f,v){var w;return(w=this._data.get(d,_))===null||w===void 0?void 0:w.get(f,v)}clear(){this._data.clear()}}},6114:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const a=s.isNode?"node":navigator.userAgent,d=s.isNode?"node":navigator.platform;s.isFirefox=a.includes("Firefox"),s.isLegacyEdge=a.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(a),s.getSafariVersion=function(){if(!s.isSafari)return 0;const _=a.match(/Version\/(\d+)/);return _===null||_.length<2?0:parseInt(_[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(d),s.isIpad=d==="iPad",s.isIphone=d==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(d),s.isLinux=d.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(a)},6106:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let a=0;s.SortedList=class{constructor(d){this._getKey=d,this._array=[]}clear(){this._array.length=0}insert(d){this._array.length!==0?(a=this._search(this._getKey(d)),this._array.splice(a,0,d)):this._array.push(d)}delete(d){if(this._array.length===0)return!1;const _=this._getKey(d);if(_===void 0||(a=this._search(_),a===-1)||this._getKey(this._array[a])!==_)return!1;do if(this._array[a]===d)return this._array.splice(a,1),!0;while(++a<this._array.length&&this._getKey(this._array[a])===_);return!1}*getKeyIterator(d){if(this._array.length!==0&&(a=this._search(d),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===d))do yield this._array[a];while(++a<this._array.length&&this._getKey(this._array[a])===d)}forEachByKey(d,_){if(this._array.length!==0&&(a=this._search(d),!(a<0||a>=this._array.length)&&this._getKey(this._array[a])===d))do _(this._array[a]);while(++a<this._array.length&&this._getKey(this._array[a])===d)}values(){return[...this._array].values()}_search(d){let _=0,f=this._array.length-1;for(;f>=_;){let v=_+f>>1;const w=this._getKey(this._array[v]);if(w>d)f=v-1;else{if(!(w<d)){for(;v>0&&this._getKey(this._array[v-1])===d;)v--;return v}_=v+1}}return _}}},7226:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const d=a(6114);class _{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let C=0,S=0,h=w.timeRemaining(),u=0;for(;this._i<this._tasks.length;){if(C=Date.now(),this._tasks[this._i]()||this._i++,C=Math.max(1,Date.now()-C),S=Math.max(C,S),u=w.timeRemaining(),1.5*S>u)return h-C<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(h-C))}ms`),void this._start();h=u}this.clear()}}class f extends _{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const C=Date.now()+w;return{timeRemaining:()=>Math.max(0,C-Date.now())}}}s.PriorityTaskQueue=f,s.IdleTaskQueue=!d.isNode&&"requestIdleCallback"in window?class extends _{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:f,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const d=a(643);s.updateWindowsModeWrappedState=function(_){const f=_.buffer.lines.get(_.buffer.ybase+_.buffer.y-1),v=f==null?void 0:f.get(_.cols-1),w=_.buffer.lines.get(_.buffer.ybase+_.buffer.y);w&&v&&(w.isWrapped=v[d.CHAR_DATA_CODE_INDEX]!==d.NULL_CELL_CODE&&v[d.CHAR_DATA_CODE_INDEX]!==d.WHITESPACE_CELL_CODE)}},3734:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class a{constructor(){this.fg=0,this.bg=0,this.extended=new d}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new a;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}s.AttributeData=a;class d{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,v=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=v}clone(){return new d(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=d},9092:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const d=a(6349),_=a(7226),f=a(3734),v=a(8437),w=a(4634),C=a(511),S=a(643),h=a(4863),u=a(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(l,c,g){this._hasScrollback=l,this._optionsService=c,this._bufferService=g,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=C.CellData.fromCharData([0,S.NULL_CELL_CHAR,S.NULL_CELL_WIDTH,S.NULL_CELL_CODE]),this._whitespaceCell=C.CellData.fromCharData([0,S.WHITESPACE_CELL_CHAR,S.WHITESPACE_CELL_WIDTH,S.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new _.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(l){return l?(this._nullCell.fg=l.fg,this._nullCell.bg=l.bg,this._nullCell.extended=l.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(l){return l?(this._whitespaceCell.fg=l.fg,this._whitespaceCell.bg=l.bg,this._whitespaceCell.extended=l.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(l,c){return new v.BufferLine(this._bufferService.cols,this.getNullCell(l),c)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const l=this.ybase+this.y-this.ydisp;return l>=0&&l<this._rows}_getCorrectBufferLength(l){if(!this._hasScrollback)return l;const c=l+this._optionsService.rawOptions.scrollback;return c>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:c}fillViewportRows(l){if(this.lines.length===0){l===void 0&&(l=v.DEFAULT_ATTR_DATA);let c=this._rows;for(;c--;)this.lines.push(this.getBlankLine(l))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new d.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(l,c){const g=this.getNullCell(v.DEFAULT_ATTR_DATA);let y=0;const x=this._getCorrectBufferLength(c);if(x>this.lines.maxLength&&(this.lines.maxLength=x),this.lines.length>0){if(this._cols<l)for(let m=0;m<this.lines.length;m++)y+=+this.lines.get(m).resize(l,g);let b=0;if(this._rows<c)for(let m=this._rows;m<c;m++)this.lines.length<c+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(l,g)):this.ybase>0&&this.lines.length<=this.ybase+this.y+b+1?(this.ybase--,b++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(l,g)));else for(let m=this._rows;m>c;m--)this.lines.length>c+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(x<this.lines.maxLength){const m=this.lines.length-x;m>0&&(this.lines.trimStart(m),this.ybase=Math.max(this.ybase-m,0),this.ydisp=Math.max(this.ydisp-m,0),this.savedY=Math.max(this.savedY-m,0)),this.lines.maxLength=x}this.x=Math.min(this.x,l-1),this.y=Math.min(this.y,c-1),b&&(this.y+=b),this.savedX=Math.min(this.savedX,l-1),this.scrollTop=0}if(this.scrollBottom=c-1,this._isReflowEnabled&&(this._reflow(l,c),this._cols>l))for(let b=0;b<this.lines.length;b++)y+=+this.lines.get(b).resize(l,g);this._cols=l,this._rows=c,this._memoryCleanupQueue.clear(),y>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let l=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,l=!1);let c=0;for(;this._memoryCleanupPosition<this.lines.length;)if(c+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),c>100)return!0;return l}get _isReflowEnabled(){const l=this._optionsService.rawOptions.windowsPty;return l&&l.buildNumber?this._hasScrollback&&l.backend==="conpty"&&l.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(l,c){this._cols!==l&&(l>this._cols?this._reflowLarger(l,c):this._reflowSmaller(l,c))}_reflowLarger(l,c){const g=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,l,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(g.length>0){const y=(0,w.reflowLargerCreateNewLayout)(this.lines,g);(0,w.reflowLargerApplyNewLayout)(this.lines,y.layout),this._reflowLargerAdjustViewport(l,c,y.countRemoved)}}_reflowLargerAdjustViewport(l,c,g){const y=this.getNullCell(v.DEFAULT_ATTR_DATA);let x=g;for(;x-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<c&&this.lines.push(new v.BufferLine(l,y))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-g,0)}_reflowSmaller(l,c){const g=this.getNullCell(v.DEFAULT_ATTR_DATA),y=[];let x=0;for(let b=this.lines.length-1;b>=0;b--){let m=this.lines.get(b);if(!m||!m.isWrapped&&m.getTrimmedLength()<=l)continue;const k=[m];for(;m.isWrapped&&b>0;)m=this.lines.get(--b),k.unshift(m);const R=this.ybase+this.y;if(R>=b&&R<b+k.length)continue;const M=k[k.length-1].getTrimmedLength(),O=(0,w.reflowSmallerGetNewLineLengths)(k,this._cols,l),P=O.length-k.length;let j;j=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+P):Math.max(0,this.lines.length-this.lines.maxLength+P);const F=[];for(let N=0;N<P;N++){const U=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);F.push(U)}F.length>0&&(y.push({start:b+k.length+x,newLines:F}),x+=F.length),k.push(...F);let V=O.length-1,W=O[V];W===0&&(V--,W=O[V]);let E=k.length-P-1,T=M;for(;E>=0;){const N=Math.min(T,W);if(k[V]===void 0)break;if(k[V].copyCellsFrom(k[E],T-N,W-N,N,!0),W-=N,W===0&&(V--,W=O[V]),T-=N,T===0){E--;const U=Math.max(E,0);T=(0,w.getWrappedLineTrimmedLength)(k,U,this._cols)}}for(let N=0;N<k.length;N++)O[N]<l&&k[N].setCell(O[N],g);let A=P-j;for(;A-- >0;)this.ybase===0?this.y<c-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+x)-c&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+P,this.ybase+c-1)}if(y.length>0){const b=[],m=[];for(let V=0;V<this.lines.length;V++)m.push(this.lines.get(V));const k=this.lines.length;let R=k-1,M=0,O=y[M];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+x);let P=0;for(let V=Math.min(this.lines.maxLength-1,k+x-1);V>=0;V--)if(O&&O.start>R+P){for(let W=O.newLines.length-1;W>=0;W--)this.lines.set(V--,O.newLines[W]);V++,b.push({index:R+1,amount:O.newLines.length}),P+=O.newLines.length,O=y[++M]}else this.lines.set(V,m[R--]);let j=0;for(let V=b.length-1;V>=0;V--)b[V].index+=j,this.lines.onInsertEmitter.fire(b[V]),j+=b[V].amount;const F=Math.max(0,k+x-this.lines.maxLength);F>0&&this.lines.onTrimEmitter.fire(F)}}translateBufferLineToString(l,c,g=0,y){const x=this.lines.get(l);return x?x.translateToString(c,g,y):""}getWrappedRangeForLine(l){let c=l,g=l;for(;c>0&&this.lines.get(c).isWrapped;)c--;for(;g+1<this.lines.length&&this.lines.get(g+1).isWrapped;)g++;return{first:c,last:g}}setupTabStops(l){for(l!=null?this.tabs[l]||(l=this.prevStop(l)):(this.tabs={},l=0);l<this._cols;l+=this._optionsService.rawOptions.tabStopWidth)this.tabs[l]=!0}prevStop(l){for(l==null&&(l=this.x);!this.tabs[--l]&&l>0;);return l>=this._cols?this._cols-1:l<0?0:l}nextStop(l){for(l==null&&(l=this.x);!this.tabs[++l]&&l<this._cols;);return l>=this._cols?this._cols-1:l<0?0:l}clearMarkers(l){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].line===l&&(this.markers[c].dispose(),this.markers.splice(c--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let l=0;l<this.markers.length;l++)this.markers[l].dispose(),this.markers.splice(l--,1);this._isClearing=!1}addMarker(l){const c=new h.Marker(l);return this.markers.push(c),c.register(this.lines.onTrim(g=>{c.line-=g,c.line<0&&c.dispose()})),c.register(this.lines.onInsert(g=>{c.line>=g.index&&(c.line+=g.amount)})),c.register(this.lines.onDelete(g=>{c.line>=g.index&&c.line<g.index+g.amount&&c.dispose(),c.line>g.index&&(c.line-=g.amount)})),c.register(c.onDispose(()=>this._removeMarker(c))),c}_removeMarker(l){this._isClearing||this.markers.splice(this.markers.indexOf(l),1)}}},8437:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const d=a(3734),_=a(511),f=a(643),v=a(482);s.DEFAULT_ATTR_DATA=Object.freeze(new d.AttributeData);let w=0;class C{constructor(h,u,l=!1){this.isWrapped=l,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*h);const c=u||_.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let g=0;g<h;++g)this.setCell(g,c);this.length=h}get(h){const u=this._data[3*h+0],l=2097151&u;return[this._data[3*h+1],2097152&u?this._combined[h]:l?(0,v.stringFromCodePoint)(l):"",u>>22,2097152&u?this._combined[h].charCodeAt(this._combined[h].length-1):l]}set(h,u){this._data[3*h+1]=u[f.CHAR_DATA_ATTR_INDEX],u[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[h]=u[1],this._data[3*h+0]=2097152|h|u[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*h+0]=u[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|u[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(h){return this._data[3*h+0]>>22}hasWidth(h){return 12582912&this._data[3*h+0]}getFg(h){return this._data[3*h+1]}getBg(h){return this._data[3*h+2]}hasContent(h){return 4194303&this._data[3*h+0]}getCodePoint(h){const u=this._data[3*h+0];return 2097152&u?this._combined[h].charCodeAt(this._combined[h].length-1):2097151&u}isCombined(h){return 2097152&this._data[3*h+0]}getString(h){const u=this._data[3*h+0];return 2097152&u?this._combined[h]:2097151&u?(0,v.stringFromCodePoint)(2097151&u):""}isProtected(h){return 536870912&this._data[3*h+2]}loadCell(h,u){return w=3*h,u.content=this._data[w+0],u.fg=this._data[w+1],u.bg=this._data[w+2],2097152&u.content&&(u.combinedData=this._combined[h]),268435456&u.bg&&(u.extended=this._extendedAttrs[h]),u}setCell(h,u){2097152&u.content&&(this._combined[h]=u.combinedData),268435456&u.bg&&(this._extendedAttrs[h]=u.extended),this._data[3*h+0]=u.content,this._data[3*h+1]=u.fg,this._data[3*h+2]=u.bg}setCellFromCodePoint(h,u,l,c,g,y){268435456&g&&(this._extendedAttrs[h]=y),this._data[3*h+0]=u|l<<22,this._data[3*h+1]=c,this._data[3*h+2]=g}addCodepointToCell(h,u){let l=this._data[3*h+0];2097152&l?this._combined[h]+=(0,v.stringFromCodePoint)(u):(2097151&l?(this._combined[h]=(0,v.stringFromCodePoint)(2097151&l)+(0,v.stringFromCodePoint)(u),l&=-2097152,l|=2097152):l=u|4194304,this._data[3*h+0]=l)}insertCells(h,u,l,c){if((h%=this.length)&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),u<this.length-h){const g=new _.CellData;for(let y=this.length-h-u-1;y>=0;--y)this.setCell(h+u+y,this.loadCell(h+y,g));for(let y=0;y<u;++y)this.setCell(h+y,l)}else for(let g=h;g<this.length;++g)this.setCell(g,l);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs)}deleteCells(h,u,l,c){if(h%=this.length,u<this.length-h){const g=new _.CellData;for(let y=0;y<this.length-h-u;++y)this.setCell(h+y,this.loadCell(h+u+y,g));for(let y=this.length-u;y<this.length;++y)this.setCell(y,l)}else for(let g=h;g<this.length;++g)this.setCell(g,l);h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),this.getWidth(h)!==0||this.hasContent(h)||this.setCellFromCodePoint(h,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs)}replaceCells(h,u,l,c,g=!1){if(g)for(h&&this.getWidth(h-1)===2&&!this.isProtected(h-1)&&this.setCellFromCodePoint(h-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&!this.isProtected(u)&&this.setCellFromCodePoint(u,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs);h<u&&h<this.length;)this.isProtected(h)||this.setCell(h,l),h++;else for(h&&this.getWidth(h-1)===2&&this.setCellFromCodePoint(h-1,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u,0,1,(c==null?void 0:c.fg)||0,(c==null?void 0:c.bg)||0,(c==null?void 0:c.extended)||new d.ExtendedAttrs);h<u&&h<this.length;)this.setCell(h++,l)}resize(h,u){if(h===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const l=3*h;if(h>this.length){if(this._data.buffer.byteLength>=4*l)this._data=new Uint32Array(this._data.buffer,0,l);else{const c=new Uint32Array(l);c.set(this._data),this._data=c}for(let c=this.length;c<h;++c)this.setCell(c,u)}else{this._data=this._data.subarray(0,l);const c=Object.keys(this._combined);for(let y=0;y<c.length;y++){const x=parseInt(c[y],10);x>=h&&delete this._combined[x]}const g=Object.keys(this._extendedAttrs);for(let y=0;y<g.length;y++){const x=parseInt(g[y],10);x>=h&&delete this._extendedAttrs[x]}}return this.length=h,4*l*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const h=new Uint32Array(this._data.length);return h.set(this._data),this._data=h,1}return 0}fill(h,u=!1){if(u)for(let l=0;l<this.length;++l)this.isProtected(l)||this.setCell(l,h);else{this._combined={},this._extendedAttrs={};for(let l=0;l<this.length;++l)this.setCell(l,h)}}copyFrom(h){this.length!==h.length?this._data=new Uint32Array(h._data):this._data.set(h._data),this.length=h.length,this._combined={};for(const u in h._combined)this._combined[u]=h._combined[u];this._extendedAttrs={};for(const u in h._extendedAttrs)this._extendedAttrs[u]=h._extendedAttrs[u];this.isWrapped=h.isWrapped}clone(){const h=new C(0);h._data=new Uint32Array(this._data),h.length=this.length;for(const u in this._combined)h._combined[u]=this._combined[u];for(const u in this._extendedAttrs)h._extendedAttrs[u]=this._extendedAttrs[u];return h.isWrapped=this.isWrapped,h}getTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0])return h+(this._data[3*h+0]>>22);return 0}getNoBgTrimmedLength(){for(let h=this.length-1;h>=0;--h)if(4194303&this._data[3*h+0]||50331648&this._data[3*h+2])return h+(this._data[3*h+0]>>22);return 0}copyCellsFrom(h,u,l,c,g){const y=h._data;if(g)for(let b=c-1;b>=0;b--){for(let m=0;m<3;m++)this._data[3*(l+b)+m]=y[3*(u+b)+m];268435456&y[3*(u+b)+2]&&(this._extendedAttrs[l+b]=h._extendedAttrs[u+b])}else for(let b=0;b<c;b++){for(let m=0;m<3;m++)this._data[3*(l+b)+m]=y[3*(u+b)+m];268435456&y[3*(u+b)+2]&&(this._extendedAttrs[l+b]=h._extendedAttrs[u+b])}const x=Object.keys(h._combined);for(let b=0;b<x.length;b++){const m=parseInt(x[b],10);m>=u&&(this._combined[m-u+l]=h._combined[m])}}translateToString(h=!1,u=0,l=this.length){h&&(l=Math.min(l,this.getTrimmedLength()));let c="";for(;u<l;){const g=this._data[3*u+0],y=2097151&g;c+=2097152&g?this._combined[u]:y?(0,v.stringFromCodePoint)(y):f.WHITESPACE_CELL_CHAR,u+=g>>22||1}return c}}s.BufferLine=C},4841:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(a,d){if(a.start.y>a.end.y)throw new Error(`Buffer range end (${a.end.x}, ${a.end.y}) cannot be before start (${a.start.x}, ${a.start.y})`);return d*(a.end.y-a.start.y)+(a.end.x-a.start.x+1)}},4634:(p,s)=>{function a(d,_,f){if(_===d.length-1)return d[_].getTrimmedLength();const v=!d[_].hasContent(f-1)&&d[_].getWidth(f-1)===1,w=d[_+1].getWidth(0)===2;return v&&w?f-1:f}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(d,_,f,v,w){const C=[];for(let S=0;S<d.length-1;S++){let h=S,u=d.get(++h);if(!u.isWrapped)continue;const l=[d.get(S)];for(;h<d.length&&u.isWrapped;)l.push(u),u=d.get(++h);if(v>=S&&v<h){S+=l.length-1;continue}let c=0,g=a(l,c,_),y=1,x=0;for(;y<l.length;){const m=a(l,y,_),k=m-x,R=f-g,M=Math.min(k,R);l[c].copyCellsFrom(l[y],x,g,M,!1),g+=M,g===f&&(c++,g=0),x+=M,x===m&&(y++,x=0),g===0&&c!==0&&l[c-1].getWidth(f-1)===2&&(l[c].copyCellsFrom(l[c-1],f-1,g++,1,!1),l[c-1].setCell(f-1,w))}l[c].replaceCells(g,f,w);let b=0;for(let m=l.length-1;m>0&&(m>c||l[m].getTrimmedLength()===0);m--)b++;b>0&&(C.push(S+l.length-b),C.push(b)),S+=l.length-1}return C},s.reflowLargerCreateNewLayout=function(d,_){const f=[];let v=0,w=_[v],C=0;for(let S=0;S<d.length;S++)if(w===S){const h=_[++v];d.onDeleteEmitter.fire({index:S-C,amount:h}),S+=h-1,C+=h,w=_[++v]}else f.push(S);return{layout:f,countRemoved:C}},s.reflowLargerApplyNewLayout=function(d,_){const f=[];for(let v=0;v<_.length;v++)f.push(d.get(_[v]));for(let v=0;v<f.length;v++)d.set(v,f[v]);d.length=_.length},s.reflowSmallerGetNewLineLengths=function(d,_,f){const v=[],w=d.map((u,l)=>a(d,l,_)).reduce((u,l)=>u+l);let C=0,S=0,h=0;for(;h<w;){if(w-h<f){v.push(w-h);break}C+=f;const u=a(d,S,_);C>u&&(C-=u,S++);const l=d[S].getWidth(C-1)===2;l&&C--;const c=l?f-1:f;v.push(c),h+=c}return v},s.getWrappedLineTrimmedLength=a},5295:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const d=a(8460),_=a(844),f=a(9092);class v extends _.Disposable{constructor(C,S){super(),this._optionsService=C,this._bufferService=S,this._onBufferActivate=this.register(new d.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(C){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(C),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(C,S){this._normal.resize(C,S),this._alt.resize(C,S),this.setupTabStops(C)}setupTabStops(C){this._normal.setupTabStops(C),this._alt.setupTabStops(C)}}s.BufferSet=v},511:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const d=a(482),_=a(643),f=a(3734);class v extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(C){const S=new v;return S.setFromCharData(C),S}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,d.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(C){this.fg=C[_.CHAR_DATA_ATTR_INDEX],this.bg=0;let S=!1;if(C[_.CHAR_DATA_CHAR_INDEX].length>2)S=!0;else if(C[_.CHAR_DATA_CHAR_INDEX].length===2){const h=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=h&&h<=56319){const u=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=u&&u<=57343?this.content=1024*(h-55296)+u-56320+65536|C[_.CHAR_DATA_WIDTH_INDEX]<<22:S=!0}else S=!0}else this.content=C[_.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|C[_.CHAR_DATA_WIDTH_INDEX]<<22;S&&(this.combinedData=C[_.CHAR_DATA_CHAR_INDEX],this.content=2097152|C[_.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=v},643:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const d=a(8460),_=a(844);class f{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,_.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}s.Marker=f,f._nextId=1},7116:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},s.CHARSETS.A={"#":""},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},s.CHARSETS.C=s.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},s.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.E=s.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},s.CHARSETS.H=s.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},s.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(p,s)=>{var a,d,_;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(a||(s.C0=a={})),function(f){f.PAD="",f.HOP="",f.BPH="",f.NBH="",f.IND="",f.NEL="",f.SSA="",f.ESA="",f.HTS="",f.HTJ="",f.VTS="",f.PLD="",f.PLU="",f.RI="",f.SS2="",f.SS3="",f.DCS="",f.PU1="",f.PU2="",f.STS="",f.CCH="",f.MW="",f.SPA="",f.EPA="",f.SOS="",f.SGCI="",f.SCI="",f.CSI="",f.ST="",f.OSC="",f.PM="",f.APC=""}(d||(s.C1=d={})),function(f){f.ST=`${a.ESC}\\`}(_||(s.C1_ESCAPED=_={}))},7399:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const d=a(2584),_={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(f,v,w,C){const S={type:0,cancel:!1,key:void 0},h=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?S.key=v?d.C0.ESC+"OA":d.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?S.key=v?d.C0.ESC+"OD":d.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?S.key=v?d.C0.ESC+"OC":d.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(S.key=v?d.C0.ESC+"OB":d.C0.ESC+"[B");break;case 8:if(f.altKey){S.key=d.C0.ESC+d.C0.DEL;break}S.key=d.C0.DEL;break;case 9:if(f.shiftKey){S.key=d.C0.ESC+"[Z";break}S.key=d.C0.HT,S.cancel=!0;break;case 13:S.key=f.altKey?d.C0.ESC+d.C0.CR:d.C0.CR,S.cancel=!0;break;case 27:S.key=d.C0.ESC,f.altKey&&(S.key=d.C0.ESC+d.C0.ESC),S.cancel=!0;break;case 37:if(f.metaKey)break;h?(S.key=d.C0.ESC+"[1;"+(h+1)+"D",S.key===d.C0.ESC+"[1;3D"&&(S.key=d.C0.ESC+(w?"b":"[1;5D"))):S.key=v?d.C0.ESC+"OD":d.C0.ESC+"[D";break;case 39:if(f.metaKey)break;h?(S.key=d.C0.ESC+"[1;"+(h+1)+"C",S.key===d.C0.ESC+"[1;3C"&&(S.key=d.C0.ESC+(w?"f":"[1;5C"))):S.key=v?d.C0.ESC+"OC":d.C0.ESC+"[C";break;case 38:if(f.metaKey)break;h?(S.key=d.C0.ESC+"[1;"+(h+1)+"A",w||S.key!==d.C0.ESC+"[1;3A"||(S.key=d.C0.ESC+"[1;5A")):S.key=v?d.C0.ESC+"OA":d.C0.ESC+"[A";break;case 40:if(f.metaKey)break;h?(S.key=d.C0.ESC+"[1;"+(h+1)+"B",w||S.key!==d.C0.ESC+"[1;3B"||(S.key=d.C0.ESC+"[1;5B")):S.key=v?d.C0.ESC+"OB":d.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(S.key=d.C0.ESC+"[2~");break;case 46:S.key=h?d.C0.ESC+"[3;"+(h+1)+"~":d.C0.ESC+"[3~";break;case 36:S.key=h?d.C0.ESC+"[1;"+(h+1)+"H":v?d.C0.ESC+"OH":d.C0.ESC+"[H";break;case 35:S.key=h?d.C0.ESC+"[1;"+(h+1)+"F":v?d.C0.ESC+"OF":d.C0.ESC+"[F";break;case 33:f.shiftKey?S.type=2:f.ctrlKey?S.key=d.C0.ESC+"[5;"+(h+1)+"~":S.key=d.C0.ESC+"[5~";break;case 34:f.shiftKey?S.type=3:f.ctrlKey?S.key=d.C0.ESC+"[6;"+(h+1)+"~":S.key=d.C0.ESC+"[6~";break;case 112:S.key=h?d.C0.ESC+"[1;"+(h+1)+"P":d.C0.ESC+"OP";break;case 113:S.key=h?d.C0.ESC+"[1;"+(h+1)+"Q":d.C0.ESC+"OQ";break;case 114:S.key=h?d.C0.ESC+"[1;"+(h+1)+"R":d.C0.ESC+"OR";break;case 115:S.key=h?d.C0.ESC+"[1;"+(h+1)+"S":d.C0.ESC+"OS";break;case 116:S.key=h?d.C0.ESC+"[15;"+(h+1)+"~":d.C0.ESC+"[15~";break;case 117:S.key=h?d.C0.ESC+"[17;"+(h+1)+"~":d.C0.ESC+"[17~";break;case 118:S.key=h?d.C0.ESC+"[18;"+(h+1)+"~":d.C0.ESC+"[18~";break;case 119:S.key=h?d.C0.ESC+"[19;"+(h+1)+"~":d.C0.ESC+"[19~";break;case 120:S.key=h?d.C0.ESC+"[20;"+(h+1)+"~":d.C0.ESC+"[20~";break;case 121:S.key=h?d.C0.ESC+"[21;"+(h+1)+"~":d.C0.ESC+"[21~";break;case 122:S.key=h?d.C0.ESC+"[23;"+(h+1)+"~":d.C0.ESC+"[23~";break;case 123:S.key=h?d.C0.ESC+"[24;"+(h+1)+"~":d.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(w&&!C||!f.altKey||f.metaKey)!w||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?S.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(S.key=d.C0.US),f.key==="@"&&(S.key=d.C0.NUL)):f.keyCode===65&&(S.type=1);else{const u=_[f.keyCode],l=u==null?void 0:u[f.shiftKey?1:0];if(l)S.key=d.C0.ESC+l;else if(f.keyCode>=65&&f.keyCode<=90){const c=f.ctrlKey?f.keyCode-64:f.keyCode+32;let g=String.fromCharCode(c);f.shiftKey&&(g=g.toUpperCase()),S.key=d.C0.ESC+g}else if(f.keyCode===32)S.key=d.C0.ESC+(f.ctrlKey?d.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let c=f.code.slice(3,4);f.shiftKey||(c=c.toLowerCase()),S.key=d.C0.ESC+c,S.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?S.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?S.key=d.C0.NUL:f.keyCode>=51&&f.keyCode<=55?S.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?S.key=d.C0.DEL:f.keyCode===219?S.key=d.C0.ESC:f.keyCode===220?S.key=d.C0.FS:f.keyCode===221&&(S.key=d.C0.GS)}return S}},482:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(a){return a>65535?(a-=65536,String.fromCharCode(55296+(a>>10))+String.fromCharCode(a%1024+56320)):String.fromCharCode(a)},s.utf32ToString=function(a,d=0,_=a.length){let f="";for(let v=d;v<_;++v){let w=a[v];w>65535?(w-=65536,f+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):f+=String.fromCharCode(w)}return f},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(a,d){const _=a.length;if(!_)return 0;let f=0,v=0;if(this._interim){const w=a.charCodeAt(v++);56320<=w&&w<=57343?d[f++]=1024*(this._interim-55296)+w-56320+65536:(d[f++]=this._interim,d[f++]=w),this._interim=0}for(let w=v;w<_;++w){const C=a.charCodeAt(w);if(55296<=C&&C<=56319){if(++w>=_)return this._interim=C,f;const S=a.charCodeAt(w);56320<=S&&S<=57343?d[f++]=1024*(C-55296)+S-56320+65536:(d[f++]=C,d[f++]=S)}else C!==65279&&(d[f++]=C)}return f}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(a,d){const _=a.length;if(!_)return 0;let f,v,w,C,S=0,h=0,u=0;if(this.interim[0]){let g=!1,y=this.interim[0];y&=(224&y)==192?31:(240&y)==224?15:7;let x,b=0;for(;(x=63&this.interim[++b])&&b<4;)y<<=6,y|=x;const m=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=m-b;for(;u<k;){if(u>=_)return 0;if(x=a[u++],(192&x)!=128){u--,g=!0;break}this.interim[b++]=x,y<<=6,y|=63&x}g||(m===2?y<128?u--:d[S++]=y:m===3?y<2048||y>=55296&&y<=57343||y===65279||(d[S++]=y):y<65536||y>1114111||(d[S++]=y)),this.interim.fill(0)}const l=_-4;let c=u;for(;c<_;){for(;!(!(c<l)||128&(f=a[c])||128&(v=a[c+1])||128&(w=a[c+2])||128&(C=a[c+3]));)d[S++]=f,d[S++]=v,d[S++]=w,d[S++]=C,c+=4;if(f=a[c++],f<128)d[S++]=f;else if((224&f)==192){if(c>=_)return this.interim[0]=f,S;if(v=a[c++],(192&v)!=128){c--;continue}if(h=(31&f)<<6|63&v,h<128){c--;continue}d[S++]=h}else if((240&f)==224){if(c>=_)return this.interim[0]=f,S;if(v=a[c++],(192&v)!=128){c--;continue}if(c>=_)return this.interim[0]=f,this.interim[1]=v,S;if(w=a[c++],(192&w)!=128){c--;continue}if(h=(15&f)<<12|(63&v)<<6|63&w,h<2048||h>=55296&&h<=57343||h===65279)continue;d[S++]=h}else if((248&f)==240){if(c>=_)return this.interim[0]=f,S;if(v=a[c++],(192&v)!=128){c--;continue}if(c>=_)return this.interim[0]=f,this.interim[1]=v,S;if(w=a[c++],(192&w)!=128){c--;continue}if(c>=_)return this.interim[0]=f,this.interim[1]=v,this.interim[2]=w,S;if(C=a[c++],(192&C)!=128){c--;continue}if(h=(7&f)<<18|(63&v)<<12|(63&w)<<6|63&C,h<65536||h>1114111)continue;d[S++]=h}}return S}}},225:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const a=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],d=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let _;s.UnicodeV6=class{constructor(){if(this.version="6",!_){_=new Uint8Array(65536),_.fill(1),_[0]=0,_.fill(0,1,32),_.fill(0,127,160),_.fill(2,4352,4448),_[9001]=2,_[9002]=2,_.fill(2,11904,42192),_[12351]=1,_.fill(2,44032,55204),_.fill(2,63744,64256),_.fill(2,65040,65050),_.fill(2,65072,65136),_.fill(2,65280,65377),_.fill(2,65504,65511);for(let f=0;f<a.length;++f)_.fill(0,a[f][0],a[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?_[f]:function(v,w){let C,S=0,h=w.length-1;if(v<w[0][0]||v>w[h][1])return!1;for(;h>=S;)if(C=S+h>>1,v>w[C][1])S=C+1;else{if(!(v<w[C][0]))return!0;h=C-1}return!1}(f,d)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const d=a(8460),_=a(844);class f extends _.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new d.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,C){if(C!==void 0&&this._syncCalls>C)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let S;for(this._isSyncWriting=!0;S=this._writeBuffer.shift();){this._action(S);const h=this._callbacks.shift();h&&h()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,C){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(C)}_innerWrite(w=0,C=!0){const S=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const h=this._writeBuffer[this._bufferOffset],u=this._action(h,C);if(u){const c=g=>Date.now()-S>=12?setTimeout(()=>this._innerWrite(0,g)):this._innerWrite(S,g);return void u.catch(g=>(queueMicrotask(()=>{throw g}),Promise.resolve(!1))).then(c)}const l=this._callbacks[this._bufferOffset];if(l&&l(),this._bufferOffset++,this._pendingData-=h.length,Date.now()-S>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=f},5941:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const a=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,d=/^[\da-f]+$/;function _(f,v){const w=f.toString(16),C=w.length<2?"0"+w:w;switch(v){case 4:return w[0];case 8:return C;case 12:return(C+C).slice(0,3);default:return C+C}}s.parseColor=function(f){if(!f)return;let v=f.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const w=a.exec(v);if(w){const C=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/C*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/C*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/C*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),d.exec(v)&&[3,6,9,12].includes(v.length))){const w=v.length/3,C=[0,0,0];for(let S=0;S<3;++S){const h=parseInt(v.slice(w*S,w*S+w),16);C[S]=w===1?h<<4:w===2?h:w===3?h>>4:h>>8}return C}},s.toRgbString=function(f,v=16){const[w,C,S]=f;return`rgb:${_(w,v)}/${_(C,v)}/${_(S,v)}`}},5770:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const d=a(482),_=a(8742),f=a(5770),v=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(C,S){this._handlers[C]===void 0&&(this._handlers[C]=[]);const h=this._handlers[C];return h.push(S),{dispose:()=>{const u=h.indexOf(S);u!==-1&&h.splice(u,1)}}}clearHandler(C){this._handlers[C]&&delete this._handlers[C]}setHandlerFallback(C){this._handlerFb=C}reset(){if(this._active.length)for(let C=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;C>=0;--C)this._active[C].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(C,S){if(this.reset(),this._ident=C,this._active=this._handlers[C]||v,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].hook(S);else this._handlerFb(this._ident,"HOOK",S)}put(C,S,h){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(C,S,h);else this._handlerFb(this._ident,"PUT",(0,d.utf32ToString)(C,S,h))}unhook(C,S=!0){if(this._active.length){let h=!1,u=this._active.length-1,l=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,h=S,l=this._stack.fallThrough,this._stack.paused=!1),!l&&h===!1){for(;u>=0&&(h=this._active[u].unhook(C),h!==!0);u--)if(h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,h;u--}for(;u>=0;u--)if(h=this._active[u].unhook(!1),h instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,h}else this._handlerFb(this._ident,"UNHOOK",C);this._active=v,this._ident=0}};const w=new _.Params;w.addParam(0),s.DcsHandler=class{constructor(C){this._handler=C,this._data="",this._params=w,this._hitLimit=!1}hook(C){this._params=C.length>1||C.params[0]?C.clone():w,this._data="",this._hitLimit=!1}put(C,S,h){this._hitLimit||(this._data+=(0,d.utf32ToString)(C,S,h),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(C){let S=!1;if(this._hitLimit)S=!1;else if(C&&(S=this._handler(this._data,this._params),S instanceof Promise))return S.then(h=>(this._params=w,this._data="",this._hitLimit=!1,h));return this._params=w,this._data="",this._hitLimit=!1,S}}},2015:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const d=a(844),_=a(8742),f=a(6242),v=a(6351);class w{constructor(u){this.table=new Uint8Array(u)}setDefault(u,l){this.table.fill(u<<4|l)}add(u,l,c,g){this.table[l<<8|u]=c<<4|g}addMany(u,l,c,g){for(let y=0;y<u.length;y++)this.table[l<<8|u[y]]=c<<4|g}}s.TransitionTable=w;const C=160;s.VT500_TRANSITION_TABLE=function(){const h=new w(4095),u=Array.apply(null,Array(256)).map((b,m)=>m),l=(b,m)=>u.slice(b,m),c=l(32,127),g=l(0,24);g.push(25),g.push.apply(g,l(28,32));const y=l(0,14);let x;for(x in h.setDefault(1,0),h.addMany(c,0,2,0),y)h.addMany([24,26,153,154],x,3,0),h.addMany(l(128,144),x,3,0),h.addMany(l(144,152),x,3,0),h.add(156,x,0,0),h.add(27,x,11,1),h.add(157,x,4,8),h.addMany([152,158,159],x,0,7),h.add(155,x,11,3),h.add(144,x,11,9);return h.addMany(g,0,3,0),h.addMany(g,1,3,1),h.add(127,1,0,1),h.addMany(g,8,0,8),h.addMany(g,3,3,3),h.add(127,3,0,3),h.addMany(g,4,3,4),h.add(127,4,0,4),h.addMany(g,6,3,6),h.addMany(g,5,3,5),h.add(127,5,0,5),h.addMany(g,2,3,2),h.add(127,2,0,2),h.add(93,1,4,8),h.addMany(c,8,5,8),h.add(127,8,5,8),h.addMany([156,27,24,26,7],8,6,0),h.addMany(l(28,32),8,0,8),h.addMany([88,94,95],1,0,7),h.addMany(c,7,0,7),h.addMany(g,7,0,7),h.add(156,7,0,0),h.add(127,7,0,7),h.add(91,1,11,3),h.addMany(l(64,127),3,7,0),h.addMany(l(48,60),3,8,4),h.addMany([60,61,62,63],3,9,4),h.addMany(l(48,60),4,8,4),h.addMany(l(64,127),4,7,0),h.addMany([60,61,62,63],4,0,6),h.addMany(l(32,64),6,0,6),h.add(127,6,0,6),h.addMany(l(64,127),6,0,0),h.addMany(l(32,48),3,9,5),h.addMany(l(32,48),5,9,5),h.addMany(l(48,64),5,0,6),h.addMany(l(64,127),5,7,0),h.addMany(l(32,48),4,9,5),h.addMany(l(32,48),1,9,2),h.addMany(l(32,48),2,9,2),h.addMany(l(48,127),2,10,0),h.addMany(l(48,80),1,10,0),h.addMany(l(81,88),1,10,0),h.addMany([89,90,92],1,10,0),h.addMany(l(96,127),1,10,0),h.add(80,1,11,9),h.addMany(g,9,0,9),h.add(127,9,0,9),h.addMany(l(28,32),9,0,9),h.addMany(l(32,48),9,9,12),h.addMany(l(48,60),9,8,10),h.addMany([60,61,62,63],9,9,10),h.addMany(g,11,0,11),h.addMany(l(32,128),11,0,11),h.addMany(l(28,32),11,0,11),h.addMany(g,10,0,10),h.add(127,10,0,10),h.addMany(l(28,32),10,0,10),h.addMany(l(48,60),10,8,10),h.addMany([60,61,62,63],10,0,11),h.addMany(l(32,48),10,9,12),h.addMany(g,12,0,12),h.add(127,12,0,12),h.addMany(l(28,32),12,0,12),h.addMany(l(32,48),12,9,12),h.addMany(l(48,64),12,0,11),h.addMany(l(64,127),12,12,13),h.addMany(l(64,127),10,12,13),h.addMany(l(64,127),9,12,13),h.addMany(g,13,13,13),h.addMany(c,13,13,13),h.add(127,13,0,13),h.addMany([27,156,24,26],13,14,0),h.add(C,0,2,0),h.add(C,8,5,8),h.add(C,6,0,6),h.add(C,11,0,11),h.add(C,13,13,13),h}();class S extends d.Disposable{constructor(u=s.VT500_TRANSITION_TABLE){super(),this._transitions=u,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new _.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(l,c,g)=>{},this._executeHandlerFb=l=>{},this._csiHandlerFb=(l,c)=>{},this._escHandlerFb=l=>{},this._errorHandlerFb=l=>l,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,d.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(u,l=[64,126]){let c=0;if(u.prefix){if(u.prefix.length>1)throw new Error("only one byte as prefix supported");if(c=u.prefix.charCodeAt(0),c&&60>c||c>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(u.intermediates){if(u.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let y=0;y<u.intermediates.length;++y){const x=u.intermediates.charCodeAt(y);if(32>x||x>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");c<<=8,c|=x}}if(u.final.length!==1)throw new Error("final must be a single byte");const g=u.final.charCodeAt(0);if(l[0]>g||g>l[1])throw new Error(`final must be in range ${l[0]} .. ${l[1]}`);return c<<=8,c|=g,c}identToString(u){const l=[];for(;u;)l.push(String.fromCharCode(255&u)),u>>=8;return l.reverse().join("")}setPrintHandler(u){this._printHandler=u}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(u,l){const c=this._identifier(u,[48,126]);this._escHandlers[c]===void 0&&(this._escHandlers[c]=[]);const g=this._escHandlers[c];return g.push(l),{dispose:()=>{const y=g.indexOf(l);y!==-1&&g.splice(y,1)}}}clearEscHandler(u){this._escHandlers[this._identifier(u,[48,126])]&&delete this._escHandlers[this._identifier(u,[48,126])]}setEscHandlerFallback(u){this._escHandlerFb=u}setExecuteHandler(u,l){this._executeHandlers[u.charCodeAt(0)]=l}clearExecuteHandler(u){this._executeHandlers[u.charCodeAt(0)]&&delete this._executeHandlers[u.charCodeAt(0)]}setExecuteHandlerFallback(u){this._executeHandlerFb=u}registerCsiHandler(u,l){const c=this._identifier(u);this._csiHandlers[c]===void 0&&(this._csiHandlers[c]=[]);const g=this._csiHandlers[c];return g.push(l),{dispose:()=>{const y=g.indexOf(l);y!==-1&&g.splice(y,1)}}}clearCsiHandler(u){this._csiHandlers[this._identifier(u)]&&delete this._csiHandlers[this._identifier(u)]}setCsiHandlerFallback(u){this._csiHandlerFb=u}registerDcsHandler(u,l){return this._dcsParser.registerHandler(this._identifier(u),l)}clearDcsHandler(u){this._dcsParser.clearHandler(this._identifier(u))}setDcsHandlerFallback(u){this._dcsParser.setHandlerFallback(u)}registerOscHandler(u,l){return this._oscParser.registerHandler(u,l)}clearOscHandler(u){this._oscParser.clearHandler(u)}setOscHandlerFallback(u){this._oscParser.setHandlerFallback(u)}setErrorHandler(u){this._errorHandler=u}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(u,l,c,g,y){this._parseStack.state=u,this._parseStack.handlers=l,this._parseStack.handlerPos=c,this._parseStack.transition=g,this._parseStack.chunkPos=y}parse(u,l,c){let g,y=0,x=0,b=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,b=this._parseStack.chunkPos+1;else{if(c===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const m=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(c===!1&&k>-1){for(;k>=0&&(g=m[k](this._params),g!==!0);k--)if(g instanceof Promise)return this._parseStack.handlerPos=k,g}this._parseStack.handlers=[];break;case 4:if(c===!1&&k>-1){for(;k>=0&&(g=m[k](),g!==!0);k--)if(g instanceof Promise)return this._parseStack.handlerPos=k,g}this._parseStack.handlers=[];break;case 6:if(y=u[this._parseStack.chunkPos],g=this._dcsParser.unhook(y!==24&&y!==26,c),g)return g;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(y=u[this._parseStack.chunkPos],g=this._oscParser.end(y!==24&&y!==26,c),g)return g;y===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,b=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let m=b;m<l;++m){switch(y=u[m],x=this._transitions.table[this.currentState<<8|(y<160?y:C)],x>>4){case 2:for(let P=m+1;;++P){if(P>=l||(y=u[P])<32||y>126&&y<C){this._printHandler(u,m,P),m=P-1;break}if(++P>=l||(y=u[P])<32||y>126&&y<C){this._printHandler(u,m,P),m=P-1;break}if(++P>=l||(y=u[P])<32||y>126&&y<C){this._printHandler(u,m,P),m=P-1;break}if(++P>=l||(y=u[P])<32||y>126&&y<C){this._printHandler(u,m,P),m=P-1;break}}break;case 3:this._executeHandlers[y]?this._executeHandlers[y]():this._executeHandlerFb(y),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:m,code:y,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|y];let R=k?k.length-1:-1;for(;R>=0&&(g=k[R](this._params),g!==!0);R--)if(g instanceof Promise)return this._preserveStack(3,k,R,x,m),g;R<0&&this._csiHandlerFb(this._collect<<8|y,this._params),this.precedingCodepoint=0;break;case 8:do switch(y){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(y-48)}while(++m<l&&(y=u[m])>47&&y<60);m--;break;case 9:this._collect<<=8,this._collect|=y;break;case 10:const M=this._escHandlers[this._collect<<8|y];let O=M?M.length-1:-1;for(;O>=0&&(g=M[O](),g!==!0);O--)if(g instanceof Promise)return this._preserveStack(4,M,O,x,m),g;O<0&&this._escHandlerFb(this._collect<<8|y),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|y,this._params);break;case 13:for(let P=m+1;;++P)if(P>=l||(y=u[P])===24||y===26||y===27||y>127&&y<C){this._dcsParser.put(u,m,P),m=P-1;break}break;case 14:if(g=this._dcsParser.unhook(y!==24&&y!==26),g)return this._preserveStack(6,[],0,x,m),g;y===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let P=m+1;;P++)if(P>=l||(y=u[P])<32||y>127&&y<C){this._oscParser.put(u,m,P),m=P-1;break}break;case 6:if(g=this._oscParser.end(y!==24&&y!==26),g)return this._preserveStack(5,[],0,x,m),g;y===27&&(x|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&x}}}s.EscapeSequenceParser=S},6242:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const d=a(5770),_=a(482),f=[];s.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,w){this._handlers[v]===void 0&&(this._handlers[v]=[]);const C=this._handlers[v];return C.push(w),{dispose:()=>{const S=C.indexOf(w);S!==-1&&C.splice(S,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,w,C){if(this._active.length)for(let S=this._active.length-1;S>=0;S--)this._active[S].put(v,w,C);else this._handlerFb(this._id,"PUT",(0,_.utf32ToString)(v,w,C))}start(){this.reset(),this._state=1}put(v,w,C){if(this._state!==3){if(this._state===1)for(;w<C;){const S=v[w++];if(S===59){this._state=2,this._start();break}if(S<48||57<S)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+S-48}this._state===2&&C-w>0&&this._put(v,w,C)}}end(v,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let C=!1,S=this._active.length-1,h=!1;if(this._stack.paused&&(S=this._stack.loopPosition-1,C=w,h=this._stack.fallThrough,this._stack.paused=!1),!h&&C===!1){for(;S>=0&&(C=this._active[S].end(v),C!==!0);S--)if(C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!1,C;S--}for(;S>=0;S--)if(C=this._active[S].end(!1),C instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=S,this._stack.fallThrough=!0,C}else this._handlerFb(this._id,"END",v);this._active=f,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,w,C){this._hitLimit||(this._data+=(0,_.utf32ToString)(v,w,C),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let w=!1;if(this._hitLimit)w=!1;else if(v&&(w=this._handler(this._data),w instanceof Promise))return w.then(C=>(this._data="",this._hitLimit=!1,C));return this._data="",this._hitLimit=!1,w}}},8742:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const a=2147483647;class d{static fromArray(f){const v=new d;if(!f.length)return v;for(let w=Array.isArray(f[0])?1:0;w<f.length;++w){const C=f[w];if(Array.isArray(C))for(let S=0;S<C.length;++S)v.addSubParam(C[S]);else v.addParam(C)}return v}constructor(f=32,v=32){if(this.maxLength=f,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new d(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let v=0;v<this.length;++v){f.push(this.params[v]);const w=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-w>0&&f.push(Array.prototype.slice.call(this._subParams,w,C))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>a?a:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>a?a:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const v=this._subParamsIdx[f]>>8,w=255&this._subParamsIdx[f];return w-v>0?this._subParams.subarray(v,w):null}getSubParamsAll(){const f={};for(let v=0;v<this.length;++v){const w=this._subParamsIdx[v]>>8,C=255&this._subParamsIdx[v];C-w>0&&(f[v]=this._subParams.slice(w,C))}return f}addDigit(f){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,C=w[v-1];w[v-1]=~C?Math.min(10*C+f,a):f}}s.Params=d},5741:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let a=this._addons.length-1;a>=0;a--)this._addons[a].instance.dispose()}loadAddon(a,d){const _={instance:d,dispose:d.dispose,isDisposed:!1};this._addons.push(_),d.dispose=()=>this._wrappedAddonDispose(_),d.activate(a)}_wrappedAddonDispose(a){if(a.isDisposed)return;let d=-1;for(let _=0;_<this._addons.length;_++)if(this._addons[_]===a){d=_;break}if(d===-1)throw new Error("Could not dispose an addon that has not been loaded");a.isDisposed=!0,a.dispose.apply(a.instance),this._addons.splice(d,1)}}},8771:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const d=a(3785),_=a(511);s.BufferApiView=class{constructor(f,v){this._buffer=f,this.type=v}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const v=this._buffer.lines.get(f);if(v)return new d.BufferLineApiView(v)}getNullCell(){return new _.CellData}}},3785:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const d=a(511);s.BufferLineApiView=class{constructor(_){this._line=_}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(_,f){if(!(_<0||_>=this._line.length))return f?(this._line.loadCell(_,f),f):this._line.loadCell(_,new d.CellData)}translateToString(_,f,v){return this._line.translateToString(_,f,v)}}},8285:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const d=a(8771),_=a(8460),f=a(844);class v extends f.Disposable{constructor(C){super(),this._core=C,this._onBufferChange=this.register(new _.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new d.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new d.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=v},7975:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(a){this._core=a}registerCsiHandler(a,d){return this._core.registerCsiHandler(a,_=>d(_.toArray()))}addCsiHandler(a,d){return this.registerCsiHandler(a,d)}registerDcsHandler(a,d){return this._core.registerDcsHandler(a,(_,f)=>d(_,f.toArray()))}addDcsHandler(a,d){return this.registerDcsHandler(a,d)}registerEscHandler(a,d){return this._core.registerEscHandler(a,d)}addEscHandler(a,d){return this.registerEscHandler(a,d)}registerOscHandler(a,d){return this._core.registerOscHandler(a,d)}addOscHandler(a,d){return this.registerOscHandler(a,d)}}},7090:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(a){this._core=a}register(a){this._core.unicodeService.register(a)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(a){this._core.unicodeService.activeVersion=a}}},744:function(p,s,a){var d=this&&this.__decorate||function(h,u,l,c){var g,y=arguments.length,x=y<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,u,l,c);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(x=(y<3?g(x):y>3?g(u,l,x):g(u,l))||x);return y>3&&x&&Object.defineProperty(u,l,x),x},_=this&&this.__param||function(h,u){return function(l,c){u(l,c,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const f=a(8460),v=a(844),w=a(5295),C=a(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let S=s.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(h){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(h.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(h.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(h,this))}resize(h,u){this.cols=h,this.rows=u,this.buffers.resize(h,u),this._onResize.fire({cols:h,rows:u})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(h,u=!1){const l=this.buffer;let c;c=this._cachedBlankLine,c&&c.length===this.cols&&c.getFg(0)===h.fg&&c.getBg(0)===h.bg||(c=l.getBlankLine(h,u),this._cachedBlankLine=c),c.isWrapped=u;const g=l.ybase+l.scrollTop,y=l.ybase+l.scrollBottom;if(l.scrollTop===0){const x=l.lines.isFull;y===l.lines.length-1?x?l.lines.recycle().copyFrom(c):l.lines.push(c.clone()):l.lines.splice(y+1,0,c.clone()),x?this.isUserScrolling&&(l.ydisp=Math.max(l.ydisp-1,0)):(l.ybase++,this.isUserScrolling||l.ydisp++)}else{const x=y-g+1;l.lines.shiftElements(g+1,x-1,-1),l.lines.set(y,c.clone())}this.isUserScrolling||(l.ydisp=l.ybase),this._onScroll.fire(l.ydisp)}scrollLines(h,u,l){const c=this.buffer;if(h<0){if(c.ydisp===0)return;this.isUserScrolling=!0}else h+c.ydisp>=c.ybase&&(this.isUserScrolling=!1);const g=c.ydisp;c.ydisp=Math.max(Math.min(c.ydisp+h,c.ybase),0),g!==c.ydisp&&(u||this._onScroll.fire(c.ydisp))}};s.BufferService=S=d([_(0,C.IOptionsService)],S)},7994:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(a){this.glevel=a,this.charset=this._charsets[a]}setgCharset(a,d){this._charsets[a]=d,this.glevel===a&&(this.charset=d)}}},1753:function(p,s,a){var d=this&&this.__decorate||function(c,g,y,x){var b,m=arguments.length,k=m<3?g:x===null?x=Object.getOwnPropertyDescriptor(g,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(c,g,y,x);else for(var R=c.length-1;R>=0;R--)(b=c[R])&&(k=(m<3?b(k):m>3?b(g,y,k):b(g,y))||k);return m>3&&k&&Object.defineProperty(g,y,k),k},_=this&&this.__param||function(c,g){return function(y,x){g(y,x,c)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const f=a(2585),v=a(8460),w=a(844),C={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:c=>c.button!==4&&c.action===1&&(c.ctrl=!1,c.alt=!1,c.shift=!1,!0)},VT200:{events:19,restrict:c=>c.action!==32},DRAG:{events:23,restrict:c=>c.action!==32||c.button!==3},ANY:{events:31,restrict:c=>!0}};function S(c,g){let y=(c.ctrl?16:0)|(c.shift?4:0)|(c.alt?8:0);return c.button===4?(y|=64,y|=c.action):(y|=3&c.button,4&c.button&&(y|=64),8&c.button&&(y|=128),c.action===32?y|=32:c.action!==0||g||(y|=3)),y}const h=String.fromCharCode,u={DEFAULT:c=>{const g=[S(c,!1)+32,c.col+32,c.row+32];return g[0]>255||g[1]>255||g[2]>255?"":`\x1B[M${h(g[0])}${h(g[1])}${h(g[2])}`},SGR:c=>{const g=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${S(c,!0)};${c.col};${c.row}${g}`},SGR_PIXELS:c=>{const g=c.action===0&&c.button!==4?"m":"M";return`\x1B[<${S(c,!0)};${c.x};${c.y}${g}`}};let l=s.CoreMouseService=class extends w.Disposable{constructor(c,g){super(),this._bufferService=c,this._coreService=g,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const y of Object.keys(C))this.addProtocol(y,C[y]);for(const y of Object.keys(u))this.addEncoding(y,u[y]);this.reset()}addProtocol(c,g){this._protocols[c]=g}addEncoding(c,g){this._encodings[c]=g}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(c){if(!this._protocols[c])throw new Error(`unknown protocol "${c}"`);this._activeProtocol=c,this._onProtocolChange.fire(this._protocols[c].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(c){if(!this._encodings[c])throw new Error(`unknown encoding "${c}"`);this._activeEncoding=c}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(c){if(c.col<0||c.col>=this._bufferService.cols||c.row<0||c.row>=this._bufferService.rows||c.button===4&&c.action===32||c.button===3&&c.action!==32||c.button!==4&&(c.action===2||c.action===3)||(c.col++,c.row++,c.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,c,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(c))return!1;const g=this._encodings[this._activeEncoding](c);return g&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(g):this._coreService.triggerDataEvent(g,!0)),this._lastEvent=c,!0}explainEvents(c){return{down:!!(1&c),up:!!(2&c),drag:!!(4&c),move:!!(8&c),wheel:!!(16&c)}}_equalEvents(c,g,y){if(y){if(c.x!==g.x||c.y!==g.y)return!1}else if(c.col!==g.col||c.row!==g.row)return!1;return c.button===g.button&&c.action===g.action&&c.ctrl===g.ctrl&&c.alt===g.alt&&c.shift===g.shift}};s.CoreMouseService=l=d([_(0,f.IBufferService),_(1,f.ICoreService)],l)},6975:function(p,s,a){var d=this&&this.__decorate||function(l,c,g,y){var x,b=arguments.length,m=b<3?c:y===null?y=Object.getOwnPropertyDescriptor(c,g):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(l,c,g,y);else for(var k=l.length-1;k>=0;k--)(x=l[k])&&(m=(b<3?x(m):b>3?x(c,g,m):x(c,g))||m);return b>3&&m&&Object.defineProperty(c,g,m),m},_=this&&this.__param||function(l,c){return function(g,y){c(g,y,l)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const f=a(1439),v=a(8460),w=a(844),C=a(2585),S=Object.freeze({insertMode:!1}),h=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=s.CoreService=class extends w.Disposable{constructor(l,c,g){super(),this._bufferService=l,this._logService=c,this._optionsService=g,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(S),this.decPrivateModes=(0,f.clone)(h)}reset(){this.modes=(0,f.clone)(S),this.decPrivateModes=(0,f.clone)(h)}triggerDataEvent(l,c=!1){if(this._optionsService.rawOptions.disableStdin)return;const g=this._bufferService.buffer;c&&this._optionsService.rawOptions.scrollOnUserInput&&g.ybase!==g.ydisp&&this._onRequestScrollToBottom.fire(),c&&this._onUserInput.fire(),this._logService.debug(`sending data "${l}"`,()=>l.split("").map(y=>y.charCodeAt(0))),this._onData.fire(l)}triggerBinaryEvent(l){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${l}"`,()=>l.split("").map(c=>c.charCodeAt(0))),this._onBinary.fire(l))}};s.CoreService=u=d([_(0,C.IBufferService),_(1,C.ILogService),_(2,C.IOptionsService)],u)},9074:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const d=a(8055),_=a(8460),f=a(844),v=a(6106);let w=0,C=0;class S extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList(l=>l==null?void 0:l.marker.line),this._onDecorationRegistered=this.register(new _.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new _.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(l){if(l.marker.isDisposed)return;const c=new h(l);if(c){const g=c.marker.onDispose(()=>c.dispose());c.onDispose(()=>{c&&(this._decorations.delete(c)&&this._onDecorationRemoved.fire(c),g.dispose())}),this._decorations.insert(c),this._onDecorationRegistered.fire(c)}return c}reset(){for(const l of this._decorations.values())l.dispose();this._decorations.clear()}*getDecorationsAtCell(l,c,g){var y,x,b;let m=0,k=0;for(const R of this._decorations.getKeyIterator(c))m=(y=R.options.x)!==null&&y!==void 0?y:0,k=m+((x=R.options.width)!==null&&x!==void 0?x:1),l>=m&&l<k&&(!g||((b=R.options.layer)!==null&&b!==void 0?b:"bottom")===g)&&(yield R)}forEachDecorationAtCell(l,c,g,y){this._decorations.forEachByKey(c,x=>{var b,m,k;w=(b=x.options.x)!==null&&b!==void 0?b:0,C=w+((m=x.options.width)!==null&&m!==void 0?m:1),l>=w&&l<C&&(!g||((k=x.options.layer)!==null&&k!==void 0?k:"bottom")===g)&&y(x)})}}s.DecorationService=S;class h extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=d.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=d.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(l){super(),this.options=l,this.onRenderEmitter=this.register(new _.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new _.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=l.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const d=a(2585),_=a(8343);class f{constructor(...w){this._entries=new Map;for(const[C,S]of w)this.set(C,S)}set(w,C){const S=this._entries.get(w);return this._entries.set(w,C),S}forEach(w){for(const[C,S]of this._entries.entries())w(C,S)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}s.ServiceCollection=f,s.InstantiationService=class{constructor(){this._services=new f,this._services.set(d.IInstantiationService,this)}setService(v,w){this._services.set(v,w)}getService(v){return this._services.get(v)}createInstance(v,...w){const C=(0,_.getServiceDependencies)(v).sort((u,l)=>u.index-l.index),S=[];for(const u of C){const l=this._services.get(u.id);if(!l)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${u.id}.`);S.push(l)}const h=C.length>0?C[0].index:w.length;if(w.length!==h)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${h+1} conflicts with ${w.length} static arguments`);return new v(...w,...S)}}},7866:function(p,s,a){var d=this&&this.__decorate||function(h,u,l,c){var g,y=arguments.length,x=y<3?u:c===null?c=Object.getOwnPropertyDescriptor(u,l):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(h,u,l,c);else for(var b=h.length-1;b>=0;b--)(g=h[b])&&(x=(y<3?g(x):y>3?g(u,l,x):g(u,l))||x);return y>3&&x&&Object.defineProperty(u,l,x),x},_=this&&this.__param||function(h,u){return function(l,c){u(l,c,h)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const f=a(844),v=a(2585),w={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let C,S=s.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(h){super(),this._optionsService=h,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),C=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(h){for(let u=0;u<h.length;u++)typeof h[u]=="function"&&(h[u]=h[u]())}_log(h,u,l){this._evalLazyOptionalParams(l),h.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+u,...l)}trace(h,...u){var l,c;this._logLevel<=v.LogLevelEnum.TRACE&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.trace.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,h,u)}debug(h,...u){var l,c;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.debug.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.log,h,u)}info(h,...u){var l,c;this._logLevel<=v.LogLevelEnum.INFO&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.info.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.info,h,u)}warn(h,...u){var l,c;this._logLevel<=v.LogLevelEnum.WARN&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.warn.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.warn,h,u)}error(h,...u){var l,c;this._logLevel<=v.LogLevelEnum.ERROR&&this._log((c=(l=this._optionsService.options.logger)===null||l===void 0?void 0:l.error.bind(this._optionsService.options.logger))!==null&&c!==void 0?c:console.error,h,u)}};s.LogService=S=d([_(0,v.IOptionsService)],S),s.setTraceLogger=function(h){C=h},s.traceCall=function(h,u,l){if(typeof l.value!="function")throw new Error("not supported");const c=l.value;l.value=function(...g){if(C.logLevel!==v.LogLevelEnum.TRACE)return c.apply(this,g);C.trace(`GlyphRenderer#${c.name}(${g.map(x=>JSON.stringify(x)).join(", ")})`);const y=c.apply(this,g);return C.trace(`GlyphRenderer#${c.name} return`,y),y}}},7302:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const d=a(8460),_=a(844),f=a(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends _.Disposable{constructor(S){super(),this._onOptionChange=this.register(new d.EventEmitter),this.onOptionChange=this._onOptionChange.event;const h=Object.assign({},s.DEFAULT_OPTIONS);for(const u in S)if(u in h)try{const l=S[u];h[u]=this._sanitizeAndValidateOption(u,l)}catch(l){console.error(l)}this.rawOptions=h,this.options=Object.assign({},h),this._setupOptions()}onSpecificOptionChange(S,h){return this.onOptionChange(u=>{u===S&&h(this.rawOptions[S])})}onMultipleOptionChange(S,h){return this.onOptionChange(u=>{S.indexOf(u)!==-1&&h()})}_setupOptions(){const S=u=>{if(!(u in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);return this.rawOptions[u]},h=(u,l)=>{if(!(u in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);l=this._sanitizeAndValidateOption(u,l),this.rawOptions[u]!==l&&(this.rawOptions[u]=l,this._onOptionChange.fire(u))};for(const u in this.rawOptions){const l={get:S.bind(this,u),set:h.bind(this,u)};Object.defineProperty(this.options,u,l)}}_sanitizeAndValidateOption(S,h){switch(S){case"cursorStyle":if(h||(h=s.DEFAULT_OPTIONS[S]),!function(u){return u==="block"||u==="underline"||u==="bar"}(h))throw new Error(`"${h}" is not a valid value for ${S}`);break;case"wordSeparator":h||(h=s.DEFAULT_OPTIONS[S]);break;case"fontWeight":case"fontWeightBold":if(typeof h=="number"&&1<=h&&h<=1e3)break;h=v.includes(h)?h:s.DEFAULT_OPTIONS[S];break;case"cursorWidth":h=Math.floor(h);case"lineHeight":case"tabStopWidth":if(h<1)throw new Error(`${S} cannot be less than 1, value: ${h}`);break;case"minimumContrastRatio":h=Math.max(1,Math.min(21,Math.round(10*h)/10));break;case"scrollback":if((h=Math.min(h,4294967295))<0)throw new Error(`${S} cannot be less than 0, value: ${h}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(h<=0)throw new Error(`${S} cannot be less than or equal to 0, value: ${h}`);break;case"rows":case"cols":if(!h&&h!==0)throw new Error(`${S} must be numeric, value: ${h}`);break;case"windowsPty":h=h??{}}return h}}s.OptionsService=w},2660:function(p,s,a){var d=this&&this.__decorate||function(w,C,S,h){var u,l=arguments.length,c=l<3?C:h===null?h=Object.getOwnPropertyDescriptor(C,S):h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(w,C,S,h);else for(var g=w.length-1;g>=0;g--)(u=w[g])&&(c=(l<3?u(c):l>3?u(C,S,c):u(C,S))||c);return l>3&&c&&Object.defineProperty(C,S,c),c},_=this&&this.__param||function(w,C){return function(S,h){C(S,h,w)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const f=a(2585);let v=s.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const C=this._bufferService.buffer;if(w.id===void 0){const g=C.addMarker(C.ybase+C.y),y={data:w,id:this._nextId++,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(y,g)),this._dataByLinkId.set(y.id,y),y.id}const S=w,h=this._getEntryIdKey(S),u=this._entriesWithId.get(h);if(u)return this.addLineToLink(u.id,C.ybase+C.y),u.id;const l=C.addMarker(C.ybase+C.y),c={id:this._nextId++,key:this._getEntryIdKey(S),data:S,lines:[l]};return l.onDispose(()=>this._removeMarkerFromLink(c,l)),this._entriesWithId.set(c.key,c),this._dataByLinkId.set(c.id,c),c.id}addLineToLink(w,C){const S=this._dataByLinkId.get(w);if(S&&S.lines.every(h=>h.line!==C)){const h=this._bufferService.buffer.addMarker(C);S.lines.push(h),h.onDispose(()=>this._removeMarkerFromLink(S,h))}}getLinkData(w){var C;return(C=this._dataByLinkId.get(w))===null||C===void 0?void 0:C.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,C){const S=w.lines.indexOf(C);S!==-1&&(w.lines.splice(S,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};s.OscLinkService=v=d([_(0,f.IBufferService)],v)},8343:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const a="di$target",d="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(_){return _[d]||[]},s.createDecorator=function(_){if(s.serviceRegistry.has(_))return s.serviceRegistry.get(_);const f=function(v,w,C){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(S,h,u){h[a]===h?h[d].push({id:S,index:u}):(h[d]=[{id:S,index:u}],h[a]=h)})(f,v,C)};return f.toString=()=>_,s.serviceRegistry.set(_,f),f}},2585:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const d=a(8343);var _;s.IBufferService=(0,d.createDecorator)("BufferService"),s.ICoreMouseService=(0,d.createDecorator)("CoreMouseService"),s.ICoreService=(0,d.createDecorator)("CoreService"),s.ICharsetService=(0,d.createDecorator)("CharsetService"),s.IInstantiationService=(0,d.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(_||(s.LogLevelEnum=_={})),s.ILogService=(0,d.createDecorator)("LogService"),s.IOptionsService=(0,d.createDecorator)("OptionsService"),s.IOscLinkService=(0,d.createDecorator)("OscLinkService"),s.IUnicodeService=(0,d.createDecorator)("UnicodeService"),s.IDecorationService=(0,d.createDecorator)("DecorationService")},1480:(p,s,a)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const d=a(8460),_=a(225);s.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new d.EventEmitter,this.onChange=this._onChange.event;const f=new _.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let v=0;const w=f.length;for(let C=0;C<w;++C){let S=f.charCodeAt(C);if(55296<=S&&S<=56319){if(++C>=w)return v+this.wcwidth(S);const h=f.charCodeAt(C);56320<=h&&h<=57343?S=1024*(S-55296)+h-56320+65536:v+=this.wcwidth(h)}v+=this.wcwidth(S)}return v}}}},i={};function n(p){var s=i[p];if(s!==void 0)return s.exports;var a=i[p]={exports:{}};return r[p].call(a.exports,a,a.exports,n),a.exports}var o={};return(()=>{var p=o;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const s=n(9042),a=n(3236),d=n(844),_=n(5741),f=n(8285),v=n(7975),w=n(7090),C=["cols","rows"];class S extends d.Disposable{constructor(u){super(),this._core=this.register(new a.Terminal(u)),this._addonManager=this.register(new _.AddonManager),this._publicOptions=Object.assign({},this._core.options);const l=g=>this._core.options[g],c=(g,y)=>{this._checkReadonlyOptions(g),this._core.options[g]=y};for(const g in this._core.options){const y={get:l.bind(this,g),set:c.bind(this,g)};Object.defineProperty(this._publicOptions,g,y)}}_checkReadonlyOptions(u){if(C.includes(u))throw new Error(`Option "${u}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const u=this._core.coreService.decPrivateModes;let l="none";switch(this._core.coreMouseService.activeProtocol){case"X10":l="x10";break;case"VT200":l="vt200";break;case"DRAG":l="drag";break;case"ANY":l="any"}return{applicationCursorKeysMode:u.applicationCursorKeys,applicationKeypadMode:u.applicationKeypad,bracketedPasteMode:u.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:l,originMode:u.origin,reverseWraparoundMode:u.reverseWraparound,sendFocusMode:u.sendFocus,wraparoundMode:u.wraparound}}get options(){return this._publicOptions}set options(u){for(const l in u)this._publicOptions[l]=u[l]}blur(){this._core.blur()}focus(){this._core.focus()}resize(u,l){this._verifyIntegers(u,l),this._core.resize(u,l)}open(u){this._core.open(u)}attachCustomKeyEventHandler(u){this._core.attachCustomKeyEventHandler(u)}registerLinkProvider(u){return this._core.registerLinkProvider(u)}registerCharacterJoiner(u){return this._checkProposedApi(),this._core.registerCharacterJoiner(u)}deregisterCharacterJoiner(u){this._checkProposedApi(),this._core.deregisterCharacterJoiner(u)}registerMarker(u=0){return this._verifyIntegers(u),this._core.registerMarker(u)}registerDecoration(u){var l,c,g;return this._checkProposedApi(),this._verifyPositiveIntegers((l=u.x)!==null&&l!==void 0?l:0,(c=u.width)!==null&&c!==void 0?c:0,(g=u.height)!==null&&g!==void 0?g:0),this._core.registerDecoration(u)}hasSelection(){return this._core.hasSelection()}select(u,l,c){this._verifyIntegers(u,l,c),this._core.select(u,l,c)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(u,l){this._verifyIntegers(u,l),this._core.selectLines(u,l)}dispose(){super.dispose()}scrollLines(u){this._verifyIntegers(u),this._core.scrollLines(u)}scrollPages(u){this._verifyIntegers(u),this._core.scrollPages(u)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(u){this._verifyIntegers(u),this._core.scrollToLine(u)}clear(){this._core.clear()}write(u,l){this._core.write(u,l)}writeln(u,l){this._core.write(u),this._core.write(`\r
`,l)}paste(u){this._core.paste(u)}refresh(u,l){this._verifyIntegers(u,l),this._core.refresh(u,l)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(u){this._addonManager.loadAddon(this,u)}static get strings(){return s}_verifyIntegers(...u){for(const l of u)if(l===1/0||isNaN(l)||l%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...u){for(const l of u)if(l&&(l===1/0||isNaN(l)||l%1!=0||l<0))throw new Error("This API only accepts positive integers")}}p.Terminal=S})(),o})())})(jf);var py=jf.exports,Ff={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={};return(()=>{var i=r;Object.defineProperty(i,"__esModule",{value:!0}),i.FitAddon=void 0,i.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const o=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(o._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,o=n._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),a=parseInt(s.getPropertyValue("height")),d=Math.max(0,parseInt(s.getPropertyValue("width"))),_=window.getComputedStyle(this._terminal.element),f=a-(parseInt(_.getPropertyValue("padding-top"))+parseInt(_.getPropertyValue("padding-bottom"))),v=d-(parseInt(_.getPropertyValue("padding-right"))+parseInt(_.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(v/o.css.cell.width)),rows:Math.max(1,Math.floor(f/o.css.cell.height))}}}})(),r})())})(Ff);var _y=Ff.exports,zf={exports:{}};(function(e,t){(function(r,i){e.exports=i()})(self,()=>(()=>{var r={6:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.LinkComputer=s.WebLinkProvider=void 0,s.WebLinkProvider=class{constructor(d,_,f,v={}){this._terminal=d,this._regex=_,this._handler=f,this._options=v}provideLinks(d,_){const f=a.computeLink(d,this._regex,this._terminal,this._handler);_(this._addCallbacks(f))}_addCallbacks(d){return d.map(_=>(_.leave=this._options.leave,_.hover=(f,v)=>{if(this._options.hover){const{range:w}=_;this._options.hover(f,v,w)}},_))}};class a{static computeLink(_,f,v,w){const C=new RegExp(f.source,(f.flags||"")+"g"),[S,h]=a._getWindowedLineStrings(_-1,v),u=S.join("");let l;const c=[];for(;l=C.exec(u);){const g=l[0];try{const R=new URL(g),M=decodeURI(R.toString());if(g!==M&&g+"/"!==M)continue}catch{continue}const[y,x]=a._mapStrIdx(v,h,0,l.index),[b,m]=a._mapStrIdx(v,y,x,g.length);if(y===-1||x===-1||b===-1||m===-1)continue;const k={start:{x:x+1,y:y+1},end:{x:m,y:b+1}};c.push({range:k,text:g,activate:w})}return c}static _getWindowedLineStrings(_,f){let v,w=_,C=_,S=0,h="";const u=[];if(v=f.buffer.active.getLine(_)){const l=v.translateToString(!0);if(v.isWrapped&&l[0]!==" "){for(S=0;(v=f.buffer.active.getLine(--w))&&S<2048&&(h=v.translateToString(!0),S+=h.length,u.push(h),v.isWrapped&&h.indexOf(" ")===-1););u.reverse()}for(u.push(l),S=0;(v=f.buffer.active.getLine(++C))&&v.isWrapped&&S<2048&&(h=v.translateToString(!0),S+=h.length,u.push(h),h.indexOf(" ")===-1););}return[u,w]}static _mapStrIdx(_,f,v,w){const C=_.buffer.active,S=C.getNullCell();let h=v;for(;w;){const u=C.getLine(f);if(!u)return[-1,-1];for(let l=h;l<u.length;++l){u.getCell(l,S);const c=S.getChars();if(S.getWidth()&&(w-=c.length||1,l===u.length-1&&c==="")){const g=C.getLine(f+1);g&&g.isWrapped&&(g.getCell(0,S),S.getWidth()===2&&(w+=1))}if(w<0)return[f,l]}f++,h=0}return[f,h]}}s.LinkComputer=a}},i={};function n(p){var s=i[p];if(s!==void 0)return s.exports;var a=i[p]={exports:{}};return r[p](a,a.exports,n),a.exports}var o={};return(()=>{var p=o;Object.defineProperty(p,"__esModule",{value:!0}),p.WebLinksAddon=void 0;const s=n(6),a=/https?:[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function d(_,f){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=f}else console.warn("Opening link blocked as opener could not be cleared")}p.WebLinksAddon=class{constructor(_=d,f={}){this._handler=_,this._options=f}activate(_){this._terminal=_;const f=this._options,v=f.urlRegex||a;this._linkProvider=this._terminal.registerLinkProvider(new s.WebLinkProvider(this._terminal,v,this._handler,f))}dispose(){var _;(_=this._linkProvider)===null||_===void 0||_.dispose()}}})(),o})())})(zf);var gy=zf.exports;const ve={currentDir:"/home/user",files:{"/":["home","usr","etc","var"],"/home":["user"],"/home/user":["Documents","Downloads","Pictures","projects"],"/home/user/Documents":["notes.txt","report.pdf"],"/home/user/Downloads":["image.jpg","file.zip"],"/home/user/Pictures":["screenshot.png","avatar.jpg"],"/home/user/projects":["websec-browser","test-project"],"/usr":["bin","local","share"],"/etc":["passwd","hosts","resolv.conf"],"/var":["log","www","cache"]},fileContents:{"/home/user/Documents/notes.txt":"Some notes about cybersecurity...","/etc/passwd":`root:x:0:0:root:/root:/bin/bash
user:x:1000:1000:user:/home/user:/bin/bash`,"/etc/hosts":`127.0.0.1 localhost
::1 localhost ip6-localhost ip6-loopback`},openFiles:{}},jr=e=>{if(e.startsWith("/"))return e;if(e===".."){const t=ve.currentDir.split("/");return t.length>1?t.slice(0,-1).join("/"):"/"}return e==="."?ve.currentDir:`${ve.currentDir}/${e}`},vy=e=>e?"drwxr-xr-x":"-rw-r--r--",my=e=>ve.fileContents[e]?ve.fileContents[e].length:4096,yy=()=>{const e=new Date;return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getDate().toString().padStart(2)} ${e.getHours()}:${e.getMinutes()}`},Bu=(e,t,r,i)=>{e.clear(),e.write("\x1B[H"),e.writeln(`  GNU nano                    ${t}                    `),e.writeln("".repeat(e.cols));const n=r.split(`
`);n.forEach(d=>{e.writeln(d)});const o=n.length,p=e.rows-o-6;p>0&&e.writeln(`
`.repeat(p)),e.writeln("".repeat(e.cols)),e.writeln("^G Get Help  ^O Write Out  ^W Where Is  ^K Cut Text  ^J Justify   ^C Cancel"),e.writeln("^X Exit      ^R Read File  ^ Replace   ^U Paste     ^T To Spell");const s=Math.floor(i/e.cols),a=i%e.cols;e.write(`\x1B[${s+3};${a+1}H`)},$f={pwd:{execute:async e=>{e.writeln(ve.currentDir),e.write("$ ")},description:"Print working directory"},ls:{execute:async(e,t)=>{const r=t.length>0?jr(t[0]):ve.currentDir,i=ve.files[r];if(!i){e.writeln(`ls: cannot access '${r}': No such file or directory`),e.write("$ ");return}if(t.includes("-l")){const n=i.length*4;e.writeln(`total ${n}`),i.forEach(o=>{const p=ve.files[`${r}/${o}`]!==void 0,s=vy(p),a=my(`${r}/${o}`),d=yy();e.writeln(`${s} user user ${a.toString().padStart(8)} ${d} ${o}`)})}else e.writeln(i.join("  "));e.write("$ ")},description:"List directory contents"},cd:{execute:async(e,t)=>{if(t.length===0)ve.currentDir="/home/user";else{const r=jr(t[0]);ve.files[r]?ve.currentDir=r:e.writeln(`cd: ${t[0]}: No such file or directory`)}e.write("$ ")},description:"Change directory"},cat:{execute:async(e,t)=>{if(t.length===0){e.writeln("cat: missing operand"),e.write("$ ");return}const r=jr(t[0]),i=ve.fileContents[r];i===void 0?e.writeln(`cat: ${t[0]}: No such file or directory`):e.writeln(i),e.write("$ ")},description:"Concatenate and print files"},clear:{execute:async e=>{e.clear(),e.write("$ ")},description:"Clear terminal screen"},mkdir:{execute:async(e,t)=>{if(t.length===0){e.writeln("mkdir: missing operand"),e.write("$ ");return}const r=jr(t[0]),i=r.substring(0,r.lastIndexOf("/")),n=r.substring(r.lastIndexOf("/")+1);ve.files[i]?ve.files[r]?e.writeln(`mkdir: cannot create directory '${t[0]}': File exists`):(ve.files[i].push(n),ve.files[r]=[]):e.writeln(`mkdir: cannot create directory '${t[0]}': No such file or directory`),e.write("$ ")},description:"Make directories"},touch:{execute:async(e,t)=>{if(t.length===0){e.writeln("touch: missing file operand"),e.write("$ ");return}const r=jr(t[0]),i=r.substring(0,r.lastIndexOf("/")),n=r.substring(r.lastIndexOf("/")+1);ve.files[i]?(ve.files[i].includes(n)||ve.files[i].push(n),ve.fileContents[r]||(ve.fileContents[r]="")):e.writeln(`touch: cannot touch '${t[0]}': No such file or directory`),e.write("$ ")},description:"Change file timestamps"},rm:{execute:async(e,t)=>{var o;if(t.length===0){e.writeln("rm: missing operand"),e.write("$ ");return}const r=jr(t[0]),i=r.substring(0,r.lastIndexOf("/")),n=r.substring(r.lastIndexOf("/")+1);(o=ve.files[i])!=null&&o.includes(n)?(ve.files[i]=ve.files[i].filter(p=>p!==n),delete ve.fileContents[r]):e.writeln(`rm: cannot remove '${t[0]}': No such file or directory`),e.write("$ ")},description:"Remove files or directories"},help:{execute:async e=>{e.writeln("Available commands:"),Object.entries($f).forEach(([t,r])=>{e.writeln(`  ${t.padEnd(12)}${r.description}`)}),e.write("$ ")},description:"Show this help message"},nano:{execute:async(e,t)=>{if(t.length===0){e.writeln("nano: missing filename"),e.write("$ ");return}const r=t[0],i=jr(r);if(!ve.openFiles[i]){const p=ve.fileContents[i]||"";ve.openFiles[i]={content:p,cursorPos:0}}const n=ve.openFiles[i];Bu(e,r,n.content,n.cursorPos);const o=e.onKey(({domEvent:p})=>{const s=p;if(s.ctrlKey){switch(s.key.toLowerCase()){case"x":o.dispose(),e.clear(),e.write("$ "),delete ve.openFiles[i];return;case"o":ve.fileContents[i]=n.content,e.writeln(`\r
File saved`);return}return}if(s.key==="Enter"){const a=n.content,d=n.cursorPos;n.content=a.slice(0,d)+`
`+a.slice(d),n.cursorPos=d+1}else if(s.key==="Backspace"){if(n.cursorPos>0){const a=n.content;n.content=a.slice(0,n.cursorPos-1)+a.slice(n.cursorPos),n.cursorPos--}}else if(s.key.length===1){const a=n.content;n.content=a.slice(0,n.cursorPos)+s.key+a.slice(n.cursorPos),n.cursorPos++}Bu(e,r,n.content,n.cursorPos)})},description:"Text editor"}},Sy=()=>{const e=ae.useRef(null),t=ae.useRef(null),r=ae.useRef(null),i=ae.useRef(""),n=ae.useRef(0),o=ae.useRef([]),p=ae.useRef(-1),s=async a=>{const d=t.current;if(!d)return;const _=a.trim();if(!_){d.write(`\r
$ `);return}o.current=[_,...o.current],p.current=-1;const[f,...v]=_.split(" "),w=$f[f.toLowerCase()];w?await w.execute(d,v):(d.writeln(`\r
Command not found: ${f}`),d.write("$ "))};return ae.useEffect(()=>{if(!e.current||t.current)return;(async()=>{const d=e.current;if(!d)return;(!d.offsetHeight||!d.offsetWidth)&&await new Promise(w=>{const C=new ResizeObserver(()=>{d.offsetHeight&&d.offsetWidth&&(C.disconnect(),w())});C.observe(d)});const _=new py.Terminal({theme:{background:"#1a1b26",foreground:"#a9b1d6",cursor:"#00fff2",cursorAccent:"#00fff2",black:"#32344a",blue:"#7aa2f7",cyan:"#00fff2",green:"#9ece6a",magenta:"#ad8ee6",red:"#f7768e",white:"#787c99",yellow:"#e0af68"},fontFamily:"JetBrains Mono, monospace",fontSize:14,cursorBlink:!0,allowTransparency:!0,convertEol:!0,rows:24,cols:80}),f=new _y.FitAddon;_.loadAddon(f),_.loadAddon(new gy.WebLinksAddon),d.innerHTML="",_.open(d),await new Promise(w=>setTimeout(w,0)),f.fit(),_.write(`Welcome to WEBSec Terminal\r
$ `);const v=()=>{_.write("\r\x1B[K$ "+i.current),n.current<i.current.length&&_.write("\x1B["+(i.current.length-n.current)+"D")};if(_.onKey(({key:w,domEvent:C})=>{const S=C,h=!S.altKey&&!S.ctrlKey&&!S.metaKey;S.keyCode===13?(_.write(`\r
`),s(i.current),i.current="",n.current=0):S.keyCode===8?n.current>0&&(i.current=i.current.slice(0,n.current-1)+i.current.slice(n.current),n.current--,v()):S.keyCode===46?n.current<i.current.length&&(i.current=i.current.slice(0,n.current)+i.current.slice(n.current+1),v()):S.keyCode===37?n.current>0&&(n.current--,_.write("\x1B[D")):S.keyCode===39?n.current<i.current.length&&(n.current++,_.write("\x1B[C")):S.keyCode===38?o.current.length>0&&p.current<o.current.length-1&&(p.current++,i.current=o.current[p.current],n.current=i.current.length,v()):S.keyCode===40?p.current>0?(p.current--,i.current=o.current[p.current],n.current=i.current.length,v()):p.current===0&&(p.current=-1,i.current="",n.current=0,v()):h&&w.length===1&&(i.current=i.current.slice(0,n.current)+w+i.current.slice(n.current),n.current++,v())}),t.current=_,r.current=f,d){const w=new ResizeObserver(()=>{if(d.offsetHeight&&d.offsetWidth)try{f.fit()}catch(C){console.error("Resize error:",C)}});return w.observe(d),()=>{w.disconnect(),_.dispose(),t.current=null,r.current=null}}})()},[]),D.jsxs("div",{className:"h-full bg-gray-900 overflow-hidden flex flex-col neo-panel",children:[D.jsxs("div",{className:"flex items-center p-2 bg-gray-800 border-b border-cyan-500",children:[D.jsx(Ao,{className:"text-cyan-500 mr-2",size:16}),D.jsx("h3",{className:"text-white font-medium",children:"Terminal"})]}),D.jsx("div",{className:"flex-1 min-h-0 p-1",children:D.jsx("div",{ref:e,className:"h-full w-full"})})]})},wy=()=>{const{activePanel:e,setActivePanel:t}=Tv(),r=[{id:"results",label:"Results"},{id:"security",label:"Security"},{id:"console",label:"Console"},{id:"config",label:"Config"},{id:"headers",label:"Headers"},{id:"terminal",label:"Terminal"}];return D.jsxs("div",{className:"h-full flex flex-col",children:[D.jsx("div",{className:"flex space-x-1 px-4 py-2 bg-gray-900 border-b border-cyan-500",children:r.map(i=>D.jsx("button",{onClick:()=>t(i.id),className:`px-3 py-1 rounded transition-colors ${e===i.id?"bg-cyan-500 text-black":"text-cyan-500 hover:bg-gray-800"}`,children:i.label},i.id))}),D.jsxs("div",{className:"flex-1 overflow-hidden",children:[e==="results"&&D.jsx(hf,{}),e==="security"&&D.jsx(Dv,{analysis:{headers:{},cookies:[],certificates:null}}),e==="console"&&D.jsx(l0,{}),e==="config"&&D.jsx(dy,{}),e==="headers"&&D.jsx(fy,{requestHeaders:{"User-Agent":"WEBSec Browser",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8","Accept-Language":"en-US,en;q=0.5","Accept-Encoding":"gzip, deflate, br",Connection:"keep-alive","Upgrade-Insecure-Requests":"1","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"none","Sec-Fetch-User":"?1"},responseHeaders:{}}),e==="terminal"&&D.jsx(Sy,{})]})]})};function Cy(){const{loadAllConfigs:e}=Mo(),{theme:t}=uf();return ae.useEffect(()=>{e()},[e]),D.jsxs("div",{className:`h-screen flex flex-col ${t==="dark"?"bg-gray-900 text-white":"bg-white text-gray-900"}`,children:[D.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-900 border-b border-cyan-500",children:[D.jsx(kv,{}),D.jsxs("div",{className:"flex items-center space-x-2",children:[D.jsx(Rv,{}),D.jsx(Lv,{})]})]}),D.jsx(pv,{}),D.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[D.jsx(yv,{}),D.jsxs("div",{className:"flex-1 flex flex-col",children:[D.jsx("div",{className:`flex-1 ${t==="dark"?"bg-gray-800":"bg-gray-100"} p-4`,children:D.jsx(bv,{})}),D.jsx(Ev,{defaultHeight:256,minHeight:150,maxHeight:800,children:D.jsx(wy,{})})]}),D.jsx(hf,{})]})]})}Yd(document.getElementById("root")).render(D.jsx(ae.StrictMode,{children:D.jsx(Cy,{})}));
